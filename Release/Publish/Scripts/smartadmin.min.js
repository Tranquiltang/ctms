function isTouchSupported(){var n=nAgt.msMaxTouchPoints,t="ontouchstart"in document.createElement("div");return n||t?!0:!1}function modal(n){return $.cModal(n)}function runAllForms(){$.fn.slider&&$(".slider").slider();$.fn.select2&&$("select.select2").each(function(){var n=$(this),t=n.attr("data-select-width")||"100%";n.select2({allowClear:!0,width:t});n=null});$.fn.mask&&$("[data-mask]").each(function(){var n=$(this),t=n.attr("data-mask")||"error...",i=n.attr("data-mask-placeholder")||"X";n.mask(t,{placeholder:i});n=null});$.fn.autocomplete&&$("[data-autocomplete]").each(function(){var n=$(this),t=n.data("autocomplete")||["The","Quick","Brown","Fox","Jumps","Over","Three","Lazy","Dogs"];n.autocomplete({source:t});n=null});$.fn.datepicker&&$(".datepicker").each(function(){var n=$(this),t=n.attr("data-dateformat")||"dd.mm.yy";n.datepicker({dateFormat:t,prevText:'<i class="fa fa-chevron-left"><\/i>',nextText:'<i class="fa fa-chevron-right"><\/i>'});n=null});$("button[data-loading-text]").on("click",function(){var n=$(this);n.button("loading");setTimeout(function(){n.button("reset");n=null},3e3)})}function runAllCharts(){if($.fn.sparkline){var v,n,r,y,p,w,u,f,b,i,k,d,g,nt,tt,it,e,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,sr,li,ai,vi,yi,pi,o,t,wi,bi,ki,di,gi,nr,tr,s,ir,h,c,rr,ur,l,a,fr,er,or;$(".sparkline:not(:has(>canvas))").each(function(){var hr=$(this),cr=hr.data("sparkline-type")||"bar",lr;cr=="bar"&&(v=hr.data("sparkline-bar-color")||hr.css("color")||"#0000f0",n=hr.data("sparkline-height")||"26px",r=hr.data("sparkline-barwidth")||5,y=hr.data("sparkline-barspacing")||2,p=hr.data("sparkline-negbar-color")||"#A90329",w=hr.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"],hr.sparkline("html",{barColor:v,type:cr,height:n,barWidth:r,barSpacing:y,stackedBarColor:w,negBarColor:p,zeroAxis:"false"}),hr=null);cr=="line"&&(n=hr.data("sparkline-height")||"20px",t=hr.data("sparkline-width")||"90px",u=hr.data("sparkline-line-color")||hr.css("color")||"#0000f0",f=hr.data("sparkline-line-width")||1,b=hr.data("fill-color")||"#c0d0f0",i=hr.data("sparkline-spot-color")||"#f08000",k=hr.data("sparkline-minspot-color")||"#ed1c24",d=hr.data("sparkline-maxspot-color")||"#f08000",g=hr.data("sparkline-highlightspot-color")||"#50f050",nt=hr.data("sparkline-highlightline-color")||"f02020",tt=hr.data("sparkline-spotradius")||1.5,thisChartMinYRange=hr.data("sparkline-min-y")||"undefined",thisChartMaxYRange=hr.data("sparkline-max-y")||"undefined",thisChartMinXRange=hr.data("sparkline-min-x")||"undefined",thisChartMaxXRange=hr.data("sparkline-max-x")||"undefined",thisMinNormValue=hr.data("min-val")||"undefined",thisMaxNormValue=hr.data("max-val")||"undefined",thisNormColor=hr.data("norm-color")||"#c0c0c0",thisDrawNormalOnTop=hr.data("draw-normal")||!1,hr.sparkline("html",{type:"line",width:t,height:n,lineWidth:f,lineColor:u,fillColor:b,spotColor:i,minSpotColor:k,maxSpotColor:d,highlightSpotColor:g,highlightLineColor:nt,spotRadius:tt,chartRangeMin:thisChartMinYRange,chartRangeMax:thisChartMaxYRange,chartRangeMinX:thisChartMinXRange,chartRangeMaxX:thisChartMaxXRange,normalRangeMin:thisMinNormValue,normalRangeMax:thisMaxNormValue,normalRangeColor:thisNormColor,drawNormalOnTop:thisDrawNormalOnTop}),hr=null);cr=="pie"&&(it=hr.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],e=hr.data("sparkline-piesize")||90,rt=hr.data("border-color")||"#45494C",ut=hr.data("sparkline-offset")||0,hr.sparkline("html",{type:"pie",width:e,height:e,tooltipFormat:'<span style="color: {{color}}">&#9679;<\/span> ({{percent.1}}%)',sliceColors:it,borderWidth:1,offset:ut,borderColor:rt}),hr=null);cr=="box"&&(ft=hr.data("sparkline-width")||"auto",et=hr.data("sparkline-height")||"auto",ot=hr.data("sparkline-boxraw")||!1,st=hr.data("sparkline-targetval")||"undefined",ht=hr.data("sparkline-min")||"undefined",ct=hr.data("sparkline-max")||"undefined",lt=hr.data("sparkline-showoutlier")||!0,at=hr.data("sparkline-outlier-iqr")||1.5,vt=hr.data("sparkline-spotradius")||1.5,yt=hr.css("color")||"#000000",pt=hr.data("fill-color")||"#c0d0f0",wt=hr.data("sparkline-whis-color")||"#000000",bt=hr.data("sparkline-outline-color")||"#303030",kt=hr.data("sparkline-outlinefill-color")||"#f0f0f0",dt=hr.data("sparkline-outlinemedian-color")||"#f00000",gt=hr.data("sparkline-outlinetarget-color")||"#40a020",hr.sparkline("html",{type:"box",width:ft,height:et,raw:ot,target:st,minValue:ht,maxValue:ct,showOutliers:lt,outlierIQR:at,spotRadius:vt,boxLineColor:yt,boxFillColor:pt,whiskerColor:wt,outlierLineColor:bt,outlierFillColor:kt,medianColor:dt,targetColor:gt}),hr=null);cr=="bullet"&&(lr=hr.data("sparkline-height")||"auto",ni=hr.data("sparkline-width")||2,ti=hr.data("sparkline-bullet-color")||"#ed1c24",ii=hr.data("sparkline-performance-color")||"#3030f0",ri=hr.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"],hr.sparkline("html",{type:"bullet",height:lr,targetWidth:ni,targetColor:ti,performanceColor:ii,rangeColors:ri}),hr=null);cr=="discrete"&&(ui=hr.data("sparkline-height")||26,fi=hr.data("sparkline-width")||50,ei=hr.css("color"),oi=hr.data("sparkline-line-height")||5,si=hr.data("sparkline-threshold")||"undefined",hi=hr.data("sparkline-threshold-color")||"#ed1c24",hr.sparkline("html",{type:"discrete",width:fi,height:ui,lineColor:ei,lineHeight:oi,thresholdValue:si,thresholdColor:hi}),hr=null);cr=="tristate"&&(ci=hr.data("sparkline-height")||26,sr=hr.data("sparkline-posbar-color")||"#60f060",li=hr.data("sparkline-negbar-color")||"#f04040",ai=hr.data("sparkline-zerobar-color")||"#909090",vi=hr.data("sparkline-barwidth")||5,yi=hr.data("sparkline-barspacing")||2,pi=hr.data("sparkline-zeroaxis")||!1,hr.sparkline("html",{type:"tristate",height:ci,posBarColor:o,negBarColor:li,zeroBarColor:ai,barWidth:vi,barSpacing:yi,zeroAxis:pi}),hr=null);cr=="compositebar"&&(n=hr.data("sparkline-height")||"20px",t=hr.data("sparkline-width")||"100%",r=hr.data("sparkline-barwidth")||3,f=hr.data("sparkline-line-width")||1,u=hr.data("data-sparkline-linecolor")||"#ed1c24",o=hr.data("data-sparkline-barcolor")||"#333333",hr.sparkline(hr.data("sparkline-bar-val"),{type:"bar",width:t,height:n,barColor:o,barWidth:r}),hr.sparkline(hr.data("sparkline-line-val"),{width:t,height:n,lineColor:u,lineWidth:f,composite:!0,fillColor:!1}),hr=null);cr=="compositeline"&&(n=hr.data("sparkline-height")||"20px",t=hr.data("sparkline-width")||"90px",wi=hr.data("sparkline-bar-val"),bi=hr.data("sparkline-bar-val-spots-top")||null,ki=hr.data("sparkline-bar-val-spots-bottom")||null,di=hr.data("sparkline-line-width-top")||1,gi=hr.data("sparkline-line-width-bottom")||1,nr=hr.data("sparkline-color-top")||"#333333",tr=hr.data("sparkline-color-bottom")||"#ed1c24",s=hr.data("sparkline-spotradius-top")||1.5,ir=hr.data("sparkline-spotradius-bottom")||s,i=hr.data("sparkline-spot-color")||"#f08000",h=hr.data("sparkline-minspot-color-top")||"#ed1c24",c=hr.data("sparkline-maxspot-color-top")||"#f08000",rr=hr.data("sparkline-minspot-color-bottom")||h,ur=hr.data("sparkline-maxspot-color-bottom")||c,l=hr.data("sparkline-highlightspot-color-top")||"#50f050",a=hr.data("sparkline-highlightline-color-top")||"#f02020",fr=hr.data("sparkline-highlightspot-color-bottom")||l,thisHighlightLineColor2=hr.data("sparkline-highlightline-color-bottom")||a,er=hr.data("sparkline-fillcolor-top")||"transparent",or=hr.data("sparkline-fillcolor-bottom")||"transparent",hr.sparkline(wi,{type:"line",spotRadius:s,spotColor:i,minSpotColor:h,maxSpotColor:c,highlightSpotColor:l,highlightLineColor:a,valueSpots:bi,lineWidth:di,width:t,height:n,lineColor:nr,fillColor:er}),hr.sparkline(hr.data("sparkline-line-val"),{type:"line",spotRadius:ir,spotColor:i,minSpotColor:rr,maxSpotColor:ur,highlightSpotColor:fr,highlightLineColor:thisHighlightLineColor2,valueSpots:ki,lineWidth:gi,width:t,height:n,lineColor:tr,composite:!0,fillColor:or}),hr=null)})}$.fn.easyPieChart&&$(".easy-pie-chart").each(function(){var n=$(this),i=n.css("color")||n.data("pie-color"),r=n.data("pie-track-color")||"rgba(0,0,0,0.04)",t=parseInt(n.data("pie-size"))||25;n.easyPieChart({barColor:i,trackColor:r,scaleColor:!1,lineCap:"butt",lineWidth:parseInt(t/8.5),animate:1500,rotate:-90,size:t,onStep:function(n,t,i){$(this.el).find(".percent").text(Math.round(i))}});n=null})}function setup_widgets_desktop(){$.fn.jarvisWidgets&&enableJarvisWidgets&&$("#widget-grid").jarvisWidgets({grid:"article",widgets:".jarviswidget",localStorage:localStorageJarvisWidgets,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:sortableJarvisWidgets,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone!",deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){alert("Hello you, this is a custom button...")},customEnd:function(){alert("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:$.navAsAjax})}function setup_widgets_mobile(){enableMobileWidgets&&enableJarvisWidgets&&setup_widgets_desktop()}function loadScript(n,t){if(jsArray[n])debugState&&root.root.console.log("This script was already loaded %c: "+n,debugStyle_warning);else{var r=jQuery.Deferred(),u=document.getElementsByTagName("body")[0],i=document.createElement("script");i.type="text/javascript";i.src=n;i.onload=function(){r.resolve()};u.appendChild(i);jsArray[n]=r.promise()}jsArray[n].then(function(){typeof t=="function"&&t()})}function checkURL(){var t=location.href.split("#").splice(1).join("#"),n,r,i;if(!t)try{n=window.document.URL;n&&n.indexOf("#",0)>0&&n.indexOf("#",0)<n.length+1&&(t=n.substring(n.indexOf("#",0)+1))}catch(u){}container=$("#content");t?($("nav li.active").removeClass("active"),$('nav li:has(a[href="'+t+'"])').addClass("active"),r=$('nav a[href="'+t+'"]').attr("title"),document.title=r||document.title,debugState&&root.console.log("Page title: %c "+document.title,debugStyle_green),loadURL(t+location.search,container)):(i=$('nav > ul > li:first-child > a[href!="#"]'),window.location.hash=i.attr("href"),i=null)}function loadURL(n,t){debugState&&root.root.console.log("Loading URL: %c"+n,debugStyle);$.ajax({type:"GET",url:n,dataType:"html",cache:!0,beforeSend:function(){var n,i,r;if($.navAsAjax&&$(".google_maps")[0]&&t[0]==$("#content")[0]&&(n=$(".google_maps"),i=0,n.each(function(){i++;var t=document.getElementById(this.id);i==n.length+1||(t&&t.parentNode.removeChild(t),debugState&&root.console.log("Destroying maps.........%c"+this.id,debugStyle_warning))}),debugState&&root.console.log("✔ Google map instances nuked!!!")),$.navAsAjax&&$(".dataTables_wrapper")[0]&&t[0]==$("#content")[0]&&(r=$.fn.dataTable.fnTables(!0),$(r).each(function(){$(this).find(".details-control").length!=0?($(this).find("*").addBack().off().remove(),$(this).dataTable().fnDestroy()):$(this).dataTable().fnDestroy()}),debugState&&root.console.log("✔ Datatable instances nuked!!!")),$.navAsAjax&&$.intervalArr.length>0&&t[0]==$("#content")[0]&&enableJarvisWidgets){while($.intervalArr.length>0)clearInterval($.intervalArr.pop());debugState&&root.console.log("✔ All JarvisWidget intervals cleared")}if($.navAsAjax&&t[0]==$("#content")[0]&&enableJarvisWidgets&&$("#widget-grid")[0]&&($("#widget-grid").jarvisWidgets("destroy"),debugState&&root.console.log("✔ JarvisWidgets destroyed")),$.navAsAjax&&t[0]==$("#content")[0]){if(typeof pagedestroy=="function")try{pagedestroy();debugState&&root.console.log("✔ Pagedestroy()")}catch(u){pagedestroy=undefined;debugState&&root.console.log("! Pagedestroy() Catch Error")}$.fn.sparkline&&$("#content .sparkline")[0]&&($("#content .sparkline").sparkline("destroy"),debugState&&root.console.log("✔ Sparkline Charts destroyed!"));$.fn.easyPieChart&&$("#content .easy-pie-chart")[0]&&($("#content .easy-pie-chart").easyPieChart("destroy"),debugState&&root.console.log("✔ EasyPieChart Charts destroyed!"));$.fn.select2&&$("#content select.select2")[0]&&($("#content select.select2").select2("destroy"),debugState&&root.console.log("✔ Select2 destroyed!"));$.fn.mask&&$("#content [data-mask]")[0]&&($("#content [data-mask]").unmask(),debugState&&root.console.log("✔ Input Mask destroyed!"));$.fn.datepicker&&$("#content .datepicker")[0]&&($("#content .datepicker").off(),$("#content .datepicker").remove(),debugState&&root.console.log("✔ Datepicker destroyed!"));$.fn.slider&&$("#content .slider")[0]&&($("#content .slider").off(),$("#content .slider").remove(),debugState&&root.console.log("✔ Bootstrap Slider destroyed!"))}pagefunction=null;t.removeData().html("");t.html('<h1 class="ajax-loading-animation"><i class="fa fa-cog fa-spin"><\/i> Loading...<\/h1>');t[0]==$("#content")[0]&&($("body").find("> *").filter(":not("+ignore_key_elms+")").empty().remove(),drawBreadCrumb(),$("html").animate({scrollTop:0},"fast"))},success:function(n){t.css({opacity:"0.0"}).html(n).delay(50).animate({opacity:"1.0"},300);n=null;t=null},error:function(i,r,u){t.html('<h4 class="ajax-loading-error"><i class="fa fa-warning txt-color-orangeDark"><\/i> Error requesting <span class="txt-color-red">'+n+"<\/span>: "+i.status+' <span style="text-transform: capitalize;">'+u+"<\/span><\/h4>")},async:!0})}function drawBreadCrumb(n){var t=$("nav li.active > a"),i=t.length;bread_crumb.empty();bread_crumb.append($("<li>Home<\/li>"));t.each(function(){bread_crumb.append($("<li><\/li>").html($.trim($(this).clone().children(".badge").remove().end().text())));--i||(document.title=bread_crumb.find("li:last-child").text())});n!=undefined&&$.each(n,function(n,t){bread_crumb.append($("<li><\/li>").html(t));document.title=bread_crumb.find("li:last-child").text()})}function pageSetUp(){thisDevice==="desktop"?($("[rel=tooltip], [data-rel=tooltip]").tooltip(),$("[rel=popover], [data-rel=popover]").popover(),$("[rel=popover-hover], [data-rel=popover-hover]").popover({trigger:"hover"}),setup_widgets_desktop(),runAllCharts(),runAllForms()):($("[rel=popover], [data-rel=popover]").popover(),$("[rel=popover-hover], [data-rel=popover-hover]").popover({trigger:"hover"}),runAllCharts(),setup_widgets_mobile(),runAllForms())}function getParam(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i),t=r.exec(window.location.href);return t==null?"":t[1]}var commands,nAgt,getOS,nameOffset,verOffset,ix,start,end,ie,gMapsLoaded;$.root_=$("body");$.navAsAjax=!1;$.sound_path="/content/sound/";$.sound_on=!0;var root=this,debugState=!1,debugStyle="font-weight: bold; color: #00f;",debugStyle_green="font-weight: bold; font-style:italic; color: #46C246;",debugStyle_red="font-weight: bold; color: #ed1c24;",debugStyle_warning="background-color:yellow",debugStyle_success="background-color:green; font-weight:bold; color:#fff;",debugStyle_error="background-color:#ed1c24; font-weight:bold; color:#fff;",throttle_delay=350,menu_speed=235,menu_accordion=!0,enableJarvisWidgets=!0,localStorageJarvisWidgets=!0,sortableJarvisWidgets=!0,enableMobileWidgets=!1,fastClick=!1,boxList=[],showList=[],nameList=[],idList=[],chatbox_config={width:200,gap:35},ignore_key_elms=["#header, #left-panel, #right-panel, #main, div.page-footer, #shortcut, #divSmallBoxes, #divMiniIcons, #divbigBoxes, #voiceModal, script, .ui-chatbox"],voice_command=!0,voice_command_auto=!1,voice_command_lang="en-US",voice_localStorage=!0;voice_command&&(commands={"show dashboard":function(){$('nav a[href="dashboard.html"]').trigger("click")},"show inbox":function(){$('nav a[href="inbox.html"]').trigger("click")},"show graphs":function(){$('nav a[href="flot.html"]').trigger("click")},"show flotchart":function(){$('nav a[href="flot.html"]').trigger("click")},"show morris chart":function(){$('nav a[href="morris.html"]').trigger("click")},"show inline chart":function(){$('nav a[href="inline-charts.html"]').trigger("click")},"show dygraphs":function(){$('nav a[href="dygraphs.html"]').trigger("click")},"show tables":function(){$('nav a[href="table.html"]').trigger("click")},"show data table":function(){$('nav a[href="datatables.html"]').trigger("click")},"show jquery grid":function(){$('nav a[href="jqgrid.html"]').trigger("click")},"show form":function(){$('nav a[href="form-elements.html"]').trigger("click")},"show form layouts":function(){$('nav a[href="form-templates.html"]').trigger("click")},"show form validation":function(){$('nav a[href="validation.html"]').trigger("click")},"show form elements":function(){$('nav a[href="bootstrap-forms.html"]').trigger("click")},"show form plugins":function(){$('nav a[href="plugins.html"]').trigger("click")},"show form wizards":function(){$('nav a[href="wizards.html"]').trigger("click")},"show bootstrap editor":function(){$('nav a[href="other-editors.html"]').trigger("click")},"show dropzone":function(){$('nav a[href="dropzone.html"]').trigger("click")},"show image cropping":function(){$('nav a[href="image-editor.html"]').trigger("click")},"show general elements":function(){$('nav a[href="general-elements.html"]').trigger("click")},"show buttons":function(){$('nav a[href="buttons.html"]').trigger("click")},"show fontawesome":function(){$('nav a[href="fa.html"]').trigger("click")},"show glyph icons":function(){$('nav a[href="glyph.html"]').trigger("click")},"show flags":function(){$('nav a[href="flags.html"]').trigger("click")},"show grid":function(){$('nav a[href="grid.html"]').trigger("click")},"show tree view":function(){$('nav a[href="treeview.html"]').trigger("click")},"show nestable lists":function(){$('nav a[href="nestable-list.html"]').trigger("click")},"show jquery U I":function(){$('nav a[href="jqui.html"]').trigger("click")},"show typography":function(){$('nav a[href="typography.html"]').trigger("click")},"show calendar":function(){$('nav a[href="calendar.html"]').trigger("click")},"show widgets":function(){$('nav a[href="widgets.html"]').trigger("click")},"show gallery":function(){$('nav a[href="gallery.html"]').trigger("click")},"show maps":function(){$('nav a[href="gmap-xml.html"]').trigger("click")},"show pricing tables":function(){$('nav a[href="pricing-table.html"]').trigger("click")},"show invoice":function(){$('nav a[href="invoice.html"]').trigger("click")},"show search":function(){$('nav a[href="search.html"]').trigger("click")},"go back":function(){history.back(1)},"scroll up":function(){$("html, body").animate({scrollTop:0},100)},"scroll down":function(){$("html, body").animate({scrollTop:$(document).height()},100)},"hide navigation":function(){$.root_.hasClass("container")&&!$.root_.hasClass("menu-on-top")?$("span.minifyme").trigger("click"):$("#hide-menu > span > a").trigger("click")},"show navigation":function(){$.root_.hasClass("container")&&!$.root_.hasClass("menu-on-top")?$("span.minifyme").trigger("click"):$("#hide-menu > span > a").trigger("click")},mute:function(){$.sound_on=!1;$.smallBox({title:"MUTE",content:"All sounds have been muted!",color:"#a90329",timeout:4e3,icon:"fa fa-volume-off"})},"sound on":function(){$.sound_on=!0;$.speechApp.playConfirmation();$.smallBox({title:"UNMUTE",content:"All sounds have been turned on!",color:"#40ac2b",sound_file:"voice_alert",timeout:5e3,icon:"fa fa-volume-up"})},stop:function(){smartSpeechRecognition.abort();$.root_.removeClass("voice-command-active");$.smallBox({title:"VOICE COMMAND OFF",content:"Your voice commands has been successfully turned off. Click on the <i class='fa fa-microphone fa-lg fa-fw'><\/i> icon to turn it back on.",color:"#40ac2b",sound_file:"voice_off",timeout:8e3,icon:"fa fa-microphone-slash"});$("#speech-btn .popover").is(":visible")&&$("#speech-btn .popover").fadeOut(250)},help:function(){$("#voiceModal").removeData("modal").modal({remote:"ajax/modal-content/modal-voicecommand.html",show:!0});$("#speech-btn .popover").is(":visible")&&$("#speech-btn .popover").fadeOut(250)},"got it":function(){$("#voiceModal").modal("hide")},logout:function(){$.speechApp.stop();window.location=$("#logout > span > a").attr("href")}});
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(n){function t(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(r)}}if(n.support.touch="ontouchend"in document,n.support.touch){var r,i=n.ui.mouse.prototype,u=i._mouseInit,f=i._mouseDestroy;i._touchStart=function(n){var i=this;!r&&i._mouseCapture(n.originalEvent.changedTouches[0])&&(r=!0,i._touchMoved=!1,t(n,"mouseover"),t(n,"mousemove"),t(n,"mousedown"))};i._touchMove=function(n){r&&(this._touchMoved=!0,t(n,"mousemove"))};i._touchEnd=function(n){r&&(t(n,"mouseup"),t(n,"mouseout"),this._touchMoved||t(n,"click"),r=!1)};i._mouseInit=function(){var t=this;t.element.bind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});u.call(t)};i._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});f.call(t)}}}(jQuery);!function(n,t,i){function f(t,i){this.obj=n(t);this.o=n.extend({},n.fn[r].defaults,i);this.objId=this.obj.attr("id");this.pwCtrls=".jarviswidget-ctrls";this.widget=this.obj.find(this.o.widgets);this.toggleClass=this.o.toggleClass.split("|");this.editClass=this.o.editClass.split("|");this.fullscreenClass=this.o.fullscreenClass.split("|");this.customClass=this.o.customClass.split("|");this.storage={enabled:this.o.localStorage};this.initialized=!1;this.init()}var r="jarvisWidgets",u=("ontouchstart"in t||t.DocumentTouch&&i instanceof DocumentTouch?"clickEvent":"click")+"."+r;f.prototype={_runLoaderWidget:function(n){var t=this;!0===t.o.indicator&&n.parents(t.o.widgets).find(".jarviswidget-loader:first").stop(!0,!0).fadeIn(100).delay(t.o.indicatorTime).fadeOut(100)},_getPastTimestamp:function(n){var o=this,t=new Date(n),i=t.getMonth()+1,r=t.getDate(),s=t.getFullYear(),u=t.getHours(),f=t.getMinutes(),e=t.getUTCSeconds();return i<10&&(i="0"+i),r<10&&(r="0"+r),u<10&&(u="0"+u),f<10&&(f="0"+f),e<10&&(e="0"+e),o.o.timestampFormat.replace(/%d%/g,r).replace(/%m%/g,i).replace(/%y%/g,s).replace(/%h%/g,u).replace(/%i%/g,f).replace(/%s%/g,e)},_loadAjaxFile:function(t,i,r){var u=this;t.find(".widget-body").load(i,function(i,r,f){var o=n(this),e;("error"==r&&o.html('<h4 class="alert alert-danger">'+u.o.labelError+"<b> "+f.status+" "+f.statusText+"<\/b><\/h4>"),"success"==r)&&(e=t.find(u.o.timestampPlaceholder),e.length&&e.html(u._getPastTimestamp(new Date)),"function"==typeof u.o.afterLoad&&u.o.afterLoad.call(this,t));u=null});this._runLoaderWidget(r)},_loadKeys:function(){var n=this,t;!0===n.o.ajaxnav?(t=location.hash.replace(/^#/,""),n.storage.keySettings="Plugin_settings_"+t+"_"+n.objId,n.storage.keyPosition="Plugin_position_"+t+"_"+n.objId):!1===n.initialized&&(t=n.o.pageKey||location.pathname,n.storage.keySettings="jarvisWidgets_settings_"+t+"_"+n.objId,n.storage.keyPosition="jarvisWidgets_position_"+t+"_"+n.objId)},_saveSettingsWidget:function(){var t=this,i=t.storage,u,r;t._loadKeys();u=t.obj.find(t.o.widgets).map(function(){var t={};return t.id=n(this).attr("id"),t.style=n(this).attr("data-widget-attstyle"),t.title=n(this).children("header").children("h2").text(),t.hidden="none"==n(this).css("display")?1:0,t.collapsed=n(this).hasClass("jarviswidget-collapsed")?1:0,t}).get();r=JSON.stringify({widget:u});i.enabled&&i.getKeySettings!=r&&(localStorage.setItem(i.keySettings,r),i.getKeySettings=r);"function"==typeof t.o.onSave&&t.o.onSave.call(this,null,r,i.keySettings)},_savePositionWidget:function(){var t=this,i=t.storage,u,r;t._loadKeys();u=t.obj.find(t.o.grid+".sortable-grid").map(function(){return{section:n(this).children(t.o.widgets).map(function(){return{id:n(this).attr("id")}}).get()}}).get();r=JSON.stringify({grid:u});i.enabled&&i.getKeyPosition!=r&&(localStorage.setItem(i.keyPosition,r),i.getKeyPosition=r);"function"==typeof t.o.onSave&&t.o.onSave.call(this,r,i.keyPosition)},init:function(){var t=this,o,h,c,f,i,e,s;if(!t.initialized){if(t._initStorage(t.storage),n("#"+t.objId).length||alert("It looks like your using a class instead of an ID, dont do that!"),!0===t.o.rtl&&n("body").addClass("rtl"),n(t.o.grid).each(function(){n(this).find(t.o.widgets).length&&n(this).addClass("sortable-grid")}),t.storage.enabled&&t.storage.getKeyPosition){o=JSON.parse(t.storage.getKeyPosition);for(i in o.grid){h=t.obj.find(t.o.grid+".sortable-grid").eq(i);for(c in o.grid[i].section)h.append(n("#"+o.grid[i].section[c].id))}}if(t.storage.enabled&&t.storage.getKeySettings){f=JSON.parse(t.storage.getKeySettings);for(i in f.widget)e=n("#"+f.widget[i].id),f.widget[i].style&&e.removeClassPrefix("jarviswidget-color-").addClass(f.widget[i].style).attr("data-widget-attstyle",""+f.widget[i].style),1==f.widget[i].hidden?e.hide(1):e.show(1).removeAttr("data-widget-hidden"),1==f.widget[i].collapsed&&e.addClass("jarviswidget-collapsed").children("div").hide(1),e.children("header").children("h2").text()!=f.widget[i].title&&e.children("header").children("h2").text(f.widget[i].title)}(t.widget.each(function(){var u,f,e,o,s,h,c,i=n(this),r=n(this).children("header"),l;r.parent().attr("role")||(!0===i.data("widget-hidden")&&i.hide(),!0===i.data("widget-collapsed")&&i.addClass("jarviswidget-collapsed").children("div").hide(),u=!0===t.o.customButton&&void 0===i.data("widget-custombutton")&&0!==t.customClass[0].length?'<a href="javascript:void(0);" class="button-icon jarviswidget-custom-btn"><i class="'+t.customClass[0]+'"><\/i><\/a>':"",f=!0===t.o.deleteButton&&void 0===i.data("widget-deletebutton")?'<a href="javascript:void(0);" class="button-icon jarviswidget-delete-btn" rel="tooltip" title="Delete" data-placement="bottom"><i class="'+t.o.deleteClass+'"><\/i><\/a>':"",e=!0===t.o.editButton&&void 0===i.data("widget-editbutton")?'<a href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit" data-placement="bottom"><i class="'+t.editClass[0]+'"><\/i><\/a>':"",o=!0===t.o.fullscreenButton&&void 0===i.data("widget-fullscreenbutton")?'<a href="javascript:void(0);" class="button-icon jarviswidget-fullscreen-btn" rel="tooltip" title="Fullscreen" data-placement="bottom"><i class="'+t.fullscreenClass[0]+'"><\/i><\/a>':"",!0===t.o.colorButton&&void 0===i.data("widget-colorbutton")?(s='<a data-toggle="dropdown" class="dropdown-toggle color-box selector" href="javascript:void(0);"><\/a><ul class="dropdown-menu arrow-box-up-right color-select pull-right"><li><span class="bg-color-green" data-widget-setstyle="jarviswidget-color-green" rel="tooltip" data-placement="left" data-original-title="Green Grass"><\/span><\/li><li><span class="bg-color-greenDark" data-widget-setstyle="jarviswidget-color-greenDark" rel="tooltip" data-placement="top" data-original-title="Dark Green"><\/span><\/li><li><span class="bg-color-greenLight" data-widget-setstyle="jarviswidget-color-greenLight" rel="tooltip" data-placement="top" data-original-title="Light Green"><\/span><\/li><li><span class="bg-color-purple" data-widget-setstyle="jarviswidget-color-purple" rel="tooltip" data-placement="top" data-original-title="Purple"><\/span><\/li><li><span class="bg-color-magenta" data-widget-setstyle="jarviswidget-color-magenta" rel="tooltip" data-placement="top" data-original-title="Magenta"><\/span><\/li><li><span class="bg-color-pink" data-widget-setstyle="jarviswidget-color-pink" rel="tooltip" data-placement="right" data-original-title="Pink"><\/span><\/li><li><span class="bg-color-pinkDark" data-widget-setstyle="jarviswidget-color-pinkDark" rel="tooltip" data-placement="left" data-original-title="Fade Pink"><\/span><\/li><li><span class="bg-color-blueLight" data-widget-setstyle="jarviswidget-color-blueLight" rel="tooltip" data-placement="top" data-original-title="Light Blue"><\/span><\/li><li><span class="bg-color-teal" data-widget-setstyle="jarviswidget-color-teal" rel="tooltip" data-placement="top" data-original-title="Teal"><\/span><\/li><li><span class="bg-color-blue" data-widget-setstyle="jarviswidget-color-blue" rel="tooltip" data-placement="top" data-original-title="Ocean Blue"><\/span><\/li><li><span class="bg-color-blueDark" data-widget-setstyle="jarviswidget-color-blueDark" rel="tooltip" data-placement="top" data-original-title="Night Sky"><\/span><\/li><li><span class="bg-color-darken" data-widget-setstyle="jarviswidget-color-darken" rel="tooltip" data-placement="right" data-original-title="Night"><\/span><\/li><li><span class="bg-color-yellow" data-widget-setstyle="jarviswidget-color-yellow" rel="tooltip" data-placement="left" data-original-title="Day Light"><\/span><\/li><li><span class="bg-color-orange" data-widget-setstyle="jarviswidget-color-orange" rel="tooltip" data-placement="bottom" data-original-title="Orange"><\/span><\/li><li><span class="bg-color-orangeDark" data-widget-setstyle="jarviswidget-color-orangeDark" rel="tooltip" data-placement="bottom" data-original-title="Dark Orange"><\/span><\/li><li><span class="bg-color-red" data-widget-setstyle="jarviswidget-color-red" rel="tooltip" data-placement="bottom" data-original-title="Red Rose"><\/span><\/li><li><span class="bg-color-redLight" data-widget-setstyle="jarviswidget-color-redLight" rel="tooltip" data-placement="bottom" data-original-title="Light Red"><\/span><\/li><li><span class="bg-color-white" data-widget-setstyle="jarviswidget-color-white" rel="tooltip" data-placement="right" data-original-title="Purity"><\/span><\/li><li><a href="javascript:void(0);" class="jarviswidget-remove-colors" data-widget-setstyle="" rel="tooltip" data-placement="bottom" data-original-title="Reset widget color to default">Remove<\/a><\/li><\/ul>',r.prepend('<div class="widget-toolbar">'+s+"<\/div>")):s="",h=!0===t.o.toggleButton&&void 0===i.data("widget-togglebutton")?'<a href="javascript:void(0);" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="Collapse" data-placement="bottom"><i class="'+(!0===i.data("widget-collapsed")||i.hasClass("jarviswidget-collapsed")?t.toggleClass[1]:t.toggleClass[0])+'"><\/i><\/a>':"",c=!0===t.o.refreshButton&&!1!==i.data("widget-refreshbutton")&&i.data("widget-load")?'<a href="javascript:void(0);" class="button-icon jarviswidget-refresh-btn" data-loading-text="&nbsp;&nbsp;Loading...&nbsp;" rel="tooltip" title="Refresh" data-placement="bottom"><i class="'+t.o.refreshButtonClass+'"><\/i><\/a>':"",l=t.o.buttonOrder.replace(/%refresh%/g,c).replace(/%delete%/g,f).replace(/%custom%/g,u).replace(/%fullscreen%/g,o).replace(/%edit%/g,e).replace(/%toggle%/g,h),""===c&&""===f&&""===u&&""===o&&""===e&&""===h||r.prepend('<div class="jarviswidget-ctrls">'+l+"<\/div>"),!0===t.o.sortable&&void 0===i.data("widget-sortable")&&i.addClass("jarviswidget-sortable"),i.find(t.o.editPlaceholder).length&&i.find(t.o.editPlaceholder).find("input").val(n.trim(r.children("h2").text())),r.append('<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"><\/i><\/span>'),i.attr("role","widget").children("div").attr("role","content").prev("header").attr("role","heading").children("div").attr("role","menu"))}),!0===t.o.buttonsHidden&&n(t.o.pwCtrls).hide(),n(".jarviswidget header [rel=tooltip]").tooltip(),t.obj.find("[data-widget-load]").each(function(){var i=n(this),r=i.children(),u=i.data("widget-load"),f=1e3*i.data("widget-refresh");i.children();i.find(".jarviswidget-ajax-placeholder").length||(i.children("widget-body").append('<div class="jarviswidget-ajax-placeholder">'+t.o.loadingLabel+"<\/div>"),i.data("widget-refresh")>0?(t._loadAjaxFile(i,u,r),n.intervalArr.push(setInterval(function(){t._loadAjaxFile(i,u,r)},f))):t._loadAjaxFile(i,u,r))}),!0===t.o.sortable&&jQuery.ui)&&(s=t.obj.find(t.o.grid+".sortable-grid").not("[data-widget-excludegrid]"),s.sortable({items:s.find(t.o.widgets+".jarviswidget-sortable"),connectWith:s,placeholder:t.o.placeholderClass,cursor:"move",revert:!0,opacity:t.o.opacity,delay:200,cancel:".button-icon, #jarviswidget-fullscreen-mode > div",zIndex:1e4,handle:t.o.dragHandle,forcePlaceholderSize:!0,forceHelperSize:!0,update:function(n,i){t._runLoaderWidget(i.item.children());t._savePositionWidget();"function"==typeof t.o.onChange&&t.o.onChange.call(this,i.item)}}));!0===t.o.buttonsHidden&&t.widget.children("header").on("mouseenter."+r,function(){n(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,1)}).on("mouseleave."+r,function(){n(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,0)});t._clickEvents();t.storage.enabled&&(n(t.o.deleteSettingsKey).on(u,this,function(n){confirm(t.o.settingsKeyLabel)&&localStorage.removeItem(keySettings);n.preventDefault()}),n(t.o.deletePositionKey).on(u,this,function(n){confirm(t.o.positionKeyLabel)&&localStorage.removeItem(keyPosition);n.preventDefault()}));initialized=!0}},_initStorage:function(n){n.enabled=n.enabled&&!!function(){var t,n=+new Date;try{return localStorage.setItem(n,n),t=localStorage.getItem(n)==n,localStorage.removeItem(n),t}catch(t){}}();this._loadKeys();n.enabled&&(n.getKeySettings=localStorage.getItem(n.keySettings),n.getKeyPosition=localStorage.getItem(n.keyPosition))},_clickEvents:function(){function e(){if(n("#jarviswidget-fullscreen-mode").length){var r=n(t).height(),u=n("#jarviswidget-fullscreen-mode").children(i.o.widgets).children("header").height();n("#jarviswidget-fullscreen-mode").children(i.o.widgets).children("div").height(r-u-15)}}var i=this,f=i.widget.children("header");f.on(u,".jarviswidget-toggle-btn",function(t){var r=n(this),u=r.parents(i.o.widgets);i._runLoaderWidget(r);u.hasClass("jarviswidget-collapsed")?r.children().removeClass(i.toggleClass[1]).addClass(i.toggleClass[0]).parents(i.o.widgets).removeClass("jarviswidget-collapsed").children("[role=content]").slideDown(i.o.toggleSpeed,function(){i._saveSettingsWidget()}):r.children().removeClass(i.toggleClass[0]).addClass(i.toggleClass[1]).parents(i.o.widgets).addClass("jarviswidget-collapsed").children("[role=content]").slideUp(i.o.toggleSpeed,function(){i._saveSettingsWidget()});"function"==typeof i.o.onToggle&&i.o.onToggle.call(this,u);t.preventDefault()});f.on(u,".jarviswidget-fullscreen-btn",function(t){var r=n(this).parents(i.o.widgets),u=r.children("div");i._runLoaderWidget(n(this));n("#jarviswidget-fullscreen-mode").length?(n(".nooverflow").removeClass("nooverflow"),r.unwrap("#jarviswidget-fullscreen-mode").children("div").removeAttr("style").end().find(".jarviswidget-fullscreen-btn:first").children().removeClass(i.fullscreenClass[1]).addClass(i.fullscreenClass[0]).parents(i.pwCtrls).children("a").show(),u.hasClass("jarviswidget-visible")&&u.hide().removeClass("jarviswidget-visible")):(n("body").addClass("nooverflow"),r.wrap('<div id="jarviswidget-fullscreen-mode"/>').parent().find(".jarviswidget-fullscreen-btn:first").children().removeClass(i.fullscreenClass[0]).addClass(i.fullscreenClass[1]).parents(i.pwCtrls).children("a:not(.jarviswidget-fullscreen-btn)").hide(),u.is(":hidden")&&u.show().addClass("jarviswidget-visible"));e();"function"==typeof i.o.onFullscreen&&i.o.onFullscreen.call(this,r);t.preventDefault()});n(t).on("resize."+r,function(){e()});f.on(u,".jarviswidget-edit-btn",function(t){var r=n(this).parents(i.o.widgets);i._runLoaderWidget(n(this));r.find(i.o.editPlaceholder).is(":visible")?n(this).children().removeClass(i.editClass[1]).addClass(i.editClass[0]).parents(i.o.widgets).find(i.o.editPlaceholder).slideUp(i.o.editSpeed,function(){i._saveSettingsWidget()}):n(this).children().removeClass(i.editClass[0]).addClass(i.editClass[1]).parents(i.o.widgets).find(i.o.editPlaceholder).slideDown(i.o.editSpeed);"function"==typeof i.o.onEdit&&i.o.onEdit.call(this,r);t.preventDefault()});n(i.o.editPlaceholder).find("input").keyup(function(){n(this).parents(i.o.widgets).children("header").children("h2").text(n(this).val())});f.on(u,"[data-widget-setstyle]",function(t){var r=n(this).data("widget-setstyle"),u="";n(this).parents(i.o.editPlaceholder).find("[data-widget-setstyle]").each(function(){u+=n(this).data("widget-setstyle")+" "});n(this).parents(i.o.widgets).attr("data-widget-attstyle",""+r).removeClassPrefix("jarviswidget-color-").addClass(r);i._runLoaderWidget(n(this));i._saveSettingsWidget();t.preventDefault()});f.on(u,".jarviswidget-custom-btn",function(t){var r=n(this).parents(i.o.widgets);i._runLoaderWidget(n(this));n(this).children("."+i.customClass[0]).length?(n(this).children().removeClass(i.customClass[0]).addClass(i.customClass[1]),"function"==typeof i.o.customStart&&i.o.customStart.call(this,r)):(n(this).children().removeClass(i.customClass[1]).addClass(i.customClass[0]),"function"==typeof i.o.customEnd&&i.o.customEnd.call(this,r));i._saveSettingsWidget();t.preventDefault()});f.on(u,".jarviswidget-delete-btn",function(t){var r=n(this).parents(i.o.widgets),u=r.attr("id"),f=r.children("header").children("h2").text();n.SmartMessageBox?n.SmartMessageBox({title:"<i class='fa fa-times' style='color:#ed1c24'><\/i> "+i.o.labelDelete+' "'+f+'"',content:i.o.deleteMsg,buttons:"[No][Yes]"},function(t){"Yes"==t&&(i._runLoaderWidget(n(this)),n("#"+u).fadeOut(i.o.deleteSpeed,function(){n(this).remove();"function"==typeof i.o.onDelete&&i.o.onDelete.call(this,r)}))}):n("#"+u).fadeOut(i.o.deleteSpeed,function(){n(this).remove();"function"==typeof i.o.onDelete&&i.o.onDelete.call(this,r)});t.preventDefault()});f.on(u,".jarviswidget-refresh-btn",function(t){var r=n(this).parents(i.o.widgets),e=r.data("widget-load"),u=r.children(),f=n(this);f.button("loading");u.addClass("widget-body-ajax-loading");setTimeout(function(){f.button("reset");u.removeClass("widget-body-ajax-loading");i._loadAjaxFile(r,e,u)},1e3);t.preventDefault()});f=null},destroy:function(){var i=this,u="."+r;i.obj.find(i.o.grid+".sortable-grid").not("[data-widget-excludegrid]").sortable("destroy");i.widget.children("header").off(u);n(i.o.deleteSettingsKey).off(u);n(i.o.deletePositionKey).off(u);n(t).off(u);i.obj.removeData(r)}};n.fn[r]=function(t){return this.each(function(){var u=n(this),i=u.data(r),e;i||(e="object"==typeof t&&t,u.data(r,i=new f(this,e)));"string"==typeof t&&i[t]()})};n.fn[r].defaults={grid:"section",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"",settingsKeyLabel:"Reset settings?",deletePositionKey:"",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"min-10 | plus-10",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone",deleteClass:"trashcan-10",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"pencil-10 | delete-10",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fullscreen-10 | normalscreen-10",fullscreenDiff:3,onFullscreen:function(){},customButton:!0,customClass:"",customStart:function(){},customEnd:function(){},buttonOrder:"%refresh% %delete% %custom% %edit% %fullscreen% %toggle%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,loadingLabel:"loading...",timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"refresh-10",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0};n.fn.removeClassPrefix=function(t){return this.each(function(i,r){var u=r.className.split(" ").map(function(n){return 0===n.indexOf(t)?"":n});r.className=n.trim(u.join(" "))}),this}}(jQuery,window,document);
/*!
 * jQuery Form Plugin
 * version: 4.2.2
 * Requires jQuery v1.7.2 or later
 * Project repository: https://github.com/jquery-form/form
 * Copyright 2017 Kevin Morris
 * Copyright 2006 M. Alsup
 * Dual licensed under the LGPL-2.1+ or MIT licenses
 * https://github.com/jquery-form/form#license
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 */
!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(i),i}:n(jQuery)}(function(n){"use strict";function r(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(t.target).closest("form").ajaxSubmit(i))}function u(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),0===f.length)return;r=f[0]}i=r.form;(i.clk=r,"image"===r.type)&&(void 0!==t.offsetX?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):"function"==typeof n.fn.offset?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var e=/\r?\n/g,i={},f;i.fileapi=void 0!==n('<input type="file">').get(0).files;i.formdata=void 0!==window.FormData;f=!!n.fn.prop;n.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||"string"==typeof n?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(r,u,e,o){function ct(t){for(var f,u=n.param(t,r.traditional).split("&"),o=u.length,e=[],i=0;i<o;i++)u[i]=u[i].replace(/\+/g," "),f=u[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}function tt(i){function ft(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(n){t("cannot get iframe.contentWindow document: "+n)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function et(){function f(){try{var n=ft(c).readyState;t("state = "+n);n&&"uninitialized"===n.toLowerCase()&&setTimeout(f,50)}catch(n){t("Server abort: ",n," (",n.name,")");p(ut);g&&clearTimeout(g);g=void 0}}var e=s.attr2("target"),o=s.attr2("action"),a=s.attr("enctype")||s.attr("encoding")||"multipart/form-data",r,i;h.setAttribute("target",k);l&&!/post/i.test(l)||h.setAttribute("method","POST");o!==u.url&&h.setAttribute("action",u.url);u.skipEncodingOverride||l&&!/post/i.test(l)||s.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});u.timeout&&(g=setTimeout(function(){rt=!0;p(st)},u.timeout));r=[];try{if(u.extraData)for(i in u.extraData)u.extraData.hasOwnProperty(i)&&(n.isPlainObject(u.extraData[i])&&u.extraData[i].hasOwnProperty("name")&&u.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+u.extraData[i].name+'">',nt).val(u.extraData[i].value).appendTo(h)[0]):r.push(n('<input type="hidden" name="'+i+'">',nt).val(u.extraData[i]).appendTo(h)[0]));u.iframeTarget||y.appendTo(ot);c.attachEvent?c.attachEvent("onload",p):c.addEventListener("load",p,!1);setTimeout(f,15);try{h.submit()}catch(n){document.createElement("form").submit.apply(h)}}finally{h.setAttribute("action",o);h.setAttribute("enctype",a);e?h.setAttribute("target",e):s.removeAttr("target");n(r).remove()}}function p(i){var f,r,b,s,k,d,h,l,a;if(!e.aborted&&!at){if((o=ft(c))||(t("cannot access response document"),i=ut),i===st&&e)return e.abort("timeout"),void v.reject(e,"timeout");if(i===ut&&e)return e.abort("server abort"),void v.reject(e,"error","server abort");if(o&&o.location.href!==u.iframeSrc||rt){c.detachEvent?c.detachEvent("onload",p):c.removeEventListener("load",p,!1);r="success";try{if(rt)throw"timeout";if(b="xml"===u.dataType||o.XMLDocument||n.isXMLDoc(o),t("isXml="+b),!b&&window.opera&&(null===o.body||!o.body.innerHTML)&&--vt)return t("requeing onLoad callback, DOM not available"),void setTimeout(p,250);s=o.body?o.body:o.documentElement;e.responseText=s?s.innerHTML:null;e.responseXML=o.XMLDocument?o.XMLDocument:o;b&&(u.dataType="xml");e.getResponseHeader=function(n){return{"content-type":u.dataType}[n.toLowerCase()]};s&&(e.status=Number(s.getAttribute("status"))||e.status,e.statusText=s.getAttribute("statusText")||e.statusText);k=(u.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||u.textarea?(h=o.getElementsByTagName("textarea")[0],h?(e.responseText=h.value,e.status=Number(h.getAttribute("status"))||e.status,e.statusText=h.getAttribute("statusText")||e.statusText):d&&(l=o.getElementsByTagName("pre")[0],a=o.getElementsByTagName("body")[0],l?e.responseText=l.textContent?l.textContent:l.innerText:a&&(e.responseText=a.textContent?a.textContent:a.innerText))):"xml"===k&&!e.responseXML&&e.responseText&&(e.responseXML=yt(e.responseText));try{lt=wt(e,k,u)}catch(n){r="parsererror";e.error=f=n||r}}catch(n){t("error caught: ",n);r="error";e.error=f=n||r}e.aborted&&(t("upload aborted"),r=null);e.status&&(r=e.status>=200&&e.status<300||304===e.status?"success":"error");"success"===r?(u.success&&u.success.call(u.context,lt,"success",e),v.resolve(e.responseText,"success",e),w&&n.event.trigger("ajaxSuccess",[e,u])):r&&(void 0===f&&(f=e.statusText),u.error&&u.error.call(u.context,e,r,f),v.reject(e,"error",f),w&&n.event.trigger("ajaxError",[e,u,f]));w&&n.event.trigger("ajaxComplete",[e,u]);w&&!--n.active&&n.event.trigger("ajaxStop");u.complete&&u.complete.call(u.context,e,r);at=!0;u.timeout&&clearTimeout(g);setTimeout(function(){u.iframeTarget?y.attr("src",u.iframeSrc):y.remove();e.responseXML=null},100)}}}var it,tt,u,w,k,y,c,e,d,b,rt,g,h=s[0],v=n.Deferred(),nt,ot;if(v.abort=function(n){e.abort(n)},i)for(tt=0;tt<a.length;tt++)it=n(a[tt]),f?it.prop("disabled",!1):it.removeAttr("disabled");if((u=n.extend(!0,{},n.ajaxSettings,r)).context=u.context||u,k="jqFormIO"+(new Date).getTime(),nt=h.ownerDocument,ot=s.closest("body"),u.iframeTarget?(b=(y=n(u.iframeTarget,nt)).attr2("name"))?k=b:y.attr2("name",k):(y=n('<iframe name="'+k+'" src="'+u.iframeSrc+'" />',nt)).css({position:"absolute",top:"-1000px",left:"-1000px"}),c=y[0],e={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r="timeout"===i?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{c.contentWindow.document.execCommand&&c.contentWindow.document.execCommand("Stop")}catch(n){}y.attr("src",u.iframeSrc);e.error=r;u.error&&u.error.call(u.context,e,r,i);w&&n.event.trigger("ajaxError",[e,u,r]);u.complete&&u.complete.call(u.context,e,r)}},(w=u.global)&&0==n.active++&&n.event.trigger("ajaxStart"),w&&n.event.trigger("ajaxSend",[e,u]),u.beforeSend&&!1===u.beforeSend.call(u.context,e,u))return u.global&&n.active--,v.reject(),v;if(e.aborted)return v.reject(),v;(d=h.clk)&&(b=d.name)&&!d.disabled&&(u.extraData=u.extraData||{},u.extraData[b]=d.value,"image"===d.type&&(u.extraData[b+".x"]=h.clk_x,u.extraData[b+".y"]=h.clk_y));var st=1,ut=2,ht=n("meta[name=csrf-token]").attr("content"),ct=n("meta[name=csrf-param]").attr("content");ct&&ht&&(u.extraData=u.extraData||{},u.extraData[ct]=ht);u.forceSync?et():setTimeout(et,10);var lt,o,at,vt=50,yt=n.parseXML||function(n,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},pt=n.parseJSON||function(n){return window.eval("("+n+")")},wt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=("xml"===i||!i)&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&"parsererror"===u.documentElement.nodeName&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),"string"==typeof u&&(("json"===i||!i)&&f.indexOf("json")>=0?u=pt(u):("script"===i||!i)&&f.indexOf("javascript")>=0&&n.globalEval(u)),u};return v}var l,it,y,s,p,w,b,a,h,g,v,c,rt,ut,ft,k,ht,d;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(s=this,"function"==typeof r?r={success:r}:"string"==typeof r||!1===r&&arguments.length>0?(r={url:r,data:u,dataType:e},"function"==typeof o&&(r.success=o)):void 0===r&&(r={}),l=r.method||r.type||this.attr2("method"),(y=(y="string"==typeof(it=r.url||this.attr2("action"))?n.trim(it):"")||window.location.href||"")&&(y=(y.match(/^([^#]+)/)||[])[1]),r=n.extend(!0,{url:y,success:n.ajaxSettings.success,type:l||n.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r),p={},this.trigger("form-pre-serialize",[this,r,p]),p.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&!1===r.beforeSerialize(this,r))return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(w=r.traditional,void 0===w&&(w=n.ajaxSettings.traditional),a=[],h=this.formToArray(r.semantic,a,r.filtering),r.data&&(g=n.isFunction(r.data)?r.data(h):r.data,r.extraData=g,b=n.param(g,w)),r.beforeSubmit&&!1===r.beforeSubmit(h,this,r))return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[h,this,r,p]),p.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;v=n.param(h,w);b&&(v=v?v+"&"+b:b);"GET"===r.type.toUpperCase()?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+v,r.data=null):r.data=v;c=[];(r.resetForm&&c.push(function(){s.resetForm()}),r.clearForm&&c.push(function(){s.clearForm(r.includeHidden)}),!r.dataType&&r.target)?(rt=r.success||function(){},c.push(function(t){var i=arguments,u=r.replaceTarget?"replaceWith":"html";n(r.target)[u](t).each(function(){rt.apply(this,i)})})):r.success&&(n.isArray(r.success)?n.merge(c,r.success):c.push(r.success));(r.success=function(n,t,i){for(var f=r.context||this,u=0,e=c.length;u<e;u++)c[u].apply(f,[n,t,i||s,s])},r.error)&&(ut=r.error,r.error=function(n,t,i){var u=r.context||this;ut.apply(u,[n,t,i,s])});r.complete&&(ft=r.complete,r.complete=function(n,t){var i=r.context||this;ft.apply(i,[n,t,s])});var et=n("input[type=file]:enabled",this).filter(function(){return""!==n(this).val()}).length>0,ot="multipart/form-data",st=s.attr("enctype")===ot||s.attr("encoding")===ot,nt=i.fileapi&&i.formdata;for(t("fileAPI :"+nt),ht=(et||st)&&!nt,!1!==r.iframe&&(r.iframe||ht)?r.closeKeepAlive?n.get(r.closeKeepAlive,function(){k=tt(h)}):k=tt(h):k=(et||st)&&nt?function(t){for(var f,u,o,e=new FormData,i=0;i<t.length;i++)e.append(t[i].name,t[i].value);if(r.extraData)for(f=ct(r.extraData),i=0;i<f.length;i++)f[i]&&e.append(f[i][0],f[i][1]);return r.data=null,u=n.extend(!0,{},n.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:l||"POST"}),r.uploadProgress&&(u.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,u=n.total;n.lengthComputable&&(t=Math.ceil(i/u*100));r.uploadProgress(n,i,u,t)},!1),t}),u.data=null,o=u.beforeSend,u.beforeSend=function(n,t){t.data=r.formData?r.formData:e;o&&o.call(this,n,t)},n.ajax(u)}(h):n.ajax(r),s.removeData("jqxhr").data("jqxhr",k),d=0;d<a.length;d++)a[d]=null;return this.trigger("form-submit-notify",[this,r]),this};n.fn.ajaxForm=function(i,f,e,o){if(("string"==typeof i||!1===i&&arguments.length>0)&&(i={url:i,data:f,dataType:e},"function"==typeof o&&(i.success=o)),i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!n.isReady&&s.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(s.s,s.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}return i.delegation?(n(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,u).on("submit.form-plugin",this.selector,i,r).on("click.form-plugin",this.selector,i,u),this):this.ajaxFormUnbind().on("submit.form-plugin",i,r).on("click.form-plugin",i,u)};n.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r,u){var o=[],a,c,e,l,f,k,d,v,p,y;if(0===this.length)return o;var w,s=this[0],b=this.attr("id"),h=t||void 0===s.elements?s.getElementsByTagName("*"):s.elements;if(h&&(h=n.makeArray(h)),b&&(t||/(Edge|Trident)\//.test(navigator.userAgent))&&(w=n(':input[form="'+b+'"]').get()).length&&(h=(h||[]).concat(w)),!h||!h.length)return o;for(n.isFunction(u)&&(h=n.map(h,u)),a=0,k=h.length;a<k;a++)if(f=h[a],(e=f.name)&&!f.disabled)if(t&&s.clk&&"image"===f.type)s.clk===f&&(o.push({name:e,value:n(f).val(),type:f.type}),o.push({name:e+".x",value:s.clk_x},{name:e+".y",value:s.clk_y}));else if((l=n.fieldValue(f,!0))&&l.constructor===Array)for(r&&r.push(f),c=0,d=l.length;c<d;c++)o.push({name:e,value:l[c]});else if(i.fileapi&&"file"===f.type)if(r&&r.push(f),v=f.files,v.length)for(c=0;c<v.length;c++)o.push({name:e,value:v[c],type:f.type});else o.push({name:e,value:"",type:f.type});else null!==l&&void 0!==l&&(r&&r.push(f),o.push({name:e,value:l,type:f.type,required:f.required}));return!t&&s.clk&&(p=n(s.clk),y=p[0],(e=y.name)&&!y.disabled&&"image"===y.type&&(o.push({name:e,value:p.val()}),o.push({name:e+".x",value:s.clk_x},{name:e+".y",value:s.clk_y}))),o};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor===Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else null!==r&&void 0!==r&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)f=this[u],i=n.fieldValue(f,t),null!==i&&void 0!==i&&(i.constructor!==Array||i.length)&&(i.constructor===Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var v=t.name,u=t.type,c=t.tagName.toLowerCase(),o,r,f;if(void 0===i&&(i=!0),i&&(!v||t.disabled||"reset"===u||"button"===u||("checkbox"===u||"radio"===u)&&!t.checked||("submit"===u||"image"===u)&&t.form&&t.form.clk!==t||"select"===c&&-1===t.selectedIndex))return null;if("select"===c){if(o=t.selectedIndex,o<0)return null;for(var l=[],a=t.options,s="select-one"===u,y=s?o+1:a.length,h=s?o:0;h<y;h++)if(r=a[h],r.selected&&!r.disabled){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;l.push(f)}return l}return n(t).val().replace(e,"\r\n")};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||"textarea"===u?this.value="":"checkbox"===r||"radio"===r?this.checked=!1:"select"===u?this.selectedIndex=-1:"file"===r?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(!0===t&&/hidden/.test(r)||"string"==typeof t&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){var t=n(this),f=this.tagName.toLowerCase(),i,r,u;switch(f){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":return i=t.parents("select"),i.length&&i[0].multiple?"option"===f?this.selected=this.defaultSelected:t.find("option").resetForm():i.resetForm(),!0;case"select":return t.find("option").each(function(n){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=n,!1}),!0;case"label":return r=n(t.attr("for")),u=t.find("input,select,textarea"),r[0]&&u.unshift(r[0]),u.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})};n.fn.enable=function(n){return void 0===n&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type,i;"checkbox"===r||"radio"===r?this.checked=t:"option"===this.tagName.toLowerCase()&&(i=n(this).parent("select"),t&&i[0]&&"select-one"===i[0].type&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1});
/*! jQuery Validation Plugin - v1.19.0 - 11/28/2018
 * https://jqueryvalidation.org/
 * Copyright (c) 2018 Jörn Zaefferer; Licensed MIT */
!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget;n(this).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var r,u;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(u=i.settings.submitHandler.call(i,i.currentForm,t),r&&r.remove(),void 0!==u&&u)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,r;return n(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t;t||(r=r.concat(i.errorList))}),i.errorList=r),t},rules:function(t,i){var e,s,f,u,o,h,r=this[0],c="undefined"!=typeof this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=r&&(!r.form&&c&&(r.form=this.closest("form")[0],r.name=this.attr("name")),null!=r.form)){if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(n,t){h[t]=f[t];delete f[t]}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u)),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}}});n.extend(n.expr.pseudos||n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){var i=n(t).val();return null!==i&&!!n.trim(""+i)},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||n.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])!==-1||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}."),step:n.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var e="undefined"!=typeof n(this).attr("contenteditable")&&"false"!==n(this).attr("contenteditable");if(!this.form&&e&&(this.form=n(this).closest("form")[0],this.name=n(this).attr("name")),r===this.form){var u=n.data(this.form,"validator"),f="on"+t.type.replace(/^validate/,""),i=u.settings;i[f]&&!n(this).is(i.ignore)&&i[f].call(u,this,t)}}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t,r=this.currentForm,u=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){u[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",i).on("click.validate","select, option, [type='radio'], [type='checkbox']",i);this.settings.invalidHandler&&n(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var e,o,i=this.clean(t),r=this.validationTargetFor(i),u=this,f=!0;return void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=n(r),o=this.groups[r.name],o&&n.each(this.groups,function(n,t){t===o&&n!==r.name&&(i=u.validationTargetFor(u.clean(u.findByName(n))),i&&i.name in u.invalid&&(u.currentElements.push(i),f=u.check(i)&&f))}),e=this.check(r)!==!1,f=f&&e,this.invalid[r.name]=e?!1:!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n(t).attr("aria-invalid",!e)),f},showErrors:function(t){if(t){var i=this;n.extend(this.errorMap,t);this.errorList=n.map(this.errorMap,function(n,t){return{message:n,element:i.findByName(t)[0]}});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(n){var t;if(this.settings.unhighlight)for(t=0;n[t];t++)this.settings.unhighlight.call(this,n[t],this.settings.errorClass,""),this.findByName(n[t].name).removeClass(this.settings.validClass);else n.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t,i=0;for(t in n)void 0!==n[t]&&null!==n[t]&&n[t]!==!1&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.containers).text("");this.addWrapper(n).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||n(this).attr("name"),u="undefined"!=typeof n(this).attr("contenteditable")&&"false"!==n(this).attr("contenteditable");return!r&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),u&&(this.form=n(this).closest("form")[0],this.name=r),this.form===t.currentForm&&!(r in i||!t.objectLength(n(this).rules()))&&(i[r]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([])},reset:function(){this.resetInternals();this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,r,u=n(t),f=t.type,e="undefined"!=typeof u.attr("contenteditable")&&"false"!==u.attr("contenteditable");return"radio"===f||"checkbox"===f?this.findByName(t.name).filter(":checked").val():"number"===f&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":u.val():(i=e?u.text():u.val(),"file"===f?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(r=i.lastIndexOf("/"),r>=0?i.substr(r+1):(r=i.lastIndexOf("\\"),r>=0?i.substr(r+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var u,f,r,e,i=n(t).rules(),c=n.map(i,function(n,t){return t}).length,s=!1,h=this.elementValue(t);"function"==typeof i.normalizer?e=i.normalizer:"function"==typeof this.settings.normalizer&&(e=this.settings.normalizer);e&&(h=e.call(t,h),delete i.normalizer);for(f in i){r={method:f,parameters:i[f]};try{if(u=n.validator.methods[f].call(this,h,t,r.parameters),"dependency-mismatch"===u&&1===c){s=!0;continue}if(s=!1,"pending"===u)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!u)return this.formatAndAdd(t,r),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",o),o instanceof TypeError&&(o.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),o;}}if(!s)return this.objectLength(i)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n]},defaultMessage:function(t,i){"string"==typeof i&&(i={method:i});var r=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"<\/strong>"),u=/\$?\{(\d+)\}/g;return"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters)),r},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t);this.errorList.push({message:i,element:n,method:t.method});this.errorMap[n.name]=i;this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,s,e,o,r=this.errorsFor(t),h=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement.call(this,u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",h):0===r.parents("label[for='"+this.escapeCssMeta(h)+"']").length&&(e=r.attr("id"),f?f.match(new RegExp("\\b"+this.escapeCssMeta(e)+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),s=this.groups[t.name],s&&(o=this,n.each(o.groups,function(t,i){i===s&&n("[name='"+o.escapeCssMeta(t)+"']",o.currentForm).attr("aria-describedby",r.attr("id"))}))));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.escapeCssMeta(this.idOrName(t)),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+this.escapeCssMeta(u).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(n){return n.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return!this.dependTypes[typeof n]||this.dependTypes[typeof n](n,t)},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,n(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];n(t).removeClass(this.settings.pendingClass);i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.submitButton&&n("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return i="string"==typeof i&&i||"remote",n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm();n(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(n,t,i,r){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0));r||0===r?n[i]=r:t===i&&"range"!==t&&(n[i]=!0)},attributeRules:function(t){var r,i,u={},f=n(t),e=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=f.attr(r),this.normalizeAttributeRule(u,e,r,i);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t),e=t.getAttribute("type");for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),""===r&&(r=!0),this.normalizeAttributeRule(u,e,i,r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0===u.param||u.param:(n.data(i.form,"validator").resetElements(n(i)),delete t[r])}}),n.each(t,function(r,u){t[r]=n.isFunction(u)&&"normalizer"!==r?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:void 0!==t&&null!==t&&t.length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(n)},date:function(){var n=!1;return function(t,i){return n||(n=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(i)||!/Invalid|NaN/.test(new Date(t).toString())}}(),dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u<=r},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},step:function(t,i,r){var u,f=n(i).attr("type"),h="Step attribute on input type "+f+" is not supported.",c=new RegExp("\\b"+f+"\\b"),l=f&&!c.test("text,number,range"),e=function(n){var t=(""+n).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},o=function(n){return Math.round(n*Math.pow(10,u))},s=!0;if(l)throw new Error(h);return u=e(r),(e(t)>u||o(t)%o(r)!=0)&&(s=!1),this.optional(i)||s},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.not(".validate-equalTo-blur").length&&u.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r,u){if(this.optional(i))return"dependency-mismatch";u="string"==typeof u&&u||"remote";var f,o,s,e=this.previousValue(i,u);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),e.originalMessage=e.originalMessage||this.settings.messages[i.name][u],this.settings.messages[i.name][u]=e.message,r="string"==typeof r&&{url:r}||r,s=n.param(n.extend({data:t},r.data)),e.old===s?e.valid:(e.old=s,f=this,this.startRequest(i),o={},o[i.name]=t,n.ajax(n.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:f.currentForm,success:function(n){var r,s,h,o=n===!0||"true"===n;f.settings.messages[i.name][u]=e.originalMessage;o?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(i),f.formSubmitted=h,f.successList.push(i),f.invalid[i.name]=!1,f.showErrors()):(r={},s=n||f.defaultMessage(i,{method:u,parameters:t}),r[i.name]=e.message=s,f.invalid[i.name]=!0,f.showErrors(r));e.valid=o;f.stopRequest(i,o)}},r)),"pending")}}});var i,t={};return n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)}),n});
/*! jQuery Validation Plugin - v1.19.0 - 11/28/2018
 * https://jqueryvalidation.org/
 * Copyright (c) 2018 Jörn Zaefferer; Licensed MIT */
!function(n){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate.min"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){return function(){function t(n){return n.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}n.validator.addMethod("maxWords",function(n,i,r){return this.optional(i)||t(n).match(/\b\w+\b/g).length<=r},n.validator.format("Please enter {0} words or less."));n.validator.addMethod("minWords",function(n,i,r){return this.optional(i)||t(n).match(/\b\w+\b/g).length>=r},n.validator.format("Please enter at least {0} words."));n.validator.addMethod("rangeWords",function(n,i,r){var u=t(n),f=/\b\w+\b/g;return this.optional(i)||u.match(f).length>=r[0]&&u.match(f).length<=r[1]},n.validator.format("Please enter between {0} and {1} words."))}(),n.validator.addMethod("abaRoutingNumber",function(n){var r=0,i=n.split(""),u=i.length,t;if(9!==u)return!1;for(t=0;t<u;t+=3)r+=3*parseInt(i[t],10)+7*parseInt(i[t+1],10)+parseInt(i[t+2],10);return 0!==r&&r%10==0},"Please enter a valid routing number."),n.validator.addMethod("accept",function(t,i,r){var u,e,o,f="string"==typeof r?r.replace(/\s/g,""):"image/*",s=this.optional(i);if(s)return s;if("file"===n(i).attr("type")&&(f=f.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),i.files&&i.files.length))for(o=new RegExp(".?("+f+")$","i"),u=0;u<i.files.length;u++)if(e=i.files[u],!e.type.match(o))return!1;return!0},n.validator.format("Please enter a value with a valid mimetype.")),n.validator.addMethod("alphanumeric",function(n,t){return this.optional(t)||/^\w+$/i.test(n)},"Letters, numbers, and underscores only please"),n.validator.addMethod("bankaccountNL",function(n,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(n))return!1;for(var r,u,f=n.replace(/ /g,""),e=0,o=f.length,i=0;i<o;i++)r=o-i,u=f.substring(i,i+1),e+=r*u;return e%11==0},"Please specify a valid bank account number"),n.validator.addMethod("bankorgiroaccountNL",function(t,i){return this.optional(i)||n.validator.methods.bankaccountNL.call(this,t,i)||n.validator.methods.giroaccountNL.call(this,t,i)},"Please specify a valid bank or giro account number"),n.validator.addMethod("bic",function(n,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(n.toUpperCase())},"Please specify a valid BIC code"),n.validator.addMethod("cifES",function(n,t){"use strict";function a(n){return n%2==0}if(this.optional(t))return!0;var u,r,i,e,v=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),o=n.substring(0,1),s=n.substring(1,8),f=n.substring(8,9),h=0,c=0,l=0;if(9!==n.length||!v.test(n))return!1;for(u=0;u<s.length;u++)r=parseInt(s[u],10),a(u)?(r*=2,l+=r<10?r:r-9):c+=r;return h=c+l,i=(10-h.toString().substr(-1)).toString(),i=parseInt(i,10)>9?"0":i,e="JABCDEFGHI".substr(i,1).toString(),o.match(/[ABEH]/)?f===i:o.match(/[KPQS]/)?f===e:f===i||f===e},"Please specify a valid CIF number."),n.validator.addMethod("cnhBR",function(n){if(n=n.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==n.length)return!1;var e,f,r,t,i,o,u=0,s=0;if(e=n.charAt(0),new Array(12).join(e)===n)return!1;for(t=0,i=9,o=0;t<9;++t,--i)u+=+(n.charAt(t)*i);for(f=u%11,f>=10&&(f=0,s=2),u=0,t=0,i=1,o=0;t<9;++t,++i)u+=+(n.charAt(t)*i);return r=u%11,r>=10?r=0:r-=s,String(f).concat(r)===n.substr(-2)},"Please specify a valid CNH number"),n.validator.addMethod("cnpjBR",function(n,t){"use strict";var f,e;if(this.optional(t))return!0;if((n=n.replace(/[^\d]+/g,""),14!==n.length)||"00000000000000"===n||"11111111111111"===n||"22222222222222"===n||"33333333333333"===n||"44444444444444"===n||"55555555555555"===n||"66666666666666"===n||"77777777777777"===n||"88888888888888"===n||"99999999999999"===n)return!1;for(var i=n.length-2,o=n.substring(0,i),h=n.substring(i),r=0,u=i-7,s=i;s>=1;s--)r+=o.charAt(i-s)*u--,u<2&&(u=9);if(f=r%11<2?0:11-r%11,f!==parseInt(h.charAt(0),10))return!1;for(i+=1,o=n.substring(0,i),r=0,u=i-7,e=i;e>=1;e--)r+=o.charAt(i-e)*u--,u<2&&(u=9);return f=r%11<2?0:11-r%11,f===parseInt(h.charAt(1),10)},"Please specify a CNPJ value number"),n.validator.addMethod("cpfBR",function(n,t){"use strict";if(this.optional(t))return!0;if(n=n.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==n.length)return!1;var f,e,u,i,r=0;if(f=parseInt(n.substring(9,10),10),e=parseInt(n.substring(10,11),10),u=function(n,t){var i=10*n%11;return 10!==i&&11!==i||(i=0),i===t},""===n||"00000000000"===n||"11111111111"===n||"22222222222"===n||"33333333333"===n||"44444444444"===n||"55555555555"===n||"66666666666"===n||"77777777777"===n||"88888888888"===n||"99999999999"===n)return!1;for(i=1;i<=9;i++)r+=parseInt(n.substring(i-1,i),10)*(11-i);if(u(r,f)){for(r=0,i=1;i<=10;i++)r+=parseInt(n.substring(i-1,i),10)*(12-i);return u(r,e)}return!1},"Please specify a valid CPF number"),n.validator.addMethod("creditcard",function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var i,f,e=0,r=0,u=!1;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},"Please enter a valid credit card number."),n.validator.addMethod("creditcardtypes",function(n,t,i){if(/[^0-9\-]+/.test(n))return!1;n=n.replace(/\D/g,"");var r=0;return i.mastercard&&(r|=1),i.visa&&(r|=2),i.amex&&(r|=4),i.dinersclub&&(r|=8),i.enroute&&(r|=16),i.discover&&(r|=32),i.jcb&&(r|=64),i.unknown&&(r|=128),i.all&&(r=255),1&r&&(/^(5[12345])/.test(n)||/^(2[234567])/.test(n))?16===n.length:2&r&&/^(4)/.test(n)?16===n.length:4&r&&/^(3[47])/.test(n)?15===n.length:8&r&&/^(3(0[012345]|[68]))/.test(n)?14===n.length:16&r&&/^(2(014|149))/.test(n)?15===n.length:32&r&&/^(6011)/.test(n)?16===n.length:64&r&&/^(3)/.test(n)?16===n.length:64&r&&/^(2131|1800)/.test(n)?15===n.length:!!(128&r)},"Please enter a valid credit card number."),n.validator.addMethod("currency",function(n,t,i){var u,f="string"==typeof i,r=f?i:i[0],e=!!f||i[1];return r=r.replace(/,/g,""),r=e?r+"]":r+"]?",u="^["+r+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",u=new RegExp(u),this.optional(t)||u.test(n)},"Please specify a valid currency"),n.validator.addMethod("dateFA",function(n,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(n)},n.validator.messages.date),n.validator.addMethod("dateITA",function(n,t){var i,u,f,e,r,o=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(n)?(i=n.split("/"),u=parseInt(i[0],10),f=parseInt(i[1],10),e=parseInt(i[2],10),r=new Date(Date.UTC(e,f-1,u,12,0,0,0)),o=r.getUTCFullYear()===e&&r.getUTCMonth()===f-1&&r.getUTCDate()===u):o=!1,this.optional(t)||o},n.validator.messages.date),n.validator.addMethod("dateNL",function(n,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(n)},n.validator.messages.date),n.validator.addMethod("extension",function(n,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||n.match(new RegExp("\\.("+i+")$","i"))},n.validator.format("Please enter a value with a valid extension.")),n.validator.addMethod("giroaccountNL",function(n,t){return this.optional(t)||/^[0-9]{1,7}$/.test(n)},"Please specify a valid giro account number"),n.validator.addMethod("greaterThan",function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.not(".validate-greaterThan-blur").length&&u.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){n(i).valid()}),t>u.val()},"Please enter a greater value."),n.validator.addMethod("greaterThanEqual",function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.not(".validate-greaterThanEqual-blur").length&&u.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){n(i).valid()}),t>=u.val()},"Please enter a greater value."),n.validator.addMethod("iban",function(n,t){if(this.optional(t))return!0;var c,f,e,l,o,a,v,r,u,i=n.replace(/ /g,"").toUpperCase(),s="",y=!0,h="",p="";if(i.length<5||(c=i.substring(0,2),a={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},o=a[c],"undefined"!=typeof o&&(v=new RegExp("^[A-Z]{2}\\d{2}"+o+"$",""),!v.test(i))))return!1;for(f=i.substring(4,i.length)+i.substring(0,4),r=0;r<f.length;r++)e=f.charAt(r),"0"!==e&&(y=!1),y||(s+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e));for(u=0;u<s.length;u++)l=s.charAt(u),p=""+h+l,h=p%97;return 1===h},"Please specify a valid IBAN"),n.validator.addMethod("integer",function(n,t){return this.optional(t)||/^-?\d+$/.test(n)},"A positive or negative non-decimal number please"),n.validator.addMethod("ipv4",function(n,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(n)},"Please enter a valid IP v4 address."),n.validator.addMethod("ipv6",function(n,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(n)},"Please enter a valid IP v6 address."),n.validator.addMethod("lessThan",function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.not(".validate-lessThan-blur").length&&u.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){n(i).valid()}),t<u.val()},"Please enter a lesser value."),n.validator.addMethod("lessThanEqual",function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.not(".validate-lessThanEqual-blur").length&&u.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){n(i).valid()}),t<=u.val()},"Please enter a lesser value."),n.validator.addMethod("lettersonly",function(n,t){return this.optional(t)||/^[a-z]+$/i.test(n)},"Letters only please"),n.validator.addMethod("letterswithbasicpunc",function(n,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(n)},"Letters or punctuation only please"),n.validator.addMethod("maxfiles",function(t,i,r){return!!this.optional(i)||!("file"===n(i).attr("type")&&i.files&&i.files.length>r)},n.validator.format("Please select no more than {0} files.")),n.validator.addMethod("maxsize",function(t,i,r){if(this.optional(i))return!0;if("file"===n(i).attr("type")&&i.files&&i.files.length)for(var u=0;u<i.files.length;u++)if(i.files[u].size>r)return!1;return!0},n.validator.format("File size must not exceed {0} bytes each.")),n.validator.addMethod("maxsizetotal",function(t,i,r){if(this.optional(i))return!0;if("file"===n(i).attr("type")&&i.files&&i.files.length)for(var f=0,u=0;u<i.files.length;u++)if(f+=i.files[u].size,f>r)return!1;return!0},n.validator.format("Total size of all files must not exceed {0} bytes.")),n.validator.addMethod("mobileNL",function(n,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(n)},"Please specify a valid mobile number"),n.validator.addMethod("mobileRU",function(n,t){var i=n.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||i.length>9&&/^((\+7|7|8)+([0-9]){10})$/.test(i)},"Please specify a valid mobile number"),n.validator.addMethod("mobileUK",function(n,t){return n=n.replace(/\(|\)|\s+|-/g,""),this.optional(t)||n.length>9&&n.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),n.validator.addMethod("netmask",function(n,t){return this.optional(t)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(n)},"Please enter a valid netmask."),n.validator.addMethod("nieES",function(n,t){"use strict";if(this.optional(t))return!0;var i,r=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),u=n.substr(n.length-1).toUpperCase();return n=n.toString().toUpperCase(),!(n.length>10||n.length<9||!r.test(n))&&(n=n.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2"),i=9===n.length?n.substr(0,8):n.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(i,10)%23)===u)},"Please specify a valid NIE number."),n.validator.addMethod("nifES",function(n,t){"use strict";return!!this.optional(t)||(n=n.toUpperCase(),!!n.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(n)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(n.substring(8,0)%23)===n.charAt(8):!!/^[KLM]{1}/.test(n)&&n[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(n.substring(8,1)%23)))},"Please specify a valid NIF number."),n.validator.addMethod("nipPL",function(n){"use strict";var i,u;if(n=n.replace(/[^0-9]/g,""),10!==n.length)return!1;for(var f=[6,5,7,2,3,4,5,6,7],r=0,t=0;t<9;t++)r+=f[t]*n[t];return i=r%11,u=10===i?0:i,u===parseInt(n[9],10)},"Please specify a valid NIP number."),n.validator.addMethod("nisBR",function(n){var r,f,i,t,u,e=0;if(n=n.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==n.length)return!1;for(f=parseInt(n.substring(10,11),10),r=parseInt(n.substring(0,10),10),t=2;t<12;t++)u=t,10===t&&(u=2),11===t&&(u=3),e+=r%10*u,r=parseInt(r/10,10);return i=e%11,i=i>1?11-i:0,f===i},"Please specify a valid NIS/PIS number"),n.validator.addMethod("notEqualTo",function(t,i,r){return this.optional(i)||!n.validator.methods.equalTo.call(this,t,i,r)},"Please enter a different value, values must not be the same."),n.validator.addMethod("nowhitespace",function(n,t){return this.optional(t)||/^\S+$/i.test(n)},"No white space please"),n.validator.addMethod("pattern",function(n,t,i){return!!this.optional(t)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(n))},"Invalid format."),n.validator.addMethod("phoneNL",function(n,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(n)},"Please specify a valid phone number."),n.validator.addMethod("phonePL",function(n,t){n=n.replace(/\s+/g,"");return this.optional(t)||/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(n)},"Please specify a valid phone number"),n.validator.addMethod("phonesUK",function(n,t){return n=n.replace(/\(|\)|\s+|-/g,""),this.optional(t)||n.length>9&&n.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),n.validator.addMethod("phoneUK",function(n,t){return n=n.replace(/\(|\)|\s+|-/g,""),this.optional(t)||n.length>9&&n.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),n.validator.addMethod("phoneUS",function(n,t){return n=n.replace(/\s+/g,""),this.optional(t)||n.length>9&&n.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),n.validator.addMethod("postalcodeBR",function(n,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(n)},"Informe um CEP válido."),n.validator.addMethod("postalCodeCA",function(n,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(n)},"Please specify a valid postal code"),n.validator.addMethod("postalcodeIT",function(n,t){return this.optional(t)||/^\d{5}$/.test(n)},"Please specify a valid postal code"),n.validator.addMethod("postalcodeNL",function(n,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(n)},"Please specify a valid postal code"),n.validator.addMethod("postcodeUK",function(n,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(n)},"Please specify a valid UK postcode"),n.validator.addMethod("require_from_group",function(t,i,r){var u=n(r[1],i.form),f=u.eq(0),e=f.data("valid_req_grp")?f.data("valid_req_grp"):n.extend({},this),o=u.filter(function(){return e.elementValue(this)}).length>=r[0];return f.data("valid_req_grp",e),n(i).data("being_validated")||(u.data("being_validated",!0),u.each(function(){e.element(this)}),u.data("being_validated",!1)),o},n.validator.format("Please fill at least {0} of these fields.")),n.validator.addMethod("skip_or_fill_minimum",function(t,i,r){var u=n(r[1],i.form),f=u.eq(0),e=f.data("valid_skip")?f.data("valid_skip"):n.extend({},this),o=u.filter(function(){return e.elementValue(this)}).length,s=0===o||o>=r[0];return f.data("valid_skip",e),n(i).data("being_validated")||(u.data("being_validated",!0),u.each(function(){e.element(this)}),u.data("being_validated",!1)),s},n.validator.format("Please either skip these fields or fill at least {0} of them.")),n.validator.addMethod("stateUS",function(n,t,i){var r,u="undefined"==typeof i,o=!u&&"undefined"!=typeof i.caseSensitive&&i.caseSensitive,f=!u&&"undefined"!=typeof i.includeTerritories&&i.includeTerritories,e=!u&&"undefined"!=typeof i.includeMilitary&&i.includeMilitary;return r=f||e?f&&e?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":f?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",r=o?new RegExp(r):new RegExp(r,"i"),this.optional(t)||r.test(n)},"Please specify a valid state"),n.validator.addMethod("strippedminlength",function(t,i,r){return n(t).text().length>=r},n.validator.format("Please enter at least {0} characters")),n.validator.addMethod("time",function(n,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(n)},"Please enter a valid time, between 00:00 and 23:59"),n.validator.addMethod("time12h",function(n,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(n)},"Please enter a valid time in 12-hour am/pm format"),n.validator.addMethod("url2",function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},n.validator.messages.url),n.validator.addMethod("vinUS",function(n){if(17!==n.length)return!1;for(var r,t,e,u,f,o=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],h=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],c=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],s=0,i=0;i<17;i++){if(e=c[i],t=n.slice(i,i+1),8===i&&(f=t),isNaN(t)){for(r=0;r<o.length;r++)if(t.toUpperCase()===o[r]){t=h[r];t*=e;isNaN(f)&&8===r&&(f=o[r]);break}}else t*=e;s+=t}return u=s%11,10===u&&(u="X"),u===f},"The specified vehicle identification number (VIN) is invalid."),n.validator.addMethod("zipcodeUS",function(n,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(n)},"The specified US ZIP Code is invalid"),n.validator.addMethod("ziprange",function(n,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(n)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),n});
/*! jQuery Validation Plugin - v1.19.0 - 11/28/2018
 * https://jqueryvalidation.org/
 * Copyright (c) 2018 Jörn Zaefferer; Licensed MIT */
!function(n){"function"==typeof define&&define.amd?define(["jquery","../jquery.validate.min"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){return n.extend(n.validator.messages,{required:"这是必填字段",remote:"请修正此字段",email:"请输入有效的电子邮件地址",url:"请输入有效的网址",date:"请输入有效的日期",dateISO:"请输入有效的日期 (YYYY-MM-DD)",number:"请输入有效的数字",digits:"只能输入数字",creditcard:"请输入有效的信用卡号码",equalTo:"你的输入不相同",extension:"请输入有效的后缀",maxlength:n.validator.format("最多可以输入 {0} 个字符"),minlength:n.validator.format("最少要输入 {0} 个字符"),rangelength:n.validator.format("请输入长度在 {0} 到 {1} 之间的字符串"),range:n.validator.format("请输入范围在 {0} 到 {1} 之间的数值"),step:n.validator.format("请输入 {0} 的整数倍值"),max:n.validator.format("请输入不大于 {0} 的数值"),min:n.validator.format("请输入不小于 {0} 的数值")}),n});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n){var i,t=navigator.userAgent,u=/iphone/i.test(t),f=/chrome/i.test(t),r=/android/i.test(t);n.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"};n.fn.extend({caret:function(n,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof n?(t="number"==typeof t?t:n,this.each(function(){this.setSelectionRange?this.setSelectionRange(n,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select())})):(this[0].setSelectionRange?(n=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),n=0-i.duplicate().moveStart("character",-1e5),t=n+i.text.length),{begin:n,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,e){var p,l,o,c,h,v,s,a,y;return!t&&this.length>0?(p=n(this[0]),y=p.data(n.mask.dataName),y?y():void 0):(e=n.extend({autoclear:n.mask.autoclear,placeholder:n.mask.placeholder,completed:null},e),l=n.mask.definitions,o=[],c=s=t.length,h=null,n.each(t.split(""),function(n,t){"?"==t?(s--,c=n):l[t]?(o.push(new RegExp(l[t])),null===h&&(h=o.length-1),c>n&&(v=o.length-1)):o.push(null)}),this.trigger("unmask").each(function(){function nt(){if(e.completed){for(var n=h;v>=n;n++)if(o[n]&&p[n]===w(n))return;e.completed.call(y)}}function w(n){return e.placeholder.charAt(n<e.placeholder.length?n:0)}function b(n){for(;++n<s&&!o[n];);return n}function ut(n){for(;--n>=0&&!o[n];);return n}function it(n,t){var r,i;if(!(0>n)){for(r=n,i=b(t);s>r;r++)if(o[r]){if(!(s>i&&o[r].test(p[i])))break;p[r]=p[i];p[i]=w(i);i=b(i)}d();y.caret(Math.max(h,n))}}function ft(n){for(var r,u,t=n,i=w(n);s>t;t++)if(o[t]){if(r=b(t),u=p[t],p[t]=i,!(s>r&&o[r].test(u)))break;i=u}}function et(){var t=y.val(),n=y.caret();if(a&&a.length&&a.length>t.length){for(k(!0);n.begin>0&&!o[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<h&&!o[n.begin];)n.begin++;y.caret(n.begin,n.begin)}else{for(k(!0);n.begin<s&&!o[n.begin];)n.begin++;y.caret(n.begin,n.begin)}nt()}function rt(){k();y.val()!=tt&&y.change()}function ot(n){if(!y.prop("readonly")){var f,i,t,r=n.which||n.keyCode;a=y.val();8===r||46===r||u&&127===r?(f=y.caret(),i=f.begin,t=f.end,t-i==0&&(i=46!==r?ut(i):t=b(i-1),t=46===r?b(t):t),g(i,t),it(i,t-1),n.preventDefault()):13===r?rt.call(this,n):27===r&&(y.val(tt),y.caret(0,k()),n.preventDefault())}}function st(t){var u,e,h,f,i,c;y.prop("readonly")||(f=t.which||t.keyCode,i=y.caret(),t.ctrlKey||t.altKey||t.metaKey||32>f||!f||13===f||((i.end-i.begin!=0&&(g(i.begin,i.end),it(i.begin,i.end-1)),u=b(i.begin-1),s>u&&(e=String.fromCharCode(f),o[u].test(e)))&&((ft(u),p[u]=e,d(),h=b(u),r)?(c=function(){n.proxy(n.fn.caret,y,h)()},setTimeout(c,0)):y.caret(h),i.begin<=v&&nt()),t.preventDefault()))}function g(n,t){for(var i=n;t>i&&s>i;i++)o[i]&&(p[i]=w(i))}function d(){y.val(p.join(""))}function k(n){for(var f,r=y.val(),u=-1,t=0,i=0;s>t;t++)if(o[t]){for(p[t]=w(t);i++<r.length;)if(f=r.charAt(i-1),o[t].test(f)){p[t]=f;u=t;break}if(i>r.length){g(t+1,s);break}}else p[t]===r.charAt(i)&&i++,c>t&&(u=t);return n?d():c>u+1?e.autoclear||p.join("")===ht?(y.val()&&y.val(""),g(0,s)):d():(d(),y.val(y.val().substring(0,u+1))),c?t:h}var y=n(this),p=n.map(t.split(""),function(n,t){if("?"!=n)return l[n]?w(t):n}),ht=p.join(""),tt=y.val();y.data(n.mask.dataName,function(){return n.map(p,function(n,t){return o[t]&&n!=w(t)?n:null}).join("")});y.one("unmask",function(){y.off(".mask").removeData(n.mask.dataName)}).on("focus.mask",function(){if(!y.prop("readonly")){clearTimeout(i);var n;tt=y.val();n=k();i=setTimeout(function(){y.get(0)===document.activeElement&&(d(),n==t.replace("?","").length?y.caret(0,n):y.caret(n))},10)}}).on("blur.mask",rt).on("keydown.mask",ot).on("keypress.mask",st).on("input.mask paste.mask",function(){y.prop("readonly")||setTimeout(function(){var n=k(!0);y.caret(n);nt()},0)});f&&r&&y.off("input.mask").on("input.mask",et);k()}))}})});!function(n){var t=function(t,i){var r,u;this.element=n(t);this.picker=n('<div class="slider"><div class="slider-track"><div class="slider-selection"><\/div><div class="slider-handle"><\/div><div class="slider-handle"><\/div><\/div><div class="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div><\/div>').insertBefore(this.element).prepend(this.element);this.id=this.element.data("slider-id")||i.id;this.id&&(this.picker[0].id=this.id);"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);r=this.element.data("slider-tooltip")||i.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||i.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight";this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth());this.orientation="horizontal";this.stylePos="left";this.mousePos="pageX";this.sizePos="offsetWidth";this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||i.min;this.max=this.element.data("slider-max")||i.max;this.step=this.element.data("slider-step")||i.step;this.value=this.element.data("slider-value")||i.value;this.value[1]&&(this.range=!0);this.selection=this.element.data("slider-selection")||i.selection;this.selectionEl=this.picker.find(".slider-selection");"none"===this.selection&&this.selectionEl.addClass("hide");this.selectionElStyle=this.selectionEl[0].style;this.handle1=this.picker.find(".slider-handle:first");this.handle1Stype=this.handle1[0].style;this.handle2=this.picker.find(".slider-handle:last");this.handle2Stype=this.handle2[0].style;u=this.element.data("slider-handle")||i.handle;switch(u){case"round":this.handle1.addClass("round");this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle");this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff];this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];this.formater=i.formater;this.layout();this.touchCapable?this.picker.on({touchstart:n.proxy(this.mousedown,this)}):this.picker.on({mousedown:n.proxy(this.mousedown,this)});"show"===r?this.picker.on({mouseenter:n.proxy(this.showTooltip,this),mouseleave:n.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};t.prototype={constructor:t,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in");this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in");this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%";this.handle2Stype[this.stylePos]=this.percentage[1]+"%";"vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%");this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){var i,u,f,r;return this.touchCapable&&"touchstart"===t.type&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],i=this.getPercentage(t),this.range?(u=Math.abs(this.percentage[0]-i),f=Math.abs(this.percentage[1]-i),this.dragged=f>u?0:1):this.dragged=0,this.percentage[this.dragged]=i,this.layout(),this.touchCapable?n(document).on({touchmove:n.proxy(this.mousemove,this),touchend:n.proxy(this.mouseup,this)}):n(document).on({mousemove:n.proxy(this.mousemove,this),mouseup:n.proxy(this.mouseup,this)}),this.inDrag=!0,r=this.calculateValue(),this.element.trigger({type:"slideStart",value:r}).trigger({type:"slide",value:r}),!1},mousemove:function(n){var t,i;return this.touchCapable&&"touchmove"===n.type&&(n=n.originalEvent),t=this.getPercentage(n),this.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=t,this.layout(),i=this.calculateValue(),this.element.trigger({type:"slide",value:i}).data("value",i).prop("value",i),!1},mouseup:function(){this.touchCapable?n(document).off({touchmove:this.mousemove,touchend:this.mouseup}):n(document).off({mousemove:this.mousemove,mouseup:this.mouseup});this.inDrag=!1;0==this.over&&this.hideTooltip();this.element;var t=this.calculateValue();return this.element.trigger({type:"slideStop",value:t}).data("value",t).prop("value",t),!1},calculateValue:function(){var n;return this.range?(n=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=n):(n=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[n,this.value[1]]),n},getPercentage:function(n){this.touchCapable&&(n=n.touches[0]);var t=100*(n[this.mousePos]-this.offset[this.stylePos])/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(n){this.value=n;this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff];this.layout()}};n.fn.slider=function(i,r){return this.each(function(){var f=n(this),u=f.data("slider"),e="object"==typeof i&&i;u||f.data("slider",u=new t(this,n.extend({},n.fn.slider.defaults,e)));"string"==typeof i&&u[i](r)})};n.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(n){return n}};n.fn.slider.Constructor=t}(window.jQuery);nAgt=navigator.userAgent;jQuery.browser=jQuery.browser||{};jQuery.browser.mozilla=!1;jQuery.browser.webkit=!1;jQuery.browser.opera=!1;jQuery.browser.safari=!1;jQuery.browser.chrome=!1;jQuery.browser.androidStock=!1;jQuery.browser.msie=!1;jQuery.browser.edge=!1;jQuery.browser.ua=nAgt;getOS=function(){var n={version:"Unknown version",name:"Unknown OS"};return-1!=navigator.appVersion.indexOf("Win")&&(n.name="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&0>navigator.appVersion.indexOf("Mobile")&&(n.name="Mac"),-1!=navigator.appVersion.indexOf("Linux")&&(n.name="Linux"),/Mac OS X/.test(nAgt)&&!/Mobile/.test(nAgt)&&(n.version=/Mac OS X (10[\.\_\d]+)/.exec(nAgt)[1],n.version=n.version.replace(/_/g,".").substring(0,5)),/Windows/.test(nAgt)&&(n.version="Unknown.Unknown"),/Windows NT 5.1/.test(nAgt)&&(n.version="5.1"),/Windows NT 6.0/.test(nAgt)&&(n.version="6.0"),/Windows NT 6.1/.test(nAgt)&&(n.version="6.1"),/Windows NT 6.2/.test(nAgt)&&(n.version="6.2"),/Windows NT 10.0/.test(nAgt)&&(n.version="10.0"),/Linux/.test(nAgt)&&/Linux/.test(nAgt)&&(n.version="Unknown.Unknown"),n.name=n.name.toLowerCase(),n.major_version="Unknown",n.minor_version="Unknown","Unknown.Unknown"!=n.version&&(n.major_version=parseFloat(n.version.split(".")[0]),n.minor_version=parseFloat(n.version.split(".")[1])),n};jQuery.browser.os=getOS();jQuery.browser.hasTouch=isTouchSupported();jQuery.browser.name=navigator.appName;jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion);jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);-1!=(verOffset=nAgt.indexOf("Opera"))?(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("OPR"))?(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4)):-1!=(verOffset=nAgt.indexOf("MSIE"))?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5)):-1!=nAgt.indexOf("Trident")?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",start=nAgt.indexOf("rv:")+3,end=start+4,jQuery.browser.fullVersion=nAgt.substring(start,end)):-1!=(verOffset=nAgt.indexOf("Edge"))?(jQuery.browser.edge=!0,jQuery.browser.name="Microsoft Edge",jQuery.browser.fullVersion=nAgt.substring(verOffset+5)):-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1<nAgt.indexOf("mozilla/5.0")&&-1<nAgt.indexOf("android ")&&-1<nAgt.indexOf("applewebkit")&&!(-1<nAgt.indexOf("chrome"))?(verOffset=nAgt.indexOf("Chrome"),jQuery.browser.webkit=!0,jQuery.browser.androidStock=!0,jQuery.browser.name="androidStock",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix));-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix));jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10);isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10));jQuery.browser.version=jQuery.browser.majorVersion;jQuery.browser.android=/Android/i.test(nAgt);jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt);jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt);jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt);jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt);jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt);jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle;jQuery.isMobile=jQuery.browser.mobile;jQuery.isTablet=jQuery.browser.mobile&&765<jQuery(window).width();jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt);jQuery.mbBrowser=jQuery.browser;jQuery.browser.versionCompare=function(n,t){if("stringstring"!=typeof n+typeof t)return!1;for(var r=n.split("."),u=t.split("."),i=0,f=Math.max(r.length,u.length);i<f;i++){if(r[i]&&!u[i]&&0<parseInt(r[i])||parseInt(r[i])>parseInt(u[i]))return 1;if(u[i]&&!r[i]&&0<parseInt(u[i])||parseInt(r[i])<parseInt(u[i]))return-1}return 0};!function(){"use strict";
/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @version 1.0.6
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function n(t,r){function s(n,t){return function(){return n.apply(t,arguments)}}var o;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!n.notNeeded(t)){for(var f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],e=this,u=0,h=f.length;h>u;u++)e[f[u]]=s(e[f[u]],e);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0));t.addEventListener("click",this.onClick,!0);t.addEventListener("touchstart",this.onTouchStart,!1);t.addEventListener("touchmove",this.onTouchMove,!1);t.addEventListener("touchend",this.onTouchEnd,!1);t.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(n,i,r){var u=Node.prototype.removeEventListener;"click"===n?u.call(t,n,i.hijacked||i,r):u.call(t,n,i,r)},t.addEventListener=function(n,i,r){var u=Node.prototype.addEventListener;"click"===n?u.call(t,n,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(t,n,i,r)});"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(n){o(n)},!1),t.onclick=null)}}var r=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!r,t=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r,u=t&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=t&&/OS [6-7]_\d/.test(navigator.userAgent),e=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(n){switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(t&&"file"===n.type||n.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(n.className)};n.prototype.needsFocus=function(n){switch(n.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}};n.prototype.sendClick=function(n,t){var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent(this.determineEventType(n),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};n.prototype.determineEventType=function(n){return i&&"select"===n.tagName.toLowerCase()?"mousedown":"click"};n.prototype.focus=function(n){var i;t&&n.setSelectionRange&&0!==n.type.indexOf("date")&&"time"!==n.type&&"month"!==n.type?(i=n.value.length,n.setSelectionRange(i,i)):n.focus()};n.prototype.updateScrollParent=function(n){var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};n.prototype.getTargetElementFromEventTarget=function(n){return n.nodeType===Node.TEXT_NODE?n.parentNode:n};n.prototype.onTouchStart=function(n){var r,i,f;if(n.targetTouches.length>1)return!0;if(r=this.getTargetElementFromEventTarget(n.target),i=n.targetTouches[0],t){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=i.identifier;this.updateScrollParent(r)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=r,this.touchStartX=i.pageX,this.touchStartY=i.pageY,n.timeStamp-this.lastClickTime<this.tapDelay&&n.preventDefault(),!0};n.prototype.touchHasMoved=function(n){var t=n.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1};n.prototype.onTouchMove=function(n){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(n.target)||this.touchHasMoved(n))&&(this.trackingClick=!1,this.targetElement=null),!0):!0};n.prototype.findControl=function(n){return void 0!==n.control?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};n.prototype.onTouchEnd=function(n){var h,c,e,o,s,r=this.targetElement;if(!this.trackingClick)return!0;if(n.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(n.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=n.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(s=n.changedTouches[0],r=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||r,r.fastClickScrollParent=this.targetElement.fastClickScrollParent),e=r.tagName.toLowerCase(),"label"===e){if(h=this.findControl(r)){if(this.focus(r),i)return!1;r=h}}else if(this.needsFocus(r))return n.timeStamp-c>100||t&&window.top!==window&&"input"===e?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,n),t&&"select"===e||(this.targetElement=null,n.preventDefault()),!1);return t&&!u&&(o=r.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(r)||(n.preventDefault(),this.sendClick(r,n)),!1)};n.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};n.prototype.onMouse=function(n){return this.targetElement?n.forwardedTouchEvent?!0:n.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0:!0};n.prototype.onClick=function(n){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===n.target.type&&0===n.detail?!0:(t=this.onMouse(n),t||(this.targetElement=null),t)};n.prototype.destroy=function(){var n=this.layer;i&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0));n.removeEventListener("click",this.onClick,!0);n.removeEventListener("touchstart",this.onTouchStart,!1);n.removeEventListener("touchmove",this.onTouchMove,!1);n.removeEventListener("touchend",this.onTouchEnd,!1);n.removeEventListener("touchcancel",this.onTouchCancel,!1)};n.notNeeded=function(n){var t,u,r,f;return"undefined"==typeof ontouchstart?!0:(u=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1])&&(!i||(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||u>31&&document.documentElement.scrollWidth<=window.outerWidth))?!0:e&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]")))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)?!0:"none"===n.style.msTouchAction||"manipulation"===n.style.touchAction?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===n.style.touchAction||"manipulation"===n.style.touchAction?!0:!1)};n.attach=function(t,i){return new n(t,i)};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?(module.exports=n.attach,module.exports.FastClick=n):window.FastClick=n}();!function(n){n(["jquery"],function(n){return function(){function v(n,t,r){return u({type:f.error,iconClass:i().iconClasses.error,message:n,optionsOverride:r,title:t})}function r(r,u){return r||(r=i()),t=n("#"+r.containerId),t.length?t:(u&&(t=nt(r)),t)}function y(n,t,r){return u({type:f.info,iconClass:i().iconClasses.info,message:n,optionsOverride:r,title:t})}function p(n){o=n}function w(n,t,r){return u({type:f.success,iconClass:i().iconClasses.success,message:n,optionsOverride:r,title:t})}function b(n,t,r){return u({type:f.warning,iconClass:i().iconClasses.warning,message:n,optionsOverride:r,title:t})}function k(n,u){var f=i();t||r(f);h(n,f,u)||g(f)}function d(u){var f=i();return t||r(f),u&&0===n(":focus",u).length?void e(u):void(t.children().length&&t.remove())}function g(i){for(var u=t.children(),r=u.length-1;r>=0;r--)h(n(u[r]),i)}function h(t,i,r){var u=!(!r||!r.force)&&r.force;return!(!t||!u&&0!==n(":focus",t).length)&&(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){e(t)}}),!0)}function nt(i){return t=n("<div/>").attr("id",i.containerId).addClass(i.positionClass),t.appendTo(n(i.target)),t}function tt(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;<\/button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function c(n){o&&o(n)}function u(u){function k(n){return null==n&&(n=""),n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nt(){ut();et();ot();st();ht();ct();ft();tt()}function tt(){var n="";switch(u.iconClass){case"toast-success":case"toast-info":n="polite";break;default:n="assertive"}o.attr("aria-live",n)}function it(){f.closeOnHover&&o.hover(vt,at);!f.onclick&&f.tapToDismiss&&o.click(v);f.closeButton&&p&&p.click(function(n){n.stopPropagation?n.stopPropagation():void 0!==n.cancelBubble&&n.cancelBubble!==!0&&(n.cancelBubble=!0);f.onCloseClick&&f.onCloseClick(n);v(!0)});f.onclick&&o.click(function(n){f.onclick(n);v()})}function rt(){o.hide();o[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown});f.timeOut>0&&(y=setTimeout(v,f.timeOut),h.maxHideTime=parseFloat(f.timeOut),h.hideEta=(new Date).getTime()+h.maxHideTime,f.progressBar&&(h.intervalId=setInterval(yt,10)))}function ut(){u.iconClass&&o.addClass(f.toastClass).addClass(w)}function ft(){f.newestOnTop?t.prepend(o):t.append(o)}function et(){if(u.title){var n=u.title;f.escapeHtml&&(n=k(u.title));d.append(n).addClass(f.titleClass);o.append(d)}}function ot(){if(u.message){var n=u.message;f.escapeHtml&&(n=k(u.message));g.append(n).addClass(f.messageClass);o.append(g)}}function st(){f.closeButton&&(p.addClass(f.closeClass).attr("role","button"),o.prepend(p))}function ht(){f.progressBar&&(b.addClass(f.progressClass),o.prepend(b))}function ct(){f.rtl&&o.addClass("rtl")}function lt(n,t){if(n.preventDuplicates){if(t.message===s)return!0;s=t.message}return!1}function v(t){var i=t&&f.closeMethod!==!1?f.closeMethod:f.hideMethod,r=t&&f.closeDuration!==!1?f.closeDuration:f.hideDuration,u=t&&f.closeEasing!==!1?f.closeEasing:f.hideEasing;if(!n(":focus",o).length||t)return clearTimeout(h.intervalId),o[i]({duration:r,easing:u,complete:function(){e(o);clearTimeout(y);f.onHidden&&"hidden"!==a.state&&f.onHidden();a.state="hidden";a.endTime=new Date;c(a)}})}function at(){(f.timeOut>0||f.extendedTimeOut>0)&&(y=setTimeout(v,f.extendedTimeOut),h.maxHideTime=parseFloat(f.extendedTimeOut),h.hideEta=(new Date).getTime()+h.maxHideTime)}function vt(){clearTimeout(y);h.hideEta=0;o.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}function yt(){var n=(h.hideEta-(new Date).getTime())/h.maxHideTime*100;b.width(n+"%")}var f=i(),w=u.iconClass||f.iconClass;if("undefined"!=typeof u.optionsOverride&&(f=n.extend(f,u.optionsOverride),w=u.optionsOverride.iconClass||w),!lt(f,u)){l++;t=r(f,!0);var y=null,o=n("<div/>"),d=n("<div/>"),g=n("<div/>"),b=n("<div/>"),p=n(f.closeHtml),h={intervalId:null,hideEta:null,maxHideTime:null},a={toastId:l,state:"visible",startTime:new Date,options:f,map:u};return nt(),rt(),it(),c(a),f.debug&&console&&console.log(a),o}}function i(){return n.extend({},tt(),a.options)}function e(n){t||(t=r());n.is(":visible")||(n.remove(),n=null,0===t.children().length&&(t.remove(),s=void 0))}var t,o,s,l=0,f={error:"error",info:"info",success:"success",warning:"warning"},a={clear:k,remove:d,error:v,getContainer:r,info:y,options:{},subscribe:p,success:w,version:"2.1.4",warning:b};return a}()})}("function"==typeof define&&define.amd?define:function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});
/*!
  SerializeJSON jQuery plugin.
  https://github.com/marioizquierdo/jquery.serializeJSON
  version 2.9.0 (Jan, 2018)
  Copyright (c) 2012-2018 Mario Izquierdo
  Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
  and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
*/
!function(n){if("function"==typeof define&&define.amd)define(["jquery"],n);else if("object"==typeof exports){var t=require("jquery");module.exports=n(t)}else n(window.jQuery||window.Zepto||window.$)}(function(n){"use strict";n.fn.serializeJSON=function(t){var i,e,r,o,s,u,a,h,c,l,f,v,y;return i=n.serializeJSON,e=this,r=i.setupOpts(t),o=e.serializeArray(),i.readCheckboxUncheckedValues(o,r,e),s={},n.each(o,function(n,t){u=t.name;a=t.value;c=i.extractTypeAndNameWithNoType(u);l=c.nameWithNoType;(f=c.type)||(f=i.attrFromInputWithName(e,u,"data-value-type"));i.validateType(u,f,r);"skip"!==f&&(v=i.splitInputNameIntoKeysArray(l),h=i.parseValue(a,u,f,r),(y=!h&&i.shouldSkipFalsy(e,u,l,f,r))||i.deepSet(s,v,h,r))}),s};n.serializeJSON={defaultOptions:{checkboxUncheckedValue:void 0,parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,skipFalsyValuesForTypes:[],skipFalsyValuesForFields:[],customTypes:{},defaultTypes:{string:function(n){return String(n)},number:function(n){return Number(n)},boolean:function(n){return-1===["false","null","undefined","","0"].indexOf(n)},"null":function(n){return-1===["false","null","undefined","","0"].indexOf(n)?n:null},array:function(n){return JSON.parse(n)},object:function(n){return JSON.parse(n)},auto:function(t){return n.serializeJSON.parseValue(t,null,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0})},skip:null},useIntKeysAsArrayIndex:!1},setupOpts:function(t){var u,f,e,i,r,o;o=n.serializeJSON;null==t&&(t={});e=o.defaultOptions||{};f=["checkboxUncheckedValue","parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","skipFalsyValuesForTypes","skipFalsyValuesForFields","customTypes","defaultTypes","useIntKeysAsArrayIndex"];for(u in t)if(-1===f.indexOf(u))throw new Error("serializeJSON ERROR: invalid option '"+u+"'. Please use one of "+f.join(", "));return i=function(n){return!1!==t[n]&&""!==t[n]&&(t[n]||e[n])},r=i("parseAll"),{checkboxUncheckedValue:i("checkboxUncheckedValue"),parseNumbers:r||i("parseNumbers"),parseBooleans:r||i("parseBooleans"),parseNulls:r||i("parseNulls"),parseWithFunction:i("parseWithFunction"),skipFalsyValuesForTypes:i("skipFalsyValuesForTypes"),skipFalsyValuesForFields:i("skipFalsyValuesForFields"),typeFunctions:n.extend({},i("defaultTypes"),i("customTypes")),useIntKeysAsArrayIndex:i("useIntKeysAsArrayIndex")}},parseValue:function(t,i,r,u){var e,f;return e=n.serializeJSON,f=t,u.typeFunctions&&r&&u.typeFunctions[r]?f=u.typeFunctions[r](t):u.parseNumbers&&e.isNumeric(t)?f=Number(t):!u.parseBooleans||"true"!==t&&"false"!==t?u.parseNulls&&"null"==t?f=null:u.typeFunctions&&u.typeFunctions.string&&(f=u.typeFunctions.string(t)):f="true"===t,u.parseWithFunction&&!r&&(f=u.parseWithFunction(f,i)),f},isObject:function(n){return n===Object(n)},isUndefined:function(n){return void 0===n},isValidArrayIndex:function(n){return/^[0-9]+$/.test(String(n))},isNumeric:function(n){return n-parseFloat(n)>=0},optionKeys:function(n){if(Object.keys)return Object.keys(n);var t,i=[];for(t in n)i.push(t);return i},readCheckboxUncheckedValues:function(t,i,r){var f,e,u;null==i&&(i={});n.serializeJSON;f="input[type=checkbox][name]:not(:checked):not([disabled])";r.find(f).add(r.filter(f)).each(function(r,f){if(e=n(f),null==(u=e.attr("data-unchecked-value"))&&(u=i.checkboxUncheckedValue),null!=u){if(f.name&&-1!==f.name.indexOf("[]["))throw new Error("serializeJSON ERROR: checkbox unchecked values are not supported on nested arrays of objects like '"+f.name+"'. See https://github.com/marioizquierdo/jquery.serializeJSON/issues/67");t.push({name:f.name,value:u})}})},extractTypeAndNameWithNoType:function(n){var t;return(t=n.match(/(.*):([^:]+)$/))?{nameWithNoType:t[1],type:t[2]}:{nameWithNoType:n,type:null}},shouldSkipFalsy:function(t,i,r,u,f){var s=n.serializeJSON.attrFromInputWithName(t,i,"data-skip-falsy"),e,o;return null!=s?"false"!==s:(e=f.skipFalsyValuesForFields,e&&(-1!==e.indexOf(r)||-1!==e.indexOf(i)))?!0:(o=f.skipFalsyValuesForTypes,null==u&&(u="string"),!(!o||-1===o.indexOf(u)))},attrFromInputWithName:function(n,t,i){var u,r;return u=t.replace(/(:|\.|\[|\]|\s)/g,"\\$1"),r='[name="'+u+'"]',n.find(r).add(n.filter(r)).attr(i)},validateType:function(t,i,r){var u,f;if(f=n.serializeJSON,u=f.optionKeys(r?r.typeFunctions:f.defaultOptions.defaultTypes),i&&-1===u.indexOf(i))throw new Error("serializeJSON ERROR: Invalid type "+i+" found in input name '"+t+"', please use one of "+u.join(", "));return!0},splitInputNameIntoKeysArray:function(t){var i;return n.serializeJSON,i=t.split("["),""===(i=n.map(i,function(n){return n.replace(/\]/g,"")}))[0]&&i.shift(),i},deepSet:function(t,i,r,u){var f,o,c,s,h,e;if(null==u&&(u={}),(e=n.serializeJSON).isUndefined(t))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!i||0===i.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");f=i[0];1===i.length?""===f?t.push(r):t[f]=r:(o=i[1],""===f&&(h=t[s=t.length-1],f=e.isObject(h)&&(e.isUndefined(h[o])||i.length>2)?s:s+1),""===o?!e.isUndefined(t[f])&&n.isArray(t[f])||(t[f]=[]):u.useIntKeysAsArrayIndex&&e.isValidArrayIndex(o)?!e.isUndefined(t[f])&&n.isArray(t[f])||(t[f]=[]):!e.isUndefined(t[f])&&e.isObject(t[f])||(t[f]={}),c=i.slice(1),e.deepSet(t[f],c,r,u))}}}),function(n,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof exports?t():(t(),n.FileSaver={exports:{}}.exports)}(this,function(){"use strict";function f(n,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Depricated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["﻿",n],{type:n.type}):n}function r(n,t,r){var u=new XMLHttpRequest;u.open("GET",n);u.responseType="blob";u.onload=function(){i(u.response,t,r)};u.onerror=function(){console.error("could not download file")};u.send()}function u(n){var t=new XMLHttpRequest;return t.open("HEAD",n,!1),t.send(),200<=t.status&&299>=t.status}function t(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);n.dispatchEvent(t)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype?function(i,f,e){var s=n.URL||n.webkitURL,o=document.createElement("a");f=f||i.name||"download";o.download=f;o.rel="noopener";"string"==typeof i?(o.href=i,o.origin===location.origin?t(o):u(o.href)?r(i,f,e):t(o,o.target="_blank")):(o.href=s.createObjectURL(i),setTimeout(function(){s.revokeObjectURL(o.href)},4e4),setTimeout(function(){t(o)},0))}:"msSaveOrOpenBlob"in navigator?function(n,i,e){if(i=i||n.name||"download","string"!=typeof n)navigator.msSaveOrOpenBlob(f(n,e),i);else if(u(n))r(n,i,e);else{var o=document.createElement("a");o.href=n;o.target="_blank";setTimeout(function(){t(o)})}}:function(t,i,u,f){var e,s,o;if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),"string"==typeof t)return r(t,i,u);var c="application/octet-stream"===t.type,l=/constructor/i.test(n.HTMLElement)||n.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);(h||c&&l)&&"object"==typeof FileReader?(e=new FileReader,e.onloadend=function(){var n=e.result;n=h?n:n.replace(/^data:[^;]*;/,"data:attachment/file;");f?f.location.href=n:location=n;f=null},e.readAsDataURL(t)):(s=n.URL||n.webkitURL,o=s.createObjectURL(t),f?f.location=o:location.href=o,f=null,setTimeout(function(){s.revokeObjectURL(o)},4e4))});n.saveAs=i.saveAs=i;"undefined"!=typeof module&&(module.exports=i)});(function(){var nt,ct,lt,at,vt,yt,pt,wt,a,n,bt,kt,tt,dt,gt,o,ni,r,v,y,it,s,p,ti,rt,ut,f,ii,u,t,w,ft,ri,h,et,b,i,e,ot,c,k,st,d,g,ui,fi,ht,hi,ei,l=[].slice,oi={}.hasOwnProperty,si=function(n,t){function r(){this.constructor=n}for(var i in t)oi.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},ci=[].indexOf||function(n){for(var t=0,i=this.length;i>t;t+=1)if(t in this&&this[t]===n)return t;return-1};for(it={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},u=function(){var n;return null!=(n="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?n:+new Date},w=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==w&&(w=function(n){return setTimeout(n,50)},y=function(n){return clearTimeout(n)}),ri=function(n){var t,i;return t=u(),(i=function(){var r;return r=u()-t,r>=33?(t=u(),n(r,function(){return w(i)})):setTimeout(i,33-r)})()},ft=function(){var i,t,n;return n=arguments[0],t=arguments[1],i=3<=arguments.length?l.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,i):n[t]},s=function(){var n,t,r,f,i,u,e;for(t=arguments[0],f=2<=arguments.length?l.call(arguments,1):[],u=0,e=f.length;e>u;u+=1)if(r=f[u])for(n in r)oi.call(r,n)&&(i=r[n],null!=t[n]&&"object"==typeof t[n]&&null!=i&&"object"==typeof i?s(t[n],i):t[n]=i);return t},ni=function(n){var i,r,u,t,f;for(r=i=0,t=0,f=n.length;f>t;t+=1)u=n[t],r+=Math.abs(u),i+=1;return r/i},ti=function(n,t){var i,r,u;if(null==n&&(n="options"),null==t&&(t=!0),u=document.querySelector("[data-pace-"+n+"]")){if(i=u.getAttribute("data-pace-"+n),!t)return i;try{return JSON.parse(i)}catch(f){return r=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",r):void 0}}},pt=function(){function n(){}return n.prototype.on=function(n,t,i,r){var u;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(u=this.bindings)[n]&&(u[n]=[]),this.bindings[n].push({handler:t,ctx:i,once:r})},n.prototype.once=function(n,t,i){return this.on(n,t,i,!0)},n.prototype.off=function(n,t){var i,u,r;if(null!=(null!=(u=this.bindings)?u[n]:void 0)){if(null==t)return delete this.bindings[n];for(i=0,r=[];i<this.bindings[n].length;)r.push(this.bindings[n][i].handler===t?this.bindings[n].splice(i,1):i+=1);return r}},n.prototype.trigger=function(){var f,r,n,e,t,o,s,i,u;if(n=arguments[0],f=2<=arguments.length?l.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(t=0,u=[];t<this.bindings[n].length;)i=this.bindings[n][t],e=i.handler,r=i.ctx,o=i.once,e.apply(null!=r?r:this,f),u.push(o?this.bindings[n].splice(t,1):t+=1);return u}},n}(),n=window.Pace||{},window.Pace=n,s(n,pt.prototype),t=n.options=s({},it,window.paceOptions,ti()),ht=["ajax","document","eventLag","elements"],d=0,ui=ht.length;ui>d;d+=1)i=ht[d],t[i]===!0&&(t[i]=it[i]);a=function(n){function t(){return hi=t.__super__.constructor.apply(this,arguments)}return si(t,n),t}(Error);ct=function(){function n(){this.progress=0}return n.prototype.getElement=function(){var n;if(null==this.el){if(n=document.querySelector(t.target),!n)throw new a;this.el=document.createElement("div");this.el.className="pace pace-active";document.body.className=document.body.className.replace(/pace-done/g,"");document.body.className+=" pace-running";this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"><\/div>\n<\/div>\n<div class="pace-activity"><\/div>';null!=n.firstChild?n.insertBefore(this.el,n.firstChild):n.appendChild(this.el)}return this.el},n.prototype.finish=function(){var n;return n=this.getElement(),n.className=n.className.replace("pace-active",""),n.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},n.prototype.update=function(n){return this.progress=n,this.render()},n.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(n){a=n}return this.el=void 0},n.prototype.render=function(){var n,f,i,e,r,o,u;if(null==document.querySelector(t.target))return!1;for(n=this.getElement(),e="translate3d("+this.progress+"%, 0, 0)",u=["webkitTransform","msTransform","transform"],r=0,o=u.length;o>r;r+=1)f=u[r],n.children[0].style[f]=e;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(n.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?i="99":(i=this.progress<10?"0":"",i+=0|this.progress),n.children[0].setAttribute("data-progress",""+i)),this.lastRenderedProgress=this.progress},n.prototype.done=function(){return this.progress>=100},n}();wt=function(){function n(){this.bindings={}}return n.prototype.trigger=function(n,t){var f,i,e,r,u;if(null!=this.bindings[n]){for(r=this.bindings[n],u=[],i=0,e=r.length;e>i;i+=1)f=r[i],u.push(f.call(this,t));return u}},n.prototype.on=function(n,t){var i;return null==(i=this.bindings)[n]&&(i[n]=[]),this.bindings[n].push(t)},n}();st=window.XMLHttpRequest;k=window.XDomainRequest;c=window.WebSocket;p=function(n,t){var f,i,r,u=[];for(i in t.prototype)try{r=t.prototype[i];u.push(null==n[i]&&"function"!=typeof r?n[i]=r:void 0)}catch(e){f=e}return u};f=[];n.ignore=function(){var n,t,i;return t=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],f.unshift("ignore"),i=t.apply(null,n),f.shift(),i};n.track=function(){var n,t,i;return t=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],f.unshift("track"),i=t.apply(null,n),f.shift(),i};b=function(n){var i;return(null==n&&(n="GET"),"track"===f[0])?"force":!f.length&&t.ajax&&("socket"===n&&t.ajax.trackWebSockets||(i=n.toUpperCase(),ci.call(t.ajax.trackMethods,i)>=0))?!0:!1};bt=function(n){function i(){var n,r=this;i.__super__.constructor.apply(this,arguments);n=function(n){var t;return t=n.open,n.open=function(i,u){return b(i)&&r.trigger("request",{type:i,url:u,request:n}),t.apply(n,arguments)}};window.XMLHttpRequest=function(t){var i;return i=new st(t),n(i),i};try{p(window.XMLHttpRequest,st)}catch(u){}if(null!=k){window.XDomainRequest=function(){var t;return t=new k,n(t),t};try{p(window.XDomainRequest,k)}catch(u){}}if(null!=c&&t.ajax.trackWebSockets){window.WebSocket=function(n,t){var i;return i=null!=t?new c(n,t):new c(n),b("socket")&&r.trigger("request",{type:"socket",url:n,protocols:t,request:i}),i};try{p(window.WebSocket,c)}catch(u){}}}return si(i,n),i}(wt);g=null;rt=function(){return null==g&&(g=new bt),g};et=function(n){var i,r,f,u;for(u=t.ajax.ignoreURLs,r=0,f=u.length;f>r;r+=1)if(i=u[r],"string"==typeof i){if(-1!==n.indexOf(i))return!0}else if(i.test(n))return!0;return!1};rt().on("request",function(r){var u,o,f,e,s;return e=r.type,f=r.request,s=r.url,et(s)?void 0:n.running||t.restartOnRequestAfter===!1&&"force"!==b(e)?void 0:(o=arguments,u=t.restartOnRequestAfter||0,"boolean"==typeof u&&(u=0),setTimeout(function(){var c,t,s,h,r,u;if(c="socket"===e?f.readyState<2:0<(h=f.readyState)&&4>h){for(n.restart(),r=n.sources,u=[],t=0,s=r.length;s>t;t+=1){if(i=r[t],i instanceof nt){i.watch.apply(i,o);break}u.push(void 0)}return u}},u))});nt=function(){function n(){var n=this;this.elements=[];rt().on("request",function(){return n.watch.apply(n,arguments)})}return n.prototype.watch=function(n){var t,i,r,u;return r=n.type,t=n.request,u=n.url,et(u)?void 0:(i="socket"===r?new dt(t):new gt(t),this.elements.push(i))},n}();gt=function(){function n(n){var f,o,i,e,r,u,t=this;if(this.progress=0,null!=window.ProgressEvent)for(o=null,n.addEventListener("progress",function(n){return t.progress=n.lengthComputable?100*n.loaded/n.total:t.progress+(100-t.progress)/2},!1),u=["load","abort","timeout","error"],i=0,e=u.length;e>i;i+=1)f=u[i],n.addEventListener(f,function(){return t.progress=100},!1);else r=n.onreadystatechange,n.onreadystatechange=function(){var i;return 0===(i=n.readyState)||4===i?t.progress=100:3===n.readyState&&(t.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}return n}();dt=function(){function n(n){var r,t,u,i,f=this;for(this.progress=0,i=["error","open"],t=0,u=i.length;u>t;t+=1)r=i[t],n.addEventListener(r,function(){return f.progress=100},!1)}return n}();at=function(){function n(n){var r,t,u,i;for(null==n&&(n={}),this.elements=[],null==n.selectors&&(n.selectors=[]),i=n.selectors,t=0,u=i.length;u>t;t+=1)r=i[t],this.elements.push(new vt(r))}return n}();vt=function(){function n(n){this.selector=n;this.progress=0;this.check()}return n.prototype.check=function(){var n=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return n.check()},t.elements.checkInterval)},n.prototype.done=function(){return this.progress=100},n}();lt=function(){function n(){var n,i,t=this;this.progress=null!=(i=this.states[document.readyState])?i:100;n=document.onreadystatechange;document.onreadystatechange=function(){return null!=t.states[document.readyState]&&(t.progress=t.states[document.readyState]),"function"==typeof n?n.apply(null,arguments):void 0}}return n.prototype.states={loading:0,interactive:50,complete:100},n}();yt=function(){function n(){var i,f,r,e,n,o=this;this.progress=0;i=0;n=[];e=0;r=u();f=setInterval(function(){var s;return s=u()-r-50,r=u(),n.push(s),n.length>t.eventLag.sampleCount&&n.shift(),i=ni(n),(e+=1)>=t.eventLag.minSamples&&i<t.eventLag.lagThreshold?(o.progress=100,clearInterval(f)):o.progress=300/(i+3)},50)}return n}();tt=function(){function n(n){this.source=n;this.last=this.sinceLastUpdate=0;this.rate=t.initialRate;this.catchup=0;this.progress=this.lastProgress=0;null!=this.source&&(this.progress=ft(this.source,"progress"))}return n.prototype.tick=function(n,i){var r;return null==i&&(i=ft(this.source,"progress")),i>=100&&(this.done=!0),i===this.last?this.sinceLastUpdate+=n:(this.sinceLastUpdate&&(this.rate=(i-this.last)/this.sinceLastUpdate),this.catchup=(i-this.progress)/t.catchupTime,this.sinceLastUpdate=0,this.last=i),i>this.progress&&(this.progress+=this.catchup*n),r=1-Math.pow(this.progress/100,t.easeFactor),this.progress+=r*this.rate*n,this.progress=Math.min(this.lastProgress+t.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},n}();e=null;h=null;r=null;ot=null;o=null;v=null;n.running=!1;ut=function(){if(t.restartOnPushState)return n.restart()};null!=window.history.pushState&&(fi=window.history.pushState,window.history.pushState=function(){return ut(),fi.apply(window.history,arguments)});null!=window.history.replaceState&&(ei=window.history.replaceState,window.history.replaceState=function(){return ut(),ei.apply(window.history,arguments)});kt={ajax:nt,elements:at,document:lt,eventLag:yt};(ii=function(){var u,f,o,l,a,s,v,c;for(n.sources=e=[],s=["ajax","elements","document","eventLag"],f=0,l=s.length;l>f;f+=1)u=s[f],t[u]!==!1&&e.push(new kt[u](t[u]));for(c=null!=(v=t.extraSources)?v:[],o=0,a=c.length;a>o;o+=1)i=c[o],e.push(new i(t));return n.bar=r=new ct,h=[],ot=new tt})();n.stop=function(){return n.trigger("stop"),n.running=!1,r.destroy(),v=!0,null!=o&&("function"==typeof y&&y(o),o=null),ii()};n.restart=function(){return n.trigger("restart"),n.stop(),n.start()};n.go=function(){var f;return n.running=!0,r.render(),f=u(),v=!1,o=ri(function(o,s){var nt,p,w,it,b,c,l,et,a,y,k,d,g,rt,ut,ft;for(et=100-r.progress,p=k=0,w=!0,c=d=0,rt=e.length;rt>d;c=d+=1)for(i=e[c],y=null!=h[c]?h[c]:h[c]=[],b=null!=(ft=i.elements)?ft:[i],l=g=0,ut=b.length;ut>g;l=g+=1)it=b[l],a=null!=y[l]?y[l]:y[l]=new tt(it),w&=a.done,a.done||(p+=1,k+=a.tick(o));return nt=k/p,r.update(ot.tick(o,nt)),r.done()||w||v?(r.update(100),n.trigger("done"),setTimeout(function(){return r.finish(),n.running=!1,n.trigger("hide")},Math.max(t.ghostTime,Math.max(t.minTime-(u()-f),0)))):s()})};n.start=function(i){s(t,i);n.running=!0;try{r.render()}catch(u){a=u}return document.querySelector(".pace")?(n.trigger("start"),n.go()):setTimeout(n.start,50)};"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof exports?module.exports=n:t.startOnPageLoad&&n.start()}),function(n){"use strict";n.fn.getEvali=function(t){return this.each(function(i,r){var e=n(r),o=null,s=null,h=null,c=[],f=n.extend(!0,{},n.fn.getEvali.defaults,t),u={init:function(){if(e.closest(".fileuploader").length||e.wrap('<div class="fileuploader"><\/div>'),o=e.closest(".fileuploader"),u.set("attrOpts"),!u.isSupported())return f.onSupportError&&n.isFunction(f.onSupportError)?f.onSupportError(o,e):null,!1;if(f.beforeRender&&n.isFunction(f.beforeRender)&&f.beforeRender(o,e)===!1)return!1;u.redesign();f.files&&u.files.append(f.files);u.rendered=!0;f.afterRender&&n.isFunction(f.afterRender)?f.afterRender(h,o,s,e):null;u.disabled||u.bindUnbindEvents(!0)},bindUnbindEvents:function(t){t&&u.bindUnbindEvents(!1);e[t?"on":"off"](u._assets.getAllEvents(),u.onEvent);f.changeInput&&s!==e&&s[t?"on":"off"]("click",u.clickHandler);f.dragDrop&&f.dragDrop.container.length&&(f.dragDrop.container[t?"on":"off"]("drag dragstart dragend dragover dragenter dragleave drop",function(n){n.preventDefault()}),f.dragDrop.container[t?"on":"off"]("drop",u.dragDrop.onDrop),f.dragDrop.container[t?"on":"off"]("dragover",u.dragDrop.onDragEnter),f.dragDrop.container[t?"on":"off"]("dragleave",u.dragDrop.onDragLeave));u.isUploadMode()&&f.clipboardPaste&&n(window)[t?"on":"off"]("paste",u.clipboard.paste);f.sorter&&f.thumbnails&&f.thumbnails._selectors.sorter&&u.sorter[t?"init":"destroy"]();e.closest("form")[t?"on":"off"]("reset",u.reset)},redesign:function(){if(s=e,f.theme&&o.addClass("fileuploader-theme-"+f.theme),f.changeInput){switch((typeof f.changeInput+"").toLowerCase()){case"boolean":s=n('<div class="fileuploader-input"><div class="fileuploader-input-caption"><span>'+u._assets.textParse(f.captions.feedback)+'<\/span><\/div><div class="fileuploader-input-button"><span>'+u._assets.textParse(f.captions.button)+"<\/span><\/div><\/div>");break;case"string":f.changeInput!=" "&&(s=n(u._assets.textParse(f.changeInput,f)));break;case"object":s=n(f.changeInput);break;case"function":s=n(f.changeInput(e,o,f,u._assets.textParse))}e.after(s);e.css({position:"absolute","z-index":"-9999",height:"0",width:"0",padding:"0",margin:"0","line-height":"0",outline:"0",border:"0",opacity:"0"})}f.thumbnails&&u.thumbnails.create();f.dragDrop&&(f.dragDrop=typeof f.dragDrop!="object"?{container:null}:f.dragDrop,f.dragDrop.container=f.dragDrop.container?n(f.dragDrop.container):s)},clickHandler:function(n){if(n.preventDefault(),u.clipboard._timer){u.clipboard.clean();return}e.click()},onEvent:function(t){switch(t.type){case"focus":o?o.addClass("fileuploader-focused"):null;break;case"blur":o?o.removeClass("fileuploader-focused"):null;break;case"change":u.onChange.call(this)}f.listeners&&n.isFunction(f.listeners[t.type])?f.listeners[t.type].call(e,o):null},set:function(t,i){var l,r,h,a;switch(t){case"attrOpts":for(l=["limit","maxSize","fileMaxSize","extensions","changeInput","theme","addMore","listInput","files"],r=0;r<l.length;r+=1){if(h="data-fileuploader-"+l[r],u._assets.hasAttr(h))switch(l[r]){case"changeInput":case"addMore":case"listInput":f[l[r]]=["true","false"].indexOf(e.attr(h))>-1?e.attr(h)=="true":e.attr(h);break;case"extensions":f[l[r]]=e.attr(h).replace(/ /g,"").split(",");break;case"files":f[l[r]]=JSON.parse(e.attr(h));break;default:f[l[r]]=e.attr(h)}e.removeAttr(h)}(e.attr("disabled")!=null||e.attr("readonly")!=null||f.limit===0)&&(u.disabled=!0);(!f.limit||f.limit&&f.limit>=2)&&(e.attr("multiple","multiple"),f.inputNameBrackets&&e.attr("name").slice(-2)!="[]"?e.attr("name",e.attr("name")+"[]"):null);f.listInput===!0&&(f.listInput=n('<input type="hidden" name="fileuploader-list-'+e.attr("name").replace("[]","").split("[").pop().replace("]","")+'">').insertBefore(e));typeof f.listInput=="string"&&n(f.listInput).length==0&&(f.listInput=n('<input type="hidden" name="'+f.listInput+'">').insertBefore(e));u.set("disabled",u.disabled);!f.fileMaxSize&&f.maxSize&&(f.fileMaxSize=f.maxSize);break;case"disabled":u.disabled=i;o[u.disabled?"addClass":"removeClass"]("fileuploader-disabled");e[u.disabled?"attr":"removeAttr"]("disabled","disabled");u.rendered&&u.bindUnbindEvents(!i);break;case"feedback":i||(i=u._assets.textParse(u._itFl.length>0?f.captions.feedback2:f.captions.feedback,{length:u._itFl.length}));n(!s.is(":file"))?s.find(".fileuploader-input-caption span").html(i):null;break;case"input":a=u._assets.copyAllAttributes(n('<input type="file">'),e,!0);u.bindUnbindEvents(!1);e.after(e=a).remove();u.bindUnbindEvents(!0);break;case"prevInput":c.length>0&&(u.bindUnbindEvents(!1),c[i].remove(),c.splice(i,1),e=c[c.length-1],u.bindUnbindEvents(!0));break;case"nextInput":a=u._assets.copyAllAttributes(n('<input type="file">'),e);u.bindUnbindEvents(!1);c.length>0&&c[c.length-1].get(0).files.length==0?e=c[c.length-1]:(c.indexOf(e)==-1?c.push(e):null,c.push(a),e.after(e=a));u.bindUnbindEvents(!0);break;case"listInput":f.listInput&&f.listInput.val(u.files.list(!0,null,!1,i))}},onChange:function(t,i){var r=e.get(0).files,v,a;if(i)if(i.length)r=i;else return u.set("input",""),u.files.clear(),!1;if(u.clipboard._timer&&u.clipboard.clean(),!u.isDefaultMode()||(u.reset(),r.length!=0)){if(f.beforeSelect&&n.isFunction(f.beforeSelect)&&f.beforeSelect(r,h,o,s,e)==!1)return!1;for(v=0,a=0;a<r.length;a+=1){var y=r[a],c=u._itFl[u.files.add(y,"choosed")],l=u.files.check(c,r,a==0);if(l!==!0){if(u.files.remove(c,!0),l[2]||(u.isDefaultMode()&&(u.set("input",""),u.reset(),l[3]=!0),l[1]?f.dialogs.alert(l[1],c,h,o,s,e):null),l[3])break;continue}f.thumbnails&&u.thumbnails.item(c);u.isUploadMode()&&u.upload.prepare(c);f.onSelect&&n.isFunction(f.onSelect)?f.onSelect(c,h,o,s,e):null;v+=1}u.isUploadMode()&&v>0&&u.set("input","");u.set("feedback",null);u.isAddMoreMode()&&v>0&&u.set("nextInput");u.set("listInput",null);f.afterSelect&&n.isFunction(f.afterSelect)?f.afterSelect(h,o,s,e):null}},thumbnails:{create:function(){f.thumbnails.beforeShow!=null&&n.isFunction(f.thumbnails.beforeShow)?f.thumbnails.beforeShow(o,s,e):null;var t=n(u._assets.textParse(f.thumbnails.box)).appendTo(f.thumbnails.boxAppendTo?f.thumbnails.boxAppendTo:o);if(h=t.is(f.thumbnails._selectors.list)?t:t.find(f.thumbnails._selectors.list),f.thumbnails._selectors.popup_open)h.on("click",f.thumbnails._selectors.popup_open,function(t){t.preventDefault();var r=n(this).closest(f.thumbnails._selectors.item),i=u.files.find(r);i&&i.html.hasClass("file-has-popup")&&u.thumbnails.popup(i)});if(u.isUploadMode()&&f.thumbnails._selectors.start)h.on("click",f.thumbnails._selectors.start,function(t){if(t.preventDefault(),u.locked)return!1;var r=n(this).closest(f.thumbnails._selectors.item),i=u.files.find(r);i&&u.upload.send(i,!0)});if(u.isUploadMode()&&f.thumbnails._selectors.retry)h.on("click",f.thumbnails._selectors.retry,function(t){if(t.preventDefault(),u.locked)return!1;var r=n(this).closest(f.thumbnails._selectors.item),i=u.files.find(r);i&&u.upload.retry(i)});if(f.thumbnails._selectors.remove)h.on("click",f.thumbnails._selectors.remove,function(t){if(t.preventDefault(),u.locked)return!1;var e=n(this).closest(f.thumbnails._selectors.item),i=u.files.find(e),r=function(){u.files.remove(i)};i&&(i.upload&&i.upload.status!="successful"?u.upload.cancel(i):f.thumbnails.removeConfirmation?f.dialogs.confirm(u._assets.textParse(f.captions.removeConfirmation,i),r):r())})},clear:function(){h&&h.html("")},item:function(t,i){t.icon=u.thumbnails.generateFileIcon(t.format,t.extension);t.image='<div class="fileuploader-item-image"><\/div>';t.progressBar=u.isUploadMode()?'<div class="fileuploader-progressbar"><div class="bar"><\/div><\/div>':"";t.html=n(u._assets.textParse(t.appended&&f.thumbnails.item2?f.thumbnails.item2:f.thumbnails.item,t));t.progressBar=t.html.find(".fileuploader-progressbar");t.html.addClass("file-type-"+(t.format?t.format:"no")+" file-ext-"+(t.extension?t.extension:"no")+"");i?i.replaceWith(t.html):t.html[f.thumbnails.itemPrepend?"prependTo":"appendTo"](h);u.thumbnails.renderThumbnail(t);t.renderThumbnail=function(n){n&&t.popup&&t.popup.close&&(t.popup.close(),t.popup={open:t.popup.open});u.thumbnails.renderThumbnail(t,!0,n)};f.thumbnails.popup&&(t.popup={open:function(){u.thumbnails.popup(t)}});f.thumbnails.onItemShow!=null&&n.isFunction(f.thumbnails.onItemShow)?f.thumbnails.onItemShow(t,h,o,s,e):null},generateFileIcon:function(n,t){var i='<div style="${style}" class="fileuploader-item-icon${class}"><i>'+(t?t:"")+"<\/i><\/div>",r=u._assets.textToColor(t),f;return r&&(f=u._assets.isBrightColor(r),f&&(i=i.replace("${class}"," is-bright-color")),i=i.replace("${style}","background-color: "+r)),i.replace("${style}","").replace("${class}","")},renderThumbnail:function(t,i,r){var c=t.html.find(".fileuploader-item-image"),p=t.data&&t.data.readerSkip,y=function(i){var r=n(i);if(c.removeClass("fileuploader-no-thumbnail fileuploader-loading").html(r),r.is("img"))r.attr("draggable","false").on("load error",function(i){i.type=="error"&&l(!0);a();f.thumbnails.onImageLoaded!=null&&n.isFunction(f.thumbnails.onImageLoaded)?f.thumbnails.onImageLoaded(t,h,o,s,e):null});r.is("canvas")&&(f.thumbnails.onImageLoaded!=null&&n.isFunction(f.thumbnails.onImageLoaded)?f.thumbnails.onImageLoaded(t,h,o,s,e):null)},l=function(i){c.addClass("fileuploader-no-thumbnail");c.removeClass("fileuploader-loading").html(t.icon);i&&(f.thumbnails.onImageLoaded!=null&&n.isFunction(f.thumbnails.onImageLoaded)?f.thumbnails.onImageLoaded(t,h,o,s,e):null)},a=function(){var n=0;if(t&&u._pfrL.indexOf(t)>-1)for(u._pfrL.splice(u._pfrL.indexOf(t),1);n<u._pfrL.length;){if(u._itFl.indexOf(u._pfrL[n])>-1){u.thumbnails.renderThumbnail(u._pfrL[n],!0);break}else u._pfrL.splice(n,1);n+=1}},v;if(!c.length){a();return}if(t.image=c.html("").addClass("fileuploader-loading"),(["image","video","audio","astext"].indexOf(t.format)>-1||t.data.thumbnail)&&u.isFileReaderSupported()&&!p&&(t.appended||f.thumbnails.startImageRenderer||i))return f.thumbnails.synchronImages&&(u._pfrL.indexOf(t)==-1&&!i?u._pfrL.push(t):null,u._pfrL.length>1&&!i)?void 0:(v=function(n,i){var e=n.nodeName&&n.nodeName.toLocaleLowerCase()=="img",o=e?n.src:n;if(f.thumbnails.canvasImage){var s=document.createElement("canvas"),r=e?n:new Image,h=function(){u.editor.resize(r,s,f.thumbnails.canvasImage.width?f.thumbnails.canvasImage.width:c.width(),f.thumbnails.canvasImage.height?f.thumbnails.canvasImage.height:c.height(),!1,!0);u._assets.isBlankCanvas(s)?l():y(s);a()},v=function(){l(!0);a();r=null};if(t.format=="image"&&i&&t.reader.node)return r=t.reader.node,h();if(!o)return v();if(e)return h.call(n);r.onload=h;r.onerror=v;t.data&&t.data.readerCrossOrigin&&r.setAttribute("crossOrigin",t.data.readerCrossOrigin);r.src=o}else y(e?n:'<img src="'+o+'">')},typeof r=="string"||typeof r=="object"?v(r):u.files.read(t,function(){t.reader.node&&f.thumbnails.popup&&t.html.addClass("file-has-popup");t.reader.node&&(t.reader.frame||t.reader.node.nodeName.toLowerCase()=="img")?v(t.reader.frame||t.reader.src,!0):(l(t.format=="image"),a())},null,r,!0));l()},popup:function(t,i){if(!u.locked&&f.thumbnails.popup&&f.thumbnails._selectors.popup){var c=n(f.thumbnails.popup.container),r=c.find(".fileuploader-popup"),a="fileuploader-popup-has-arrows",l=function(){var l=t.popup.html||n(u._assets.textParse(f.thumbnails.popup.template,t)),y=t.popup.html!==l,v=function(n){var i=n.which||n.keyCode;i==27&&t.popup&&t.popup.close&&t.popup.close();(i==37||i==39)&&f.thumbnails.popup.arrows&&t.popup.move(i==37?"prev":"next")};r.removeClass("loading");r.children(f.thumbnails._selectors.popup).length&&(n.each(u._itFl,function(n,r){r!=t&&r.popup&&r.popup.close&&r.popup.close(i)}),r.find(f.thumbnails._selectors.popup).remove());l.show().appendTo(r);t.popup.html=l;t.popup.move=function(n){var s=u._itFl.indexOf(t),e=null,o=!1,i,r;if(n=="prev")for(i=s;i>=0;i-=1){if(r=u._itFl[i],r!=t&&r.popup&&r.html.hasClass("file-has-popup")){e=r;break}i!=0||e||o||!f.thumbnails.popup.loop||(i=u._itFl.length,o=!0)}else for(i=s;i<u._itFl.length;i+=1){if(r=u._itFl[i],r!=t&&r.popup&&r.html.hasClass("file-has-popup")){e=r;break}i+1!=u._itFl.length||e||o||!f.thumbnails.popup.loop||(i=-1,o=!0)}e&&u.thumbnails.popup(e,!0)};t.popup.close=function(i){t.reader.node&&(t.reader.node.pause?t.reader.node.pause():null);n(window).off("keyup",v);c.css({overflow:"",width:""});t.popup.editor&&t.popup.editor.cropper&&t.popup.editor.cropper.hide();t.popup.html&&f.thumbnails.popup.onHide&&n.isFunction(f.thumbnails.popup.onHide)?f.thumbnails.popup.onHide(t,h,o,s,e):t.popup.html?t.popup.html.remove():null;i||r.fadeOut(400,function(){r.remove()});delete t.popup.close};t.reader.node?(y&&l.find(".fileuploader-popup-node").html(t.reader.node),t.reader.node.controls=!0,t.reader.node.currentTime=0,t.reader.node.play?t.reader.node.play():null):l.find(".fileuploader-popup-node").html('<div class="fileuploader-popup-file-icon">'+t.icon+"<\/div>");n(window).on("keyup",v);c.css({overflow:"hidden",width:c.innerWidth()});t.popup.html.find('[data-action="prev"], [data-action="next"]').removeAttr("style");t.popup.html[u._itFl.length==1||!f.thumbnails.popup.arrows?"removeClass":"addClass"](a);f.thumbnails.popup.loop||(u._itFl.indexOf(t)==0&&t.popup.html.find('[data-action="prev"]').hide(),u._itFl.indexOf(t)==u._itFl.length-1&&t.popup.html.find('[data-action="next"]').hide());t.editor&&t.popup.editor&&t.popup.editor.hasChanges?(t.popup.editor&&t.popup.editor.rotation&&u.editor.rotate(t,t.editor.rotation||0,!0),t.popup.editor&&t.popup.editor.cropper&&(t.popup.editor.cropper.hide(!0),setTimeout(function(){u.editor.crop(t,t.editor.crop?n.extend({},t.editor.crop):t.popup.editor.cropper.setDefaultData())},100))):t.popup.editor={};f.thumbnails.popup.onShow&&n.isFunction(f.thumbnails.popup.onShow)?f.thumbnails.popup.onShow(t,h,o,s,e):null};r.length==0&&(r=n('<div class="fileuploader-popup"><\/div>').appendTo(c));r.fadeIn(400).addClass("loading");["image","video","audio","astext"].indexOf(t.format)>-1&&!t.popup.html?u.files.read(t,l):l()}}},editor:{rotate:function(t,i,r){var o=t.popup&&typeof t.popup.html!="undefined",f;if(o){if(t.popup.editor.isAnimating)return;t.popup.editor.isAnimating=!0;var s=t.popup.html,e=s.find(".fileuploader-popup-node"),u=e.find("> img"),f=t.popup.editor.rotation||0,h=t.popup.editor.scale||1,c={rotation:f,scale:h};t.popup.editor.cropper&&t.popup.editor.cropper.$template.hide();t.popup.editor.rotation=r?i:f+90;t.popup.editor.scale=(e.height()/u[[90,270].indexOf(t.popup.editor.rotation)>-1?"width":"height"]()).toFixed(3);u.height()*t.popup.editor.scale>e.width()&&[90,270].indexOf(t.popup.editor.rotation)>-1&&(t.popup.editor.scale=e.width()/u.height());t.popup.editor.scale>1&&(t.popup.editor.scale=1);n(c).animate({rotation:t.popup.editor.rotation,scale:t.popup.editor.scale},{duration:r?1:300,easing:"swing",step:function(n,t){var o=u.css("-webkit-transform")||u.css("-moz-transform")||u.css("transform")||"none",i=0,r=1,s=t.prop;if(o!=="none"){var h=o.split("(")[1].split(")")[0].split(","),f=h[0],e=h[1];i=s=="rotation"?n:Math.round(Math.atan2(e,f)*(180/Math.PI));r=s=="scale"?n:Math.round(Math.sqrt(f*f+e*e)*10)/10}u.css({"-webkit-transform":"rotate("+i+"deg) scale("+r+")","-moz-transform":"rotate("+i+"deg) scale("+r+")",transform:"rotate("+i+"deg) scale("+r+")"})},always:function(){delete t.popup.editor.isAnimating;t.popup.editor.cropper&&!r&&(t.popup.editor.cropper.setDefaultData(),t.popup.editor.cropper.init("rotation"))}});t.popup.editor.rotation>=360&&(t.popup.editor.rotation=0);t.popup.editor.rotation!=t.editor.rotation&&(t.popup.editor.hasChanges=!0)}else return f=t.editor.rotation||0,t.editor.rotation=i?i:f+90},crop:function(t,i){var e=t.popup&&typeof t.popup.html!="undefined";if(e)if(t.popup.editor.cropper)i&&(t.popup.editor.cropper.crop=i),t.popup.editor.cropper.init(i);else{var o=t.popup.html,s=o.find(".fileuploader-popup-node > img"),r=n('<div class="fileuploader-cropper"><div class="fileuploader-cropper-area"><div class="point point-a"><\/div><div class="point point-b"><\/div><div class="point point-c"><\/div><div class="point point-d"><\/div><div class="point point-e"><\/div><div class="point point-f"><\/div><div class="point point-g"><\/div><div class="point point-h"><\/div><div class="area-move"><\/div><div class="area-image"><\/div><\/div><\/div>'),h=r.find(".fileuploader-cropper-area");t.popup.editor.cropper={$imageEl:s,$template:r,$editor:h,isCropping:!1,crop:i||null,init:function(i){var e=t.popup.editor.cropper,s=e.$imageEl.position(),h=e.$imageEl[0].getBoundingClientRect().width,c=e.$imageEl[0].getBoundingClientRect().height,l=t.popup.editor.rotation&&[90,270].indexOf(t.popup.editor.rotation)>-1,o=l?t.popup.editor.scale:1;if(e.hide(),e.crop||e.setDefaultData(),h==0||c==0)return e.hide(!0);if(e.isCropping||(e.$imageEl.clone().appendTo(e.$template.find(".area-image")),e.$imageEl.parent().append(r)),e.$template.hide().css({left:s.left,top:s.top,width:h,height:c}).fadeIn(150),e.$editor.hide(),clearTimeout(e._editorAnimationTimeout),e._editorAnimationTimeout=setTimeout(function(){if(delete e._editorAnimationTimeout,e.$editor.fadeIn(250),t.editor.crop&&n.isPlainObject(i)&&(e.resize(),e.crop.left=e.crop.left*e.crop.cfWidth*o,e.crop.width=e.crop.width*e.crop.cfWidth*o,e.crop.top=e.crop.top*e.crop.cfHeight*o,e.crop.height=e.crop.height*e.crop.cfHeight*o),(!t.editor.crop||i=="rotation")&&f.editor.cropper&&f.editor.cropper.ratio&&i!="resize"){var s=f.editor.cropper.ratio,r=u._assets.ratioToPx(e.crop.width,e.crop.height,s);r&&(e.crop.width=Math.min(e.crop.width,r[0]),e.crop.left=(e.$template.width()-e.crop.width)/2,e.crop.height=Math.min(e.crop.height,r[1]),e.crop.top=(e.$template.height()-e.crop.height)/2)}e.drawPlaceHolder(e.crop)},400),!e.isCropping)e.$template.on("drop dragend dragleave dragover dragenter dragstart touchstart touchmove touchend touchcancel",function(n){n.preventDefault()});f.editor.cropper&&f.editor.cropper.showGrid&&e.$editor.addClass("has-grid");e.$imageEl.attr("draggable","false");e.$template.on("mousedown touchstart",e.mousedown);n(window).on("resize",e.resize);e.isCropping=!0;t.popup.editor.hasChanges=!0},setDefaultData:function(){var n=t.popup.editor.cropper,u=n.$imageEl,i=u.width(),r=u.height(),f=t.popup.editor.rotation&&[90,270].indexOf(t.popup.editor.rotation)>-1,e=t.popup.editor.scale||1;return n.crop={left:0,top:0,width:f?r*e:i,height:f?i*e:r,cfWidth:i/n.$imageEl.prop("naturalWidth"),cfHeight:r/n.$imageEl.prop("naturalHeight")},null},hide:function(i){var r=t.popup.editor.cropper;i&&(r.$template.hide(),r.$editor.hide());r.$imageEl.attr("draggable","");r.$template.off("mousedown touchstart",r.mousedown);n(window).off("resize",r.resize)},resize:function(n){var i=t.popup.editor.cropper,r=i.$imageEl;r.width()>0&&(n?(i.$template.hide(),clearTimeout(i._resizeTimeout),i._resizeTimeout=setTimeout(function(){delete i._resizeTimeout;var n=r.width()/r.prop("naturalWidth"),t=r.height()/r.prop("naturalHeight");i.crop.left=i.crop.left/i.crop.cfWidth*n;i.crop.width=i.crop.width/i.crop.cfWidth*n;i.crop.top=i.crop.top/i.crop.cfHeight*t;i.crop.height=i.crop.height/i.crop.cfHeight*t;i.crop.cfWidth=n;i.crop.cfHeight=t;i.init("resize")},500)):(i.crop.cfWidth=r.width()/r.prop("naturalWidth"),i.crop.cfHeight=r.height()/r.prop("naturalHeight")))},drawPlaceHolder:function(i){var f=t.popup.editor.cropper,r=t.popup.editor.rotation||0,e=t.popup.editor.scale||1,u=[0,0];i&&(i=n.extend({},i),r&&(u=[r==180||r==270?-100:0,r==90||r==180?-100:0]),f.$editor.css(i),f.$editor.find(".area-image img").removeAttr("style").css({width:f.$imageEl.width(),height:f.$imageEl.height(),left:f.$editor.position().left*-1,top:f.$editor.position().top*-1,"-webkit-transform":"rotate("+r+"deg) scale("+e+") translateX("+u[0]+"%) translateY("+u[1]+"%)","-moz-transform":"rotate("+r+"deg) scale("+e+") translateX("+u[0]+"%) translateY("+u[1]+"%)",transform:"rotate("+r+"deg) scale("+e+") translateX("+u[0]+"%) translateY("+u[1]+"%)"}))},mousedown:function(i){var u=i.originalEvent.touches&&i.originalEvent.touches[0]?"touchstart":"mousedown",e=n(i.target),r=t.popup.editor.cropper,f={x:(u=="mousedown"?i.pageX:i.originalEvent.touches[0].pageX)-r.$template.offset().left,y:(u=="mousedown"?i.pageY:i.originalEvent.touches[0].pageY)-r.$template.offset().top},o=function(){if(r.pointData={el:e,x:f.x,y:f.y,xEditor:f.x-r.crop.left,yEditor:f.y-r.crop.top,left:r.crop.left,top:r.crop.top,width:r.crop.width,height:r.crop.height},e.is(".area-move")&&(r.isMoving=!0),e.is(".point")&&(r.isResizing=!0),r.isMoving||r.isResizing){r.$editor.addClass("moving");n("body").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"});n(window).on("mousemove touchmove",r.mousemove)}};u=="mousedown"&&o();u=="touchstart"&&(r.isTouchLongPress=!0,setTimeout(function(){r.isTouchLongPress&&(delete r.isTouchLongPress,o())},500));n(window).on("mouseup touchend",r.mouseup)},mousemove:function(i){var k=i.originalEvent.touches&&i.originalEvent.touches[0]?"touchstart":"mousedown",d=n(i.target),r=t.popup.editor.cropper,l={x:(k=="mousedown"?i.pageX:i.originalEvent.touches[0].pageX)-r.$template.offset().left,y:(k=="mousedown"?i.pageY:i.originalEvent.touches[0].pageY)-r.$template.offset().top},a,v,y,p;if(r.isMoving&&(a=l.x-r.pointData.xEditor,v=l.y-r.pointData.yEditor,a+r.crop.width>r.$template.width()&&(a=r.$template.width()-r.crop.width),a<0&&(a=0),v+r.crop.height>r.$template.height()&&(v=r.$template.height()-r.crop.height),v<0&&(v=0),r.crop.left=a,r.crop.top=v),r.isResizing){var e=r.pointData.el.attr("class").substr(12),w=r.crop.left+r.crop.width,b=r.crop.top+r.crop.height,h=(f.editor.cropper&&f.editor.cropper.minWidth||0)*r.crop.cfWidth,c=(f.editor.cropper&&f.editor.cropper.minHeight||0)*r.crop.cfHeight,s=f.editor.cropper?f.editor.cropper.ratio:null,o;h>r.$template.width()&&(h=r.$template.width());c>r.$template.height()&&(c=r.$template.height());e!="a"&&e!="b"&&e!="c"||o||(r.crop.top=l.y,r.crop.top<0&&(r.crop.top=0),r.crop.height=b-r.crop.top,r.crop.top>r.crop.top+r.crop.height&&(r.crop.top=b,r.crop.height=0),r.crop.height<c&&(r.crop.top=b-c,r.crop.height=c),o=s?u._assets.ratioToPx(r.crop.width,r.crop.height,s):null,o&&(r.crop.width=o[0],(e=="a"||e=="b")&&(r.crop.left=Math.max(0,r.pointData.left+(r.pointData.width-r.crop.width)/(e=="b"?2:1))),r.crop.left+r.crop.width>r.$template.width()&&(y=r.$template.width()-r.crop.left,r.crop.width=y,r.crop.height=y/o[2]*o[3],r.crop.top=b-r.crop.height)));e!="e"&&e!="f"&&e!="g"||o||(r.crop.height=l.y-r.crop.top,r.crop.height+r.crop.top>r.$template.height()&&(r.crop.height=r.$template.height()-r.crop.top),r.crop.height<c&&(r.crop.height=c),o=s?u._assets.ratioToPx(r.crop.width,r.crop.height,s):null,o&&(r.crop.width=o[0],(e=="f"||e=="g")&&(r.crop.left=Math.max(0,r.pointData.left+(r.pointData.width-r.crop.width)/(e=="f"?2:1))),r.crop.left+r.crop.width>r.$template.width()&&(y=r.$template.width()-r.crop.left,r.crop.width=y,r.crop.height=y/o[2]*o[3])));e!="c"&&e!="d"&&e!="e"||o||(r.crop.width=l.x-r.crop.left,r.crop.width+r.crop.left>r.$template.width()&&(r.crop.width=r.$template.width()-r.crop.left),r.crop.width<h&&(r.crop.width=h),o=s?u._assets.ratioToPx(r.crop.width,r.crop.height,s):null,o&&(r.crop.height=o[1],(e=="c"||e=="d")&&(r.crop.top=Math.max(0,r.pointData.top+(r.pointData.height-r.crop.height)/(e=="d"?2:1))),r.crop.top+r.crop.height>r.$template.height()&&(p=r.$template.height()-r.crop.top,r.crop.height=p,r.crop.width=p/o[3]*o[2])));e!="a"&&e!="g"&&e!="h"||o||(r.crop.left=l.x,r.crop.left>r.$template.width()&&(r.crop.left=r.$template.width()),r.crop.left<0&&(r.crop.left=0),r.crop.width=w-r.crop.left,r.crop.left>r.crop.left+r.crop.width&&(r.crop.left=w,r.crop.width=0),r.crop.width<h&&(r.crop.left=w-h,r.crop.width=h),o=s?u._assets.ratioToPx(r.crop.width,r.crop.height,s):null,o&&(r.crop.height=o[1],(e=="a"||e=="h")&&(r.crop.top=Math.max(0,r.pointData.top+(r.pointData.height-r.crop.height)/(e=="h"?2:1))),r.crop.top+r.crop.height>r.$template.height()&&(p=r.$template.height()-r.crop.top,r.crop.height=p,r.crop.width=p/o[3]*o[2],r.crop.left=w-r.crop.width)))}r.drawPlaceHolder(r.crop)},mouseup:function(){var i=t.popup.editor.cropper;(i.$editor.width()==0||i.$editor.height()==0)&&i.init(i.setDefaultData());delete i.isTouchLongPress;delete i.isMoving;delete i.isResizing;i.$editor.removeClass("moving");n("body").css({"-webkit-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""});n(window).off("mousemove touchmove",i.mousemove);n(window).off("mouseup touchend",i.mouseup)}};t.popup.editor.cropper.init()}else return t.editor.crop=i||t.editor.crop},resize:function(n,t,i,r,u,f){var a=t.getContext("2d"),i=!i&&r?r*n.width/n.height:i,r=!r&&i?i*n.height/n.width:r,y=n.width/n.height,o=y>=1?i:r*y,h=y<1?r:i/y,p,b,k,c,l;if(f&&o<i&&(h=h*(i/o),o=i),f&&h<r&&(o=o*(r/h),h=r),p=Math.min(Math.ceil(Math.log(n.width/o)/Math.log(2)),12),t.width=o,t.height=h,n.width<t.width||n.height<t.height||p<2)f||(t.width=Math.min(n.width,t.width),t.height=Math.min(n.height,t.height)),b=n.width<t.width?(t.width-n.width)/2:0,k=n.height<t.height?(t.height-n.height)/2:0,u||(a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height)),a.drawImage(n,b,k,Math.min(n.width,t.width),Math.min(n.height,t.height));else{var e=document.createElement("canvas"),v=e.getContext("2d"),s=2;for(e.width=n.width/s,e.height=n.height/s,v.fillStyle="#fff",v.fillRect(0,0,e.width,e.height),v.drawImage(n,0,0,n.width/2,n.height/2);p>2;){var w=s+2,c=n.width/s,l=n.height/s;c>e.width&&(c=e.width);l>e.height&&(l=e.height);v.drawImage(e,0,0,c,l,0,0,n.width/w,n.height/w);s=w;p-=1}c=n.width/s;l=n.height/s;c>e.width&&(c=e.width);l>e.height&&(l=e.height);a.drawImage(e,0,0,c,l,0,0,o,h);e=v=null}a=null},save:function(n,t,i,r,c){var k=n.popup&&typeof n.popup.html!="undefined",y,g,p;if(k){if(!n.popup.editor.hasChanges)return;y=n.popup.editor.scale||1;n.editor.rotation=n.popup.editor.rotation||0;n.popup.editor.cropper&&(n.editor.crop=n.popup.editor.cropper.crop,n.editor.crop.width=n.editor.crop.width/n.popup.editor.cropper.crop.cfWidth/y,n.editor.crop.left=n.editor.crop.left/n.popup.editor.cropper.crop.cfWidth/y,n.editor.crop.height=n.editor.crop.height/n.popup.editor.cropper.crop.cfHeight/y,n.editor.crop.top=n.editor.crop.top/n.popup.editor.cropper.crop.cfHeight/y)}var l=document.createElement("canvas"),a=l.getContext("2d"),v=n.reader.node,d=[0,180];if(l.width=v.naturalWidth,l.height=v.naturalHeight,a.drawImage(v,0,0),typeof n.editor.rotation!="undefined"){n.editor.rotation=n.editor.rotation||0;l.width=d.indexOf(n.editor.rotation)>-1?v.naturalWidth:v.naturalHeight;l.height=d.indexOf(n.editor.rotation)>-1?v.naturalHeight:v.naturalWidth;var it=n.editor.rotation*Math.PI/180,rt=l.width*.5,ut=l.height*.5;a.clearRect(0,0,l.width,l.height);a.translate(rt,ut);a.rotate(it);a.translate(-v.naturalWidth*.5,-v.naturalHeight*.5);a.drawImage(v,0,0);a.setTransform(1,0,0,1,0,0)}n.editor.crop&&(g=a.getImageData(n.editor.crop.left,n.editor.crop.top,n.editor.crop.width,n.editor.crop.height),l.width=n.editor.crop.width,l.height=n.editor.crop.height,a.putImageData(g,0,0));var b=i||n.type||"image/jpeg",nt=f.editor.quality||90,w=l.toDataURL(b,nt/100),tt=function(i,l){var a=t?u._assets.dataURItoBlob(i,b):i;k&&!c?u.thumbnails.renderThumbnail(n,!0,l||i):null;r?r(a,n,h,o,s,e):null;f.editor.onSave!=null&&typeof f.editor.onSave=="function"?f.editor.onSave(a,n,h,o,s,e):null;u.set("listInput",null)};f.editor.maxWidth||f.editor.maxHeight?(p=new Image,p.src=w,p.onload=function(){var n=document.createElement("canvas");u.editor.resize(p,n,f.editor.maxWidth,f.editor.maxHeight,!0,!1);w=n.toDataURL(b,nt/100);l=a=n=null;tt(w,p)}):(l=a=null,tt(w))}},sorter:{init:function(){o.on("mousedown touchstart",f.thumbnails._selectors.sorter,u.sorter.mousedown)},destroy:function(){o.off("mousedown touchstart",f.thumbnails._selectors.sorter,u.sorter.mousedown)},prevent:function(n){if(n===!0)return"click drop dragend dragleave dragover dragenter dragstart touchstart touchmove touchend touchcancel";n.preventDefault()},mousedown:function(t){var r=t.originalEvent.touches&&t.originalEvent.touches[0]?"touchstart":"mousedown",e=n(t.target),i=e.closest(f.thumbnails._selectors.item),c=u.files.find(i),s={x:r=="mousedown"||!i.length?t.pageX:t.originalEvent.touches[0].pageX,y:r=="mousedown"||!i.length?t.pageY:t.originalEvent.touches[0].pageY},l=function(){u.sorter.sort={el:e,item:c,items:h.find(f.thumbnails._selectors.item),x:s.x,y:s.y,xItem:s.x-i.offset().left,yItem:s.y-i.offset().top,left:i.position().left,top:i.position().top,width:i.outerWidth(),height:i.outerHeight(),placeholder:f.sorter.placeholder?n(f.sorter.placeholder):c.html.clone().addClass("fileuploader-sorter-placeholder").html("")};n("body").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"});n(window).on("mousemove touchmove",u.sorter.mousemove)};if((u.sorter.sort&&u.sorter.mouseup(),c)&&(!f.sorter.selectorExclude||!(e.is(f.sorter.selectorExclude)||e.closest(f.sorter.selectorExclude).length))){o.on(u.sorter.prevent(!0),f.thumbnails._selectors.sorter,u.sorter.prevent);r=="mousedown"&&l();r=="touchstart"&&(u.sorter.isTouchLongPress=!0,setTimeout(function(){u.sorter.isTouchLongPress&&(delete u.sorter.isTouchLongPress,l())},500));n(window).on("mouseup touchend",u.sorter.mouseup)}},findItemAtPos:function(t){var i=u.sorter.sort,f=i.items.not(i.item.html),r=null;return f.each(function(i,u){var f=n(u);if(t.x>f.offset().left&&t.x<f.offset().left+f.outerWidth()&&t.y>f.offset().top&&t.y<f.offset().top+f.outerHeight())return r=f,!1}),r},mousemove:function(t){var w=t.originalEvent.touches&&t.originalEvent.touches[0]?"touchstart":"mousedown",i=u.sorter.sort,a=i.item,b=h.find(f.thumbnails._selectors.item),e=n(f.sorter.scrollContainer||window),s={left:e.scrollLeft(),top:e.scrollTop()},o={x:w=="mousedown"?t.pageX:t.originalEvent.touches[0].pageX,y:w=="mousedown"?t.pageY:t.originalEvent.touches[0].pageY},c=o.x-i.xItem-s.left,l=o.y-i.yItem-s.top,r,v,y;if(c+i.xItem>e.width()&&(c=e.width()-i.xItem),c<0-i.xItem&&(c=0-i.xItem),l+i.yItem>e.height()&&(l=e.height()-i.yItem),l<0-i.yItem&&(l=0-i.yItem),a.html.addClass("sorting").css({position:"fixed",left:c,top:l,width:u.sorter.sort.width,height:u.sorter.sort.height}),h.find(i.placeholder).length||a.html.after(i.placeholder),i.placeholder.css({width:u.sorter.sort.width,height:u.sorter.sort.height}),r=u.sorter.findItemAtPos({x:c+i.xItem+s.left,y:l+i.yItem+s.top}),r){if(v=i.placeholder.offset().left!=r.offset().left,y=i.placeholder.offset().top!=r.offset().top,u.sorter.sort.lastHover&&u.sorter.sort.lastHover.el==r[0]){if(y&&u.sorter.sort.lastHover.direction=="before"&&o.y<u.sorter.sort.lastHover.y)return;if(y&&u.sorter.sort.lastHover.direction=="after"&&o.y>u.sorter.sort.lastHover.y)return;if(v&&u.sorter.sort.lastHover.direction=="before"&&o.x<u.sorter.sort.lastHover.x)return;if(v&&u.sorter.sort.lastHover.direction=="after"&&o.x>u.sorter.sort.lastHover.x)return}var k=b.index(a.html),d=b.index(r),p=k>d?"before":"after";r[p](i.placeholder);r[p](a.html);u.sorter.sort.lastHover={el:r[0],x:o.x,y:o.y,direction:p};e.scrollLeft(s.left);e.scrollTop(s.top)}},mouseup:function(){var t=u.sorter.sort,i=t.item;n("body").css({"-webkit-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""});i.html.removeClass("sorting").css({position:"",left:"",top:"",width:"",height:""});t.placeholder.remove();delete u.sorter.sort;o.off(u.sorter.prevent(!0),f.thumbnails._selectors.sorter,u.sorter.prevent);n(window).off("mousemove touchmove",u.sorter.mousemove);n(window).off("mouseup touchend",u.sorter.mouseup);u.sorter.save()},save:function(t){var c=0,i=[],r=u.rendered&&t;n.each(t?u._itFl:h.children(),function(t,f){var e=f.file?f:u.files.find(n(f));if(e){if(e.upload&&!e.uploaded)return r=!1,!1;u.rendered&&e.index!=c&&(r=!0);e.index=c;i.push(e);c+=1}});r&&i.length==u._itFl.length&&(u._itFl=i);t||u.set("listInput","ignoreSorter");r&&f.sorter.onSort!=null&&typeof f.sorter.onSort=="function"?f.sorter.onSort(i,h,o,s,e):null}},upload:{prepare:function(n,t){n.upload={url:f.upload.url,data:f.upload.data||{},formData:new FormData,type:f.upload.type||"POST",enctype:f.upload.enctype||"multipart/form-data",cache:!1,contentType:!1,processData:!1,status:null,send:function(){u.upload.send(n,!0)},cancel:function(t){u.upload.cancel(n,t)},retry:function(){u.upload.retry(n)}};n.upload.formData.append(e.attr("name"),n.file,n.name?n.name:!1);(f.upload.start||t)&&u.upload.send(n,t)},send:function(t,i){var r,l,c,a,v,p,y;if(t.upload){if(r=function(n){t.html.removeClass("upload-pending upload-loading upload-cancelled upload-failed upload-success").addClass("upload-"+(n||t.upload.status))},l=function(){var n=0;if(u._pfuL.length>0)for(u._pfuL.indexOf(t)>-1?u._pfuL.splice(u._pfuL.indexOf(t),1):null;n<u._pfuL.length;){if(u._itFl.indexOf(u._pfuL[n])>-1&&u._pfuL[n].upload&&!u._pfuL[n].upload.$ajax){u.upload.send(u._pfuL[n],!0);break}else u._pfuL.splice(n,1);n+=1}},f.upload.synchron&&!t.upload.chunk)if(t.upload.status="pending",t.html&&r(),i)u._pfuL.indexOf(t)>-1?u._pfuL.splice(u._pfuL.indexOf(t),1):null;else if(u._pfuL.indexOf(t)==-1?u._pfuL.push(t):null,u._pfuL.length>1)return;if(f.upload.chunk&&t.file.slice&&(c=f.upload.chunk*1e6,a=Math.ceil(t.size/c,c),a>1&&!t.upload.chunk&&(t.upload.chunk={name:t.name,size:t.file.size,type:t.file.type,chunkSize:c,temp_name:t.name,loaded:0,total:a,i:-1}),t.upload.chunk&&(t.upload.chunk.i+=1,delete t.upload.chunk.isFirst,delete t.upload.chunk.isLast,t.upload.chunk.i==0&&(t.upload.chunk.isFirst=!0),t.upload.chunk.i==t.upload.chunk.total-1&&(t.upload.chunk.isLast=!0),t.upload.chunk.i<=t.upload.chunk.total-1?(v=t.upload.chunk.i*t.upload.chunk.chunkSize,p=t.file.slice(v,v+t.upload.chunk.chunkSize),t.upload.data=f.upload.data||{},t.upload.formData=new FormData,t.upload.formData.append(e.attr("name"),p),t.upload.data._chunkedd=JSON.stringify(t.upload.chunk)):delete t.upload.chunk)),f.upload.beforeSend&&n.isFunction(f.upload.beforeSend)&&f.upload.beforeSend(t,h,o,s,e)===!1){delete t.upload.chunk;r();l();return}if(o.addClass("fileuploader-is-uploading"),t.upload.$ajax&&t.upload.$ajax.abort(),delete t.upload.$ajax,delete t.upload.send,t.upload.status="loading",t.html&&(f.thumbnails._selectors.start&&t.html.find(f.thumbnails._selectors.start).remove(),r()),t.upload.data)for(y in t.upload.data)t.upload.formData.append(y,t.upload.data[y]);t.upload.data=t.upload.formData;t.upload.xhr=function(){var i=n.ajaxSettings.xhr(),r=t.upload.chunk&&t.upload.chunk.xhrStartedAt?t.upload.chunk.xhrStartedAt:new Date;return i.upload&&i.upload.addEventListener("progress",function(n){t.upload.$ajax&&(t.upload.$ajax.total=t.upload.chunk?t.upload.chunk.size:n.total,t.upload.$ajax.xhrStartedAt=r);u.upload.progressHandling(n,t,r)},!1),i};t.upload.complete=function(i,r){if(t.upload.chunk&&!t.upload.chunk.isLast&&r=="success")return u.upload.send(t);l();var c=!0;n.each(u._itFl,function(n,t){t.upload&&t.upload.$ajax&&(c=!1)});c&&(o.removeClass("fileuploader-is-uploading"),f.upload.onComplete!=null&&typeof f.upload.onComplete=="function"?f.upload.onComplete(h,o,s,e,i,r):null)};t.upload.success=function(i,c,l){if(t.upload.chunk&&!t.upload.chunk.isLast){try{var a=JSON.parse(i);t.upload.chunk.temp_name=a.fileuploader.temp_name}catch(v){}return}delete t.upload.chunk;u.upload.progressHandling(null,t,t.upload.$ajax.xhrStartedAt,!0);t.uploaded=!0;delete t.upload;t.upload={status:"successful",resend:function(){u.upload.retry(t)}};t.html&&r();f.upload.onSuccess!=null&&n.isFunction(f.upload.onSuccess)?f.upload.onSuccess(i,t,h,o,s,e,c,l):null;u.set("listInput",null)};t.upload.error=function(i,u,c){t.uploaded=!1;t.upload.status=t.upload.status=="cancelled"?t.upload.status:"failed";delete t.upload.$ajax;t.html&&r();f.upload.onError!=null&&n.isFunction(f.upload.onError)?f.upload.onError(t,h,o,s,e,i,u,c):null};t.upload.$ajax=n.ajax(t.upload)}},cancel:function(n,t){n&&n.upload&&(n.upload.status="cancelled",delete n.upload.chunk,n.upload.$ajax?n.upload.$ajax.abort():null,delete n.upload.$ajax,t?null:u.files.remove(n))},retry:function(n){n&&n.upload&&(n.html&&f.thumbnails._selectors.retry&&n.html.find(f.thumbnails._selectors.retry).remove(),u.upload.prepare(n,!0))},progressHandling:function(t,i,r,c){if(!t&&c&&i.upload.$ajax&&(t={total:i.upload.$ajax.total,loaded:i.upload.$ajax.total,lengthComputable:!0}),t.lengthComputable){var l=t.loaded+(i.upload.chunk?i.upload.chunk.loaded:0),v=i.upload.chunk?i.upload.chunk.size:t.total,k=Math.round(l*100/v),d=i.upload.chunk&&i.upload.chunk.xhrStartedAt?i.upload.chunk.xhrStartedAt:r,a=((new Date).getTime()-d.getTime())/1e3,y=a?l/a:0,p=Math.max(0,v-l),b=Math.max(0,a?p/y:0),w={loaded:l,loadedInFormat:u._assets.bytesToText(l),total:v,totalInFormat:u._assets.bytesToText(v),percentage:k,secondsElapsed:a,secondsElapsedInFormat:u._assets.secondsToText(a,!0),bytesPerSecond:y,bytesPerSecondInFormat:u._assets.bytesToText(y)+"/s",remainingBytes:p,remainingBytesInFormat:u._assets.bytesToText(p),secondsRemaining:b,secondsRemainingInFormat:u._assets.secondsToText(b,!0)};i.upload.chunk&&(i.upload.chunk.isFirst&&(i.upload.chunk.xhrStartedAt=r),t.loaded!=t.total||i.upload.chunk.isLast||(i.upload.chunk.loaded+=Math.max(t.total,i.upload.chunk.total/i.upload.chunk.chunkSize)));w.percentage>99&&!c&&(w.percentage=99);f.upload.onProgress&&n.isFunction(f.upload.onProgress)?f.upload.onProgress(w,i,h,o,s,e):null}}},dragDrop:{onDragEnter:function(t){clearTimeout(u.dragDrop._timer);f.dragDrop.container.addClass("fileuploader-dragging");u.set("feedback",u._assets.textParse(f.captions.drop));f.dragDrop.onDragEnter!=null&&n.isFunction(f.dragDrop.onDragEnter)?f.dragDrop.onDragEnter(t,h,o,s,e):null},onDragLeave:function(t){clearTimeout(u.dragDrop._timer);u.dragDrop._timer=setTimeout(function(t){if(!u.dragDrop._dragLeaveCheck(t))return!1;f.dragDrop.container.removeClass("fileuploader-dragging");u.set("feedback",null);f.dragDrop.onDragLeave!=null&&n.isFunction(f.dragDrop.onDragLeave)?f.dragDrop.onDragLeave(t,h,o,s,e):null},100,t)},onDrop:function(t){if(clearTimeout(u.dragDrop._timer),f.dragDrop.container.removeClass("fileuploader-dragging"),u.set("feedback",null),t&&t.originalEvent&&t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files&&t.originalEvent.dataTransfer.files.length)if(u.isUploadMode())u.onChange(t,t.originalEvent.dataTransfer.files);else e.prop("files",t.originalEvent.dataTransfer.files);f.dragDrop.onDrop!=null&&n.isFunction(f.dragDrop.onDrop)?f.dragDrop.onDrop(t,h,o,s,e):null},_dragLeaveCheck:function(t){var i=n(t.currentTarget),r;return!i.is(f.dragDrop.container)&&(r=f.dragDrop.container.find(i),r.length)?!1:!0}},clipboard:{paste:function(n){var r,t,i,e;if(u._assets.isIntoView(s)&&n.originalEvent.clipboardData&&n.originalEvent.clipboardData.items&&n.originalEvent.clipboardData.items.length)for(r=n.originalEvent.clipboardData.items,u.clipboard.clean(),t=0;t<r.length;t+=1)(r[t].type.indexOf("image")!==-1||r[t].type.indexOf("text/uri-list")!==-1)&&(i=r[t].getAsFile(),e=f.clipboardPaste>1?f.clipboardPaste:2e3,i&&(i._name=u._assets.generateFileName(i.type.indexOf("/")!=-1?i.type.split("/")[1].toString().toLowerCase():"png","Clipboard "),u.set("feedback",u._assets.textParse(f.captions.paste,{ms:e/1e3})),u.clipboard._timer=setTimeout(function(){u.set("feedback",null);u.onChange(n,[i])},e-2)))},clean:function(){u.clipboard._timer&&(clearTimeout(u.clipboard._timer),delete u.clipboard._timer,u.set("feedback",null))}},files:{add:function(n,t){var r=n._name||n.name,l=n.size,v=u._assets.bytesToText(l),s=n.type,a=s?s.split("/",1).toString().toLowerCase():"",h=r.indexOf(".")!=-1?r.split(".").pop().toLowerCase():"",y=r.substr(0,r.length-(r.indexOf(".")!=-1?h.length+1:h.length)),c=n.data||{},p=n.file||n,w=t=="updated"?n.id:Date.now(),o,i,c={name:r,title:y,size:l,size2:v,type:s,format:a,extension:h,data:c,file:p,reader:{read:function(n,t,r){return u.files.read(i,n,t,r)}},id:w,input:t=="choosed"?e:null,html:null,choosed:t=="choosed",appended:t=="appended"||t=="updated",uploaded:t=="uploaded"};return t!="updated"?(u._itFl.push(c),o=u._itFl.length-1,i=u._itFl[o]):(o=u._itFl.indexOf(n),u._itFl[o]=i=c),i.remove=function(){u.files.remove(i)},f.editor&&a=="image"&&(i.editor={rotate:function(n){u.editor.rotate(i,n)},cropper:function(n){u.editor.crop(i,n)},save:function(n,t,r,f){u.editor.save(i,t,r,n,f)}}),o},read:function(t,i,r,c,l){var v,d,b;if(u.isFileReaderSupported()&&!t.data.readerSkip){var a=new FileReader,p=window.URL||window.webkitURL,k=l&&t.data.thumbnail,w=typeof t.file!="string",y=function(){var r=t.reader._callbacks||[],i;for(t.reader._timer&&(clearTimeout(t.reader._timer),delete t.reader._timer),delete t.reader._callbacks,delete t.reader._FileReader,i=0;i<r.length;i+=1)n.isFunction(r[i])?r[i](t,h,o,s,e):null;f.onFileRead&&n.isFunction(f.onFileRead)?f.onFileRead(t,h,o,s,e):null};if((t.reader.src||t.reader._FileReader)&&!c||(t.reader={_FileReader:a,_callbacks:[],read:t.reader.read}),t.reader.src&&!c)return i&&n.isFunction(i)?i(t,h,o,s,e):null;if(i&&t.reader._callbacks&&(t.reader._callbacks.push(i),t.reader._callbacks.length>1))return;if(t.format=="astext")a.onload=function(n){var i=document.createElement("div");t.reader.node=i;t.reader.src=n.target.result;t.reader.length=n.target.result.length;i.innerHTML=t.reader.src.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");y()},a.onerror=function(){y();t.reader={read:t.reader.read}},w?a.readAsText(t.file):n.ajax({url:t.file,success:function(n){a.onload({target:{result:n}})},error:function(){a.onerror()}});else if(t.format=="image"||k)if(a.onload=function(n){var i=new Image,r=function(){t.data&&t.data.readerCrossOrigin&&i.setAttribute("crossOrigin",t.data.readerCrossOrigin);i.src=n.target.result+(c&&!w&&n.target.result.indexOf("data:image")==-1?(n.target.result.indexOf("?")==-1?"?":"&")+"d="+Date.now():"");i.onload=function(){if(t.reader.exifOrientation){var n=document.createElement("canvas"),f=n.getContext("2d"),r=i,e=t.reader.exifOrientation,o=[0,180];n.width=r.naturalWidth;n.height=r.naturalHeight;f.drawImage(r,0,0);n.width=o.indexOf(e)>-1?r.naturalWidth:r.naturalHeight;n.height=o.indexOf(e)>-1?r.naturalHeight:r.naturalWidth;var s=e*Math.PI/180,h=n.width*.5,c=n.height*.5;f.clearRect(0,0,n.width,n.height);f.translate(h,c);f.rotate(s);f.translate(-r.naturalWidth*.5,-r.naturalHeight*.5);f.drawImage(r,0,0);f.setTransform(1,0,0,1,0,0);i.src=n.toDataURL(t.type,1);delete t.reader.exifOrientation;return}t.reader.node=i;t.reader.src=i.src;t.reader.width=i.width;t.reader.height=i.height;t.reader.ratio=u._assets.pxToRatio(t.reader.width,t.reader.height);b&&p.revokeObjectURL(b);y();k&&(t.reader={read:t.reader.read})};i.onerror=function(){y();t.reader={read:t.reader.read}}};f.thumbnails.exif&&t.choosed?u._assets.getExifOrientation(t.file,function(n){n&&(t.reader.exifOrientation=n);r()}):r()},a.onerror=function(){y();t.reader={read:t.reader.read}},w)if(f.thumbnails.useObjectUrl&&f.thumbnails.canvasImage&&p)a.onload({target:{result:b=p.createObjectURL(t.file)}});else a.readAsDataURL(t.file);else a.onload({target:{result:k?t.data.thumbnail:t.file}});else if(t.format=="video"||t.format=="audio")if(v=document.createElement(t.format),d=v.canPlayType(t.type),a.onerror=function(){t.reader.node=null;y();t.reader={read:t.reader.read}},p&&d!==""){if(l&&!f.thumbnails.videoThumbnail){t.reader.node=v;y();t.reader={read:t.reader.read};return}b=w?p.createObjectURL(t.file):t.file;v.onloadedmetadata=function(){t.reader.node=v;t.reader.src=v.src;t.reader.duration=v.duration;t.reader.duration2=u._assets.secondsToText(v.duration);t.format=="video"&&(t.reader.width=v.videoWidth,t.reader.height=v.videoHeight,t.reader.ratio=u._assets.pxToRatio(t.reader.width,t.reader.height))};v.onerror=function(){y();t.reader={read:t.reader.read}};v.onloadeddata=function(){if(t.format=="video"){var n=document.createElement("canvas"),i=n.getContext("2d");n.width=v.videoWidth;n.height=v.videoHeight;i.drawImage(v,0,0,n.width,n.height);t.reader.frame=u._assets.isBlankCanvas(n)?null:n.toDataURL();n=i=null}y()};setTimeout(function(){t.data&&t.data.readerCrossOrigin&&v.setAttribute("crossOrigin",t.data.readerCrossOrigin);v.src=b},100)}else a.onerror();else a.onload=function(n){t.reader.src=n.target.result;t.reader.length=n.target.result.length;y()},a.onerror=function(){y();t.reader={read:t.reader.read}},w?a[r||"readAsBinaryString"](t.file):y();t.reader._timer=setTimeout(a.onerror,l?f.reader.thumbnailTimeout:f.reader.timeout)}else i&&i(t,h,o,s,e);return null},list:function(t,i,r,c){var l=[];return!f.sorter||r||c&&c=="ignoreSorter"||u.sorter.save(!0),n.each(u._itFl,function(n,r){var f,e;if(r.upload&&!r.uploaded)return!0;if(f=r,(i||t)&&(f=(f.choosed?"0:/":"")+(i&&u.files.getItemAttr(r,i)!==null?u.files.getItemAttr(r,i):r[typeof r.file=="string"?"file":"name"])),t&&(f={file:f},r.editor&&(r.editor.crop||r.editor.rotation)&&(f.editor={},r.editor.rotation&&(f.editor.rotation=r.editor.rotation),r.editor.crop&&(f.editor.crop=r.editor.crop)),typeof r.index!="undefined"&&(f.index=r.index),r.data&&r.data.listProps))for(e in r.data.listProps)f[e]=r.data.listProps[e];l.push(f)}),l=f.onListInput&&n.isFunction(f.onListInput)?f.onListInput(l,u._itFl,f.listInput,h,o,s,e):l,t?JSON.stringify(l):l},check:function(t,i,r){var c=["warning",null,!1,!1],a,l;return f.limit!=null&&r&&i.length+u._itFl.length-1>f.limit?(c[1]=u._assets.textParse(f.captions.errors.filesLimit),c[3]=!0,c):f.maxSize!=null&&r&&(l=0,n.each(u._itFl,function(n,t){l+=t.size}),l-=t.size,n.each(i,function(n,t){l+=t.size}),l>Math.round(f.maxSize*1e6))?(c[1]=u._assets.textParse(f.captions.errors.filesSizeAll),c[3]=!0,c):f.onFilesCheck!=null&&n.isFunction(f.onFilesCheck)&&r&&(a=f.onFilesCheck(i,f,h,o,s,e),a===!1)?(c[3]=!0,c):f.extensions!=null&&n.inArray(t.extension,f.extensions)==-1&&n.inArray(t.type,f.extensions)==-1?(c[1]=u._assets.textParse(f.captions.errors.filesType,t),c):f.fileMaxSize!=null&&t.size>f.fileMaxSize*1e6?(c[1]=u._assets.textParse(f.captions.errors.fileSize,t),c):t.size==4096&&t.type==""?(c[1]=u._assets.textParse(f.captions.errors.folderUpload,t),c):!f.skipFileNameCheck&&(l=!1,n.each(u._itFl,function(n,r){if(r!=t&&r.choosed==!0&&r.file&&r.name==t.name)return l=!0,r.file.size==t.size&&r.file.type==t.type&&(t.file.lastModified&&r.file.lastModified?r.file.lastModified==t.file.lastModified:!0)&&i.length>1?c[2]=!0:(c[1]=u._assets.textParse(f.captions.errors.fileName,t),c[2]=!1),!1}),l)?c:!0},append:function(t){var r,i;if(t=n.isArray(t)?t:[t],t.length){for(i=0;i<t.length;i+=1)r=u._itFl[u.files.add(t[i],"appended")],f.thumbnails?u.thumbnails.item(r):null;return u.set("feedback",null),u.set("listInput",null),f.afterSelect&&n.isFunction(f.afterSelect)?f.afterSelect(h,o,s,e):null,t.length==1?r:!0}},update:function(t,i){if(u._itFl.indexOf(t)!=-1&&(!t.upload||!t.upload.$ajax)){var r=t,e=u.files.add(n.extend(t,i),"updated"),t=u._itFl[e];t.popup&&t.popup.close&&t.popup.close();f.thumbnails&&r.html&&u.thumbnails.item(t,r.html);u.set("listInput",null)}},find:function(t){var i=null;return n.each(u._itFl,function(n,r){if(r.html&&r.html.is(t))return i=r,!1}),i},remove:function(t,i){if(i||!f.onRemove||!n.isFunction(f.onRemove)||f.onRemove(t,h,o,s,e)!==!1){if(t.html&&(f.thumbnails.onItemRemove&&n.isFunction(f.thumbnails.onItemRemove)&&!i?f.thumbnails.onItemRemove(t.html,h,o,s,e):t.html.remove()),t.upload&&t.upload.$ajax&&t.upload.cancel&&t.upload.cancel(!0),t.popup&&t.popup.close&&t.popup.close(),t.reader.src&&(t.reader.node=null,URL.revokeObjectURL(t.reader.src)),t.input){var r=!0;n.each(u._itFl,function(n,u){if(t!=u&&(t.input==u.input||i&&t.input.get(0).files.length>1))return r=!1,!1});r&&(u.isAddMoreMode()&&c.length>1?(u.set("nextInput"),c.splice(c.indexOf(t.input),1),t.input.remove()):u.set("input",""))}u._pfrL.indexOf(t)>-1?u._pfrL.splice(u._pfrL.indexOf(t),1):null;u._pfuL.indexOf(t)>-1?u._pfuL.splice(u._pfuL.indexOf(t),1):null;u._itFl.indexOf(t)>-1?u._itFl.splice(u._itFl.indexOf(t),1):null;t=null;u._itFl.length==0?u.reset():null;u.set("feedback",null);u.set("listInput",null)}},getItemAttr:function(n,t){var i=null;return n&&(typeof n[t]!="undefined"?i=n[t]:n.data&&typeof n.data[t]!="undefined"&&(i=n.data[t])),i},clear:function(t){for(var r=0,i;r<u._itFl.length;){if(i=u._itFl[r],!t&&i.appended){r+=1;continue}i.html&&(i.html?u._itFl[r].html.remove():null);i.upload&&i.upload.$ajax&&u.upload.cancel(i);u._itFl.splice(r,1)}u.set("feedback",null);u.set("listInput",null);u._itFl.length==0&&f.onEmpty&&n.isFunction(f.onEmpty)?f.onEmpty(h,o,s,e):null}},reset:function(t){t&&(u.clipboard._timer&&u.clipboard.clean(),n.each(c,function(n,t){n<c.length&&t.remove()}),c=[],u.set("input",""));u._itRl=[];u._pfuL=[];u._pfrL=[];u.files.clear(t)},destroy:function(){u.reset(!0);u.bindUnbindEvents(!1);e.removeAttr("style");o.before(e);delete e.get(0).getEvali;o.remove();o=s=h=null},_assets:{bytesToText:function(n){if(n==0)return"0 Byte";var t=1e3,i=Math.floor(Math.log(n)/Math.log(t));return(n/Math.pow(t,i)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]},secondsToText:function(n,t){n=parseInt(Math.round(n),10);var i=Math.floor(n/3600),r=Math.floor((n-i*3600)/60),n=n-i*3600-r*60,u="";return(i>0||!t)&&(u+=(i<10?"0":"")+i+(t?"h ":":")),(r>0||!t)&&(u+=(r<10&&!t?"0":"")+r+(t?"m ":":")),u+((n<10&&!t?"0":"")+n+(t?"s":""))},pxToRatio:function(n,t){var i=function(n,t){return t==0?n:i(t,points)},r=i(n,t);return[n/r,t/r]},ratioToPx:function(n,t,i){if(i=(i+"").split(":"),i.length<2)return null;var r=t/i[1]*i[0],u=n/i[0]*i[1];return[r,u,i[0],i[1]]},hasAttr:function(n,t){var t=t?t:e,i=t.attr(n);return i&&typeof i!="undefined"?!0:!1},copyAllAttributes:function(t,i){return n.each(i.get(0).attributes,function(){this.name!="required"&&this.name!="type"&&t.attr(this.name,this.value)}),i.get(0).getEvali&&(t.get(0).getEvali=i.get(0).getEvali),t},getAllEvents:function(n){var n=n?n:e,t=[],i;n=n.get?n.get(0):n;for(i in n)i.indexOf("on")===0&&t.push(i.slice(2));return t.indexOf("change")==-1&&t.push("change"),t.join(" ")},isIntoView:function(t){var i=n(window).scrollTop(),u=i+window.innerHeight,r=t.offset().top,f=r+t.outerHeight();return i<r&&u>f},isBlankCanvas:function(n){var t=document.createElement("canvas"),i=!1;t.width=n.width;t.height=n.height;try{i=n.toDataURL()==t.toDataURL()}catch(r){}return t=null,i},generateFileName:function(n,t){var i=new Date,r=function(n){return n<10&&(n="0"+n),n},t=t?t:"",n=n?"."+n:"";return t+i.getFullYear()+"-"+r(i.getMonth()+1)+"-"+r(i.getDate())+" "+r(i.getHours())+"-"+r(i.getMinutes())+"-"+r(i.getSeconds())+n},arrayBufferToBase64:function(n){for(var i="",r=new Uint8Array(n),t=0;t<r.byteLength;t+=1)i+=String.fromCharCode(r[t]);return window.btoa(i)},dataURItoBlob:function(n,t){for(var f,e,r=atob(n.split(",")[1]),o=n.split(",")[0].split(":")[1].split(";")[0],u=new ArrayBuffer(r.length),s=new Uint8Array(u),i=0;i<r.length;i+=1)s[i]=r.charCodeAt(i);return f=new DataView(u),e=new Blob([f.buffer],{type:t||o}),e},getExifOrientation:function(n,t){var i=new FileReader,r={1:0,3:180,6:90,8:270};i.onload=function(n){var u=new DataView(n.target.result),h=1,o,i,s,f,c,e;if(u.getUint16(0,!1)==65496)for(o=u.byteLength,i=2;i<o;){if(u.getUint16(i+2,!1)<=8)break;if(s=u.getUint16(i,!1),i+=2,s==65505){if(u.getUint32(i+=2,!1)!=1165519206)break;for(f=u.getUint16(i+=6,!1)==18761,i+=u.getUint32(i+4,f),c=u.getUint16(i,f),i+=2,e=0;e<c;e+=1)if(u.getUint16(i+e*12,f)==274){h=u.getUint16(i+e*12+8,f);o=0;break}}else if((s&65280)!=65280)break;else i+=u.getUint16(i,!1)}t?t(r[h]||0):null};i.onerror=function(){t?t(""):null};i.readAsArrayBuffer(n)},textParse:function(t,i,r){i=r?i||{}:n.extend({},{limit:f.limit,maxSize:f.maxSize,fileMaxSize:f.fileMaxSize,extensions:f.extensions?f.extensions.join(", "):null,captions:f.captions},i);switch(typeof t){case"string":t=t.replace(/\$\{(.*?)\}/g,function(t,r){var r=r.replace(/ /g,""),f=typeof i[r]!="undefined"&&i[r]!=null?i[r]:"",e,o;if((r.indexOf(".")>-1||r.indexOf("[]")>-1)&&(e=r.substr(0,r.indexOf(".")>-1?r.indexOf("."):r.indexOf("[")>-1?r.indexOf("["):r.length),o=r.substring(e.length),i[e]))try{f=eval('opts["'+e+'"]'+o)}catch(s){f=""}return f=n.isFunction(f)?u._assets.textParse(f):f,f||""});break;case"function":t=u._assets.textParse(t(i,h,o,s,e,u._assets.textParse),i,r)}return i=null,t},textToColor:function(n){var i,t,r;if(!n||n.length==0)return!1;for(t=0,i=0;t<n.length;i=n.charCodeAt(t+=1)+((i<<5)-i));for(t=0,r="#";t<3;r+=("00"+(i>>(t+=1)*2&255).toString(16)).slice(-2));return r},isBrightColor:function(t){var i=function(t){var i;return t&&t.constructor==Array&&t.length==3?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:typeof colors!="undefined"?colors[n.trim(t).toLowerCase()]:null},r=function(n){var t=i(n);return t?.2126*t[0]+.7152*t[1]+.0722*t[2]:null};return r(t)>194}},isSupported:function(){return e&&e.get(0).files},isFileReaderSupported:function(){return window.File&&window.FileList&&window.FileReader},isDefaultMode:function(){return!f.upload&&!f.addMore},isAddMoreMode:function(){return!f.upload&&f.addMore&&f.limit!=1},isUploadMode:function(){return f.upload},_itFl:[],_pfuL:[],_pfrL:[],disabled:!1,locked:!1,rendered:!1};return f.enableApi&&(e.get(0).getEvali={open:function(){e.trigger("click")},getOptions:function(){return f},getParentEl:function(){return o},getInputEl:function(){return e},getNewInputEl:function(){return s},getListEl:function(){return h},getListInputEl:function(){return f.listInput},getFiles:function(){return u._itFl},getChoosedFiles:function(){return u._itFl.filter(function(n){return n.choosed})},getAppendedFiles:function(){return u._itFl.filter(function(n){return n.appended})},getUploadedFiles:function(){return u._itFl.filter(function(n){return n.uploaded})},getFileList:function(n,t){return u.files.list(n,t,!0)},updateFileList:function(){return u.set("listInput",null),!0},setOption:function(n,t){return f[n]=t,!0},findFile:function(n){return u.files.find(n)},add:function(n,t,i){var r,f;if(!u.isUploadMode())return!1;n instanceof Blob?r=n:(f=/data:[a-z]+\/[a-z]+\;base64\,/.test(n)?n:"data:"+t+";base64,"+btoa(n),r=u._assets.dataURItoBlob(f,t));r._name=i||u._assets.generateFileName(r.type.indexOf("/")!=-1?r.type.split("/")[1].toString().toLowerCase():"File ");u.onChange(null,[r]);return!0},append:function(n){return u.files.append(n)},update:function(n,t){return u.files.update(n,t)},remove:function(n){return(n=n.jquery?u.files.find(n):n,u._itFl.indexOf(n)>-1)?(u.files.remove(n),!0):!1},uploadStart:function(){var n=this.getChoosedFiles()||[],t;if(u.isUploadMode()&&n.length>0&&!n[0].uploaded)for(t=0;t<n.length;t+=1)u.upload.send(n[t])},reset:function(){return u.reset(!0),!0},disable:function(n){return u.set("disabled",!0),n&&(u.locked=!0),!0},enable:function(){return u.set("disabled",!1),u.locked=!1,!0},destroy:function(){return u.destroy(),!0},isEmpty:function(){return u._itFl.length==0},isDisabled:function(){return u.disabled},isRendered:function(){return u.rendered},assets:u._assets,getPluginMode:function(){return u.isDefaultMode()?"default":u.isAddMoreMode()?"addMore":u.isUploadMode()?"upload":void 0}}),u.init(),this})};n.getEvali={getInstance:function(t){var i=t.prop?t:n(t);return i.get(0).getEvali}};n.fn.getEvali.defaults={limit:null,maxSize:null,fileMaxSize:null,extensions:null,changeInput:!0,inputNameBrackets:!0,theme:"default",thumbnails:{box:'<div class="fileuploader-items"><ul class="fileuploader-items-list"><\/ul><\/div>',boxAppendTo:null,item:'<li class="fileuploader-item file-has-popup"><div class="columns"><div class="column-thumbnail">${image}<span class="fileuploader-action-popup"><\/span><\/div><div class="column-title"><div title="${name}">${name}<\/div><span>${size2}<\/span><\/div><div class="column-actions"><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i><\/i><\/a><\/div><\/div><div class="progress-bar2">${progressBar}<span><\/span><\/div><\/li>',item2:'<li class="fileuploader-item file-has-popup"><div class="columns"><div class="column-thumbnail">${image}<span class="fileuploader-action-popup"><\/span><\/div><div class="column-title"><a href="${file}" target="_blank"><div title="${name}">${name}<\/div><span>${size2}<\/span><\/a><\/div><div class="column-actions"><a href="${file}" class="fileuploader-action fileuploader-action-download" title="${captions.download}" download><i><\/i><\/a><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i><\/i><\/a><\/div><\/div><\/li>',popup:{container:"body",loop:!0,arrows:!0,template:function(n){return'<div class="fileuploader-popup-preview"><a class="fileuploader-popup-move" data-action="prev"><\/a><div class="fileuploader-popup-node ${format}">${reader.node}<\/div><div class="fileuploader-popup-content"><ul class="fileuploader-popup-meta"><li><span>${captions.name}:<\/span><h5>${name}<\/h5><\/li><li><span>${captions.type}:<\/span><h5>${extension.toUpperCase()}<\/h5><\/li><li><span>${captions.size}:<\/span><h5>${size2}<\/h5><\/li>'+(n.reader&&n.reader.width?"<li><span>${captions.dimensions}:<\/span><h5>${reader.width}x${reader.height}px<\/h5><\/li>":"")+(n.reader&&n.reader.duration?"<li><span>${captions.duration}:<\/span><h5>${reader.duration2}<\/h5><\/li>":"")+'<\/ul><ul class="fileuploader-popup-tools">'+(n.format=="image"&&n.editor?(n.editor.cropper?'<li><a data-action="crop"><i><\/i><span>${captions.crop}<\/span><\/a><\/li>':"")+(n.editor.rotate?'<li><a data-action="rotate-cw"><i><\/i><span>${captions.rotate}<\/span><\/a><\/li>':""):"")+'<li><a data-action="remove"><i><\/i><span>${captions.remove}<\/span><\/a><\/li><\/ul><div class="fileuploader-popup-buttons"><a class="fileuploader-popup-button" data-action="cancel">${captions.cancel}<\/a><a class="fileuploader-popup-button button-success" data-action="save">${captions.confirm}<\/a><\/div><\/div><a class="fileuploader-popup-move" data-action="next"><\/a><\/div>'},onShow:function(n){n.popup.html.on("click",'[data-action="prev"]',function(){n.popup.move("prev")}).on("click",'[data-action="next"]',function(){n.popup.move("next")}).on("click",'[data-action="crop"]',function(){n.editor&&n.editor.cropper()}).on("click",'[data-action="rotate-cw"]',function(){n.editor&&n.editor.rotate()}).on("click",'[data-action="remove"]',function(){n.popup.close();n.remove()}).on("click",'[data-action="cancel"]',function(){n.popup.close()}).on("click",'[data-action="save"]',function(){n.editor&&n.editor.save();n.popup.close&&n.popup.close()})},onHide:null},itemPrepend:!1,removeConfirmation:!0,startImageRenderer:!0,synchronImages:!0,useObjectUrl:!1,canvasImage:!0,videoThumbnail:!1,exif:!0,_selectors:{list:".fileuploader-items-list",item:".fileuploader-item",start:".fileuploader-action-start",retry:".fileuploader-action-retry",remove:".fileuploader-action-remove",sorter:".fileuploader-action-sort",popup:".fileuploader-popup-preview",popup_open:".fileuploader-action-popup"},beforeShow:null,onItemShow:null,onItemRemove:function(n){n.children().animate({opacity:0},200,function(){setTimeout(function(){n.slideUp(200,function(){n.remove()})},100)})},onImageLoaded:null},editor:!1,sorter:!1,reader:{thumbnailTimeout:5e3,timeout:12e3},files:null,upload:null,dragDrop:!0,addMore:!1,skipFileNameCheck:!1,clipboardPaste:!0,listInput:!0,enableApi:!1,listeners:null,onSupportError:null,beforeRender:null,afterRender:null,beforeSelect:null,onFilesCheck:null,onFileRead:null,onSelect:null,afterSelect:null,onListInput:null,onRemove:null,onEmpty:null,dialogs:{alert:function(n){return alert(n)},confirm:function(n,t){confirm(n)?t():null}},captions:{button:function(n){return"Choose "+(n.limit==1?"File":"Files")},feedback:function(n){return"Choose "+(n.limit==1?"file":"files")+" to upload"},feedback2:function(n){return n.length+" "+(n.length>1?" files were":" file was")+" chosen"},confirm:"Confirm",cancel:"Cancel",name:"Name",type:"Type",size:"Size",dimensions:"Dimensions",duration:"Duration",crop:"Crop",rotate:"Rotate",sort:"Sort",download:"Download",remove:"Remove",drop:"Drop the files here to Upload",paste:'<div class="fileuploader-pending-loader"><\/div> Pasting a file, click here to cancel.',removeConfirmation:"Are you sure you want to remove this file?",errors:{filesLimit:"Only ${limit} files are allowed to be uploaded.",filesType:"Only ${extensions} files are allowed to be uploaded.",fileSize:"${name} is too large! Please choose a file up to ${fileMaxSize}MB.",filesSizeAll:"Files that you chose are too large! Please upload files up to ${maxSize} MB.",fileName:"File with the name ${name} is already selected.",folderUpload:"You are not allowed to upload folders."}}}}(jQuery);!function(n){n.cModal=function(t){var f,o={type:"default",title:null,text:null,size:"normal",buttons:[{text:"OK",val:!0,onClick:function(){return!0}}],center:!0,autoclose:!1,callback:null,onShow:null,animate:!0,closeClick:!0,closable:!0,theme:"default",background:null,zIndex:1050,buttonText:{ok:"OK",yes:"Yes",cancel:"Cancel"},template:'<div class="modal-box"><div class="modal-inner"><div class="modal-title"><a class="modal-close-btn"><\/a><\/div><div class="modal-text"><\/div><div class="modal-buttons"><\/div><\/div><\/div>',_classes:{box:".modal-box",boxInner:".modal-inner",title:".modal-title",content:".modal-text",buttons:".modal-buttons",closebtn:".modal-close-btn"}},t=n.extend({},o,t),r=n("<div id='modal-window' />").hide(),u=t._classes.box,e=r.append(t.template),i={init:function(){n("#modal-window").remove();i._setStyle();i._modalShow();i._modalConent();r.on("click","a.modal-btn",function(){i._modalBtn(n(this))}).on("click",t._classes.closebtn,function(){f=!1;i._modalHide()}).click(function(n){t.closeClick&&"modal-window"==n.target.id&&(f=!1,i._modalHide())});n(window).bind("keyup",i._keyUpF).resize(function(){var n=t.animate;t.animate=!1;i._position();t.animate=n})},_setStyle:function(){r.css({position:"fixed",width:"100%",height:"100%",top:"0",left:"0","z-index":t.zIndex,overflow:"auto"});r.find(t._classes.box).css({position:"absolute"})},_keyUpF:function(n){switch(n.keyCode){case 13:if(e.find("input:not(.modal-prompt-input),textarea").is(":focus"))return!1;i._modalBtn(r.find(t._classes.buttons+" a.modal-btn"+("undefined"!=typeof i.btnForEKey&&r.find(t._classes.buttons+" a.modal-btn:eq("+i.btnForEKey+")").length>0?":eq("+i.btnForEKey+")":":last-child")));break;case 27:i._modalHide()}},_modalShow:function(){n("body").css({overflow:"hidden",width:n("body").innerWidth()}).append(e)},_modalHide:function(e){if(t.closable===!1)return!1;f="undefined"==typeof f?!1:f;var o=function(){if(null!=t.callback&&"function"==typeof t.callback&&0==t.callback(f,r,i.actions)?!1:!0){r.fadeOut(200,function(){n(this).remove();n("body").css({overflow:"",width:""})});var e=100*parseFloat(n(u).css("top"))/parseFloat(n(u).parent().css("height"));n(u).stop(!0,!0).animate({top:e+(t.animate?3:0)+"%"},"fast")}};e?setTimeout(function(){o()},e):o();n(window).unbind("keyup",i._keyUpF)},_modalConent:function(){var s=t._classes.title,h=t._classes.content,c=t._classes.buttons,e=t.buttonText,f,o;if(-1==n.inArray(t.type,["alert","confirm","prompt"])&&"default"!=t.type&&n(u).addClass("modal-type-"+t.type),n(u).addClass(t.size&&null!=t.size?"modal-size-"+t.size:"modal-size-normal"),t.theme&&null!=t.theme&&"default"!=t.theme&&n(u).addClass((-1==n.inArray(t.theme,["xenon","atlant","reseted"])?"":"modal-theme-")+t.theme),t.background&&null!=t.background&&r.css("background-color",t.background),t.title||null!=t.title?n(s).prepend("<h3>"+t.title+"<\/h3>"):n(s).remove(),"prompt"==t.type?t.text=(null!=t.text?t.text:"")+'<input type="text" name="modal-prompt-input" class="modal-prompt-input" autocomplete="off" autofocus="on" />':"",n(h).html(t.text),t.buttons||null!=t.buttons){f="";switch(t.type){case"alert":f='<a class="modal-btn'+(t.buttons[0].addClass?" "+t.buttons[0].addClass:"")+'">'+e.ok+"<\/a>";break;case"confirm":f='<a class="modal-btn'+(t.buttons[0].addClass?" "+t.buttons[0].addClass:"")+'">'+e.cancel+'<\/a><a class="modal-btn '+(t.buttons[1]&&t.buttons[1].addClass?" "+t.buttons[1].addClass:"btn-purple")+'">'+e.yes+"<\/a>";break;case"prompt":f='<a class="modal-btn'+(t.buttons[0].addClass?" "+t.buttons[0].addClass:"")+'">'+e.cancel+'<\/a><a class="modal-btn '+(t.buttons[1]&&t.buttons[1].addClass?" "+t.buttons[1].addClass:"btn-purple")+'">'+e.ok+"<\/a>";break;default:t.buttons.length>0&&n.isArray(t.buttons)?n.each(t.buttons,function(n,t){var r=t.addClass&&"undefined"!=typeof t.addClass?" "+t.addClass:"";f+='<a class="modal-btn'+r+'">'+t.text+"<\/a>";t.eKey&&(i.btnForEKey=n)}):f+='<a class="modal-btn">'+e.ok+"<\/a>"}n(c).html(f)}else n(c).remove();("prompt"==t.type&&$(".modal-prompt-input").focus(),t.autoclose)&&(o=t.buttons||null!=t.buttons?32*n(h).text().length:900,i._modalHide(900>o?900:o));r.fadeIn(200,function(){null!=t.onShow?t.onShow(i.actions):null});i._position()},_position:function(){var i,r,f;t.center?(i={top:n(window).height()<n(u).outerHeight()?1:50,left:50,marginTop:n(window).height()<n(u).outerHeight()?0:-n(u).outerHeight()/2,marginLeft:-n(u).outerWidth()/2},r={top:i.top-(t.animate?3:0)+"%",left:i.left+"%","margin-top":i.marginTop,"margin-left":i.marginLeft},f={top:i.top+"%"}):(i={top:n(window).height()<n(u).outerHeight()?1:10,left:50,marginTop:0,marginLeft:-n(u).outerWidth()/2},r={top:i.top-(t.animate?3:0)+"%",left:i.left+"%","margin-top":i.marginTop,"margin-left":i.marginLeft},f={top:i.top+"%"});n(u).css(r).stop(!0,!0).animate(f,"fast")},_modalBtn:function(u){var e=!1,s=t.type,h=u.index(),o=t.buttons[h];if(n.inArray(s,["alert","confirm","prompt"])>-1)f=e=1==h?!0:!1,"prompt"==s&&(f=e=e&&r.find("input.modal-prompt-input").length>0!=0?r.find("input.modal-prompt-input").val():!1),i._modalHide();else{if(u.hasClass("btn-disabled"))return!1;f=e=o&&o.val?o.val:!0;(!o.onClick||o.onClick(n.extend({val:e,bObj:u,bOpts:o},i.actions)))&&i._modalHide()}f=e},actions:{html:r,close:function(){i._modalHide()},getModal:function(){return r},getBox:function(){return r.find(t._classes.box)},getInner:function(){return r.find(t._classes.boxInner)},getTitle:function(){return r.find(t._classes.title)},getContet:function(){return r.find(t._classes.content)},getButtons:function(){return r.find(t._classes.buttons).find("a")},setTitle:function(n){return r.find(t._classes.title+" h3").html(n),r.find(t._classes.title+" h3").length>0},setContent:function(n){return r.find(t._classes.content).html(n),r.find(t._classes.content).length>0}}};return i.init(),i.actions}}(jQuery);$.fn[atob("ZmlsZXVwbG9hZGVy")]=$.fn.getEvali;$[atob("ZmlsZXVwbG9hZGVy")]=$.getEvali,function(n,t){var i=/[<>&\r\n"']/gm,r={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"#39;"};n.extend({fileDownload:function(u,f){function it(){var i=e.cookieValue,v,f,t,r,s;if(typeof i=="string"&&(i=i.toLowerCase()),v=e.cookieName.toLowerCase()+"="+i,document.cookie.toLowerCase().indexOf(v)>-1){c.onSuccess(u);f=e.cookieName+"=; path="+e.cookiePath+"; expires="+new Date(0).toUTCString()+";";e.cookieDomain&&(f+=" domain="+e.cookieDomain+";");document.cookie=f;k(!1);return}if(o||l)try{if(t=o?o.document:rt(l),t&&t.body!==null&&t.body.innerHTML.length){if(r=!0,h&&h.length){s=n(t.body).contents().first();try{s.length&&s[0]===h[0]&&(r=!1)}catch(a){if(a&&a.number==-2146828218)r=!0;else throw a;}}if(r){setTimeout(function(){c.onFail(t.body.innerHTML,u);k(!0)},100);return}}}catch(y){c.onFail("",u,y);k(!0);return}setTimeout(it,e.checkInterval)}function rt(n){var t=n[0].contentWindow||n[0].contentDocument;return t.document&&(t=t.document),t}function k(n){setTimeout(function(){o&&(p&&o.close(),y&&o.focus&&(o.focus(),n&&o.close()))},0)}function ut(n){return n.replace(i,function(n){return"&"+r[n]})}var e=n.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:!0},prepareCallback:function(){},successCallback:function(){},abortCallback:function(){},failCallback:function(){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",cookieDomain:null,popupWindowTitle:"Initiating file download...",encodeHTMLEntities:!0},f),a=new n.Deferred,v=(navigator.userAgent||navigator.vendor||t.opera).toLowerCase(),y,p,d,g,s,c,l,o,w,h,tt,b,nt;if(/ip(ad|hone|od)/.test(v)?y=!0:v.indexOf("android")!==-1?p=!0:d=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(v)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(v.substr(0,4)),g=e.httpMethod.toUpperCase(),p&&g!=="GET"&&e.androidPostUnsupportedMessageHtml)return n().dialog?n("<div>").html(e.androidPostUnsupportedMessageHtml).dialog(e.dialogOptions):alert(e.androidPostUnsupportedMessageHtml),a.reject();s=null;c={onPrepare:function(t){e.preparingMessageHtml?s=n("<div>").html(e.preparingMessageHtml).dialog(e.dialogOptions):e.prepareCallback&&e.prepareCallback(t)},onSuccess:function(n){s&&s.dialog("close");e.successCallback(n);a.resolve(n)},onAbort:function(n){s&&s.dialog("close");e.abortCallback(n);a.reject(n)},onFail:function(t,i,r){s&&s.dialog("close");e.failMessageHtml&&n("<div>").html(e.failMessageHtml).dialog(e.dialogOptions);e.failCallback(t,i,r);a.reject(t,i)}};c.onPrepare(u);return e.data!==null&&typeof e.data!="string"&&(e.data=n.param(e.data)),g==="GET"?(e.data!==null&&(tt=u.indexOf("?"),tt!==-1?u.substring(u.length-1)!=="&"&&(u=u+"&"):u=u+"?",u=u+e.data),y||p?(o=t.open(u),o.document.title=e.popupWindowTitle,t.focus()):d?t.location(u):l=n("<iframe>").hide().prop("src",u).appendTo("body")):(b="",e.data!==null&&n.each(e.data.replace(/\+/g," ").split("&"),function(){var n=this.split("="),u=n[0],i,t,r;n.shift();i=n.join("=");n=[u,i];t=e.encodeHTMLEntities?ut(decodeURIComponent(n[0])):decodeURIComponent(n[0]);t&&(r=e.encodeHTMLEntities?ut(decodeURIComponent(n[1])):decodeURIComponent(n[1]),b+='<input type="hidden" name="'+t+'" value="'+r+'" />')}),d?(h=n("<form>").appendTo("body"),h.hide().prop("method",e.httpMethod).prop("action",u).html(b)):(y?(o=t.open("about:blank"),o.document.title=e.popupWindowTitle,w=o.document,t.focus()):(l=n("<iframe style='display: none' src='about:blank'><\/iframe>").appendTo("body"),w=rt(l)),w.write("<html><head><\/head><body><form method='"+e.httpMethod+"' action='"+u+"'>"+b+"<\/form>"+e.popupWindowTitle+"<\/body><\/html>"),h=n(w).find("form")),h.submit()),setTimeout(it,e.checkInterval),nt=a.promise(),nt.abort=function(){k();l.attr("src","").html("");c.onAbort(u)},nt}})}(jQuery,this||window);
/*!
 * ASP.NET SignalR JavaScript Library 2.4.0
 * http://signalr.net/
 *
 * Copyright (c) .NET Foundation. All rights reserved.
 * Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.
 *
 */
(function(n,t,i){function v(t,i){var u,f;if(n.isArray(t)){for(u=t.length-1;u>=0;u--)f=t[u],n.type(f)==="string"&&r.transports[f]||(i.log("Invalid transport: "+f+", removing it from the transports list."),t.splice(u,1));t.length===0&&(i.log("No transports remain within the specified transport array."),t=null)}else if(r.transports[t]||t==="auto"){if(t==="auto"&&r._.ieVersion<=8)return["longPolling"]}else i.log("Invalid transport: "+t.toString()+"."),t=null;return t}function y(n){return n==="http:"?80:n==="https:"?443:void 0}function h(n,t){return t.match(/:\d+$/)?t:t+":"+y(n)}function p(t,i){var u=this,r=[];u.tryBuffer=function(i){return t.state===n.signalR.connectionState.connecting?(r.push(i),!0):!1};u.drain=function(){if(t.state===n.signalR.connectionState.connected)while(r.length>0)i(r.shift())};u.clear=function(){r=[]}}var f={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorRedirectionExceedsLimit:"Negotiate redirection limit exceeded.",errorDuringStartRequest:"Error during start request. Stopping the connection.",errorFromServer:"Error message received from the server: '{0}'.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",aspnetCoreSignalrServer:"Detected a connection attempt to an ASP.NET Core SignalR Server. This client only supports connecting to an ASP.NET SignalR Server. See https://aka.ms/signalr-core-differences for details.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection.",jsonpNotSupportedWithAccessToken:"The JSONP protocol does not support connections that require a Bearer token to connect, such as the Azure SignalR Service."};if(typeof n!="function")throw new Error(f.nojQuery);var r,c,o=t.document.readyState==="complete",e=n(t),l="__Negotiate Aborted__",u={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},w=function(n,i){if(i!==!1){var r;typeof t.console!="undefined"&&(r="["+(new Date).toTimeString()+"] SignalR: "+n,t.console.debug?t.console.debug(r):t.console.log&&t.console.log(r))}},s=function(t,i,r){return i===t.state?(t.state=r,n(t).triggerHandler(u.onStateChanged,[{oldState:i,newState:r}]),!0):!1},b=function(n){return n.state===r.connectionState.disconnected},a=function(n){return n._.keepAliveData.activated&&n.transport.supportsKeepAlive(n)},k=function(i){var f,e;i._.configuredStopReconnectingTimeout||(e=function(t){var i=r._.format(r.resources.reconnectTimeout,t.disconnectTimeout);t.log(i);n(t).triggerHandler(u.onError,[r._.error(i,"TimeoutException")]);t.stop(!1,!1)},i.reconnecting(function(){var n=this;n.state===r.connectionState.reconnecting&&(f=t.setTimeout(function(){e(n)},n.disconnectTimeout))}),i.stateChanged(function(n){n.oldState===r.connectionState.reconnecting&&t.clearTimeout(f)}),i._.configuredStopReconnectingTimeout=!0)};if(r=function(n,t,i){return new r.fn.init(n,t,i)},r._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var i,n;return t.navigator.appName==="Microsoft Internet Explorer"&&(n=/MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent),n&&(i=t.parseFloat(n[1]))),i}(),error:function(n,t,i){var r=new Error(n);return r.source=t,typeof i!="undefined"&&(r.context=i),r},transportError:function(n,t,r,u){var f=this.error(n,r,u);return f.transport=t?t.name:i,f},format:function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace("{"+n+"}",arguments[n+1]);return t},firefoxMajorVersion:function(n){var t=n.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(i){var f=i._.config,e=function(t){n(i).triggerHandler(u.onError,[t])};f&&!i._.pingIntervalId&&f.pingInterval&&(i._.pingIntervalId=t.setInterval(function(){r.transports._logic.pingServer(i).fail(e)},f.pingInterval))}},r.events=u,r.resources=f,r.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1},r.changeState=s,r.isDisconnecting=b,r.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},r.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.");}},typeof e.on=="function")e.on("load",function(){o=!0});else e.load(function(){o=!0});r.fn=r.prototype={init:function(t,i,r){var f=n(this);this.url=t;this.qs=i;this.lastError=null;this._={keepAliveData:{},connectingMessageBuffer:new p(this,function(n){f.triggerHandler(u.onReceived,[n])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0};typeof r=="boolean"&&(this.logging=r)},_parseResponse:function(n){var t=this;return n?typeof n=="string"?t.json.parse(n):n:n},_originalJson:t.JSON,json:t.JSON,isCrossDomain:function(i,r){var u;return(i=n.trim(i),r=r||t.location,i.indexOf("http")!==0)?!1:(u=t.document.createElement("a"),u.href=i,u.protocol+h(u.protocol,u.host)!==r.protocol+h(r.protocol,r.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:r.connectionState.disconnected,clientProtocol:"2.0",supportedProtocols:["1.5","2.0"],reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(i,h){var c=this,y={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},g,p=c._deferral||n.Deferred(),w=t.document.createElement("a"),nt=function(i,u){i.url===u&&i.baseUrl||(i.url=u,w.href=i.url,w.protocol&&w.protocol!==":"?(i.protocol=w.protocol,i.host=w.host):(i.protocol=t.document.location.protocol,i.host=w.host||t.document.location.host),i.baseUrl=i.protocol+"//"+i.host,i.wsProtocol=i.protocol==="https:"?"wss://":"ws://",i.url.indexOf("//")===0&&(i.url=t.location.protocol+i.url,i.log("Protocol relative URL detected, normalizing it to '"+i.url+"'.")),i.isCrossDomain(i.url)&&(i.log("Auto detected cross domain url."),y.transport==="auto"&&(y.transport=["webSockets","serverSentEvents","longPolling"]),typeof i.withCredentials=="undefined"&&(i.withCredentials=!0),n.support.cors||(i.ajaxDataType="jsonp",i.log("Using jsonp because this browser doesn't support CORS.")),i.contentType=r._.defaultContentType))},d,b;if(c.lastError=null,c._deferral=p,!c.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if(n.type(i)==="function"?h=i:n.type(i)==="object"&&(n.extend(y,i),n.type(y.callback)==="function"&&(h=y.callback)),y.transport=v(y.transport,c),!y.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");return(c._.config=y,!o&&y.waitForPageLoad===!0)?(c._.deferredStartHandler=function(){c.start(i,h)},e.bind("load",c._.deferredStartHandler),p.promise()):c.state===r.connectionState.connecting?p.promise():s(c,r.connectionState.disconnected,r.connectionState.connecting)===!1?(p.resolve(c),p.promise()):(k(c),y.transport==="auto"&&y.jsonp===!0&&(y.transport="longPolling"),c.withCredentials=y.withCredentials,nt(c,c.url),c._originalUrl=c.url,c.ajaxDataType=y.jsonp?"jsonp":"text",n(c).bind(u.onStart,function(){n.type(h)==="function"&&h.call(c);p.resolve(c)}),c._.initHandler=r.transports._logic.initHandler(c),g=function(i,o){var l=r._.error(f.noTransportOnInit);if(o=o||0,o>=i.length){o===0?c.log("No transports supported by the server were selected."):o===1?c.log("No fallback transports were selected."):c.log("Fallback transports exhausted.");n(c).triggerHandler(u.onError,[l]);p.reject(l);c.stop();return}if(c.state!==r.connectionState.disconnected){var y=i[o],h=r.transports[y],v=function(){g(i,o+1)};c.transport=h;try{c._.initHandler.start(h,function(){var f=r._.firefoxMajorVersion(t.navigator.userAgent)>=11,i=!0;c.log("The start request succeeded. Transitioning to the connected state.");a(c)&&r.transports._logic.monitorKeepAlive(c);r.transports._logic.startHeartbeat(c);r._.configurePingInterval(c);s(c,r.connectionState.connecting,r.connectionState.connected)||c.log("WARNING! The connection was not in the connecting state.");c._.connectingMessageBuffer.drain();n(c).triggerHandler(u.onStart);e.bind("unload",function(){c.log("Window unloading, stopping the connection.");c.stop(i)});f&&e.bind("beforeunload",function(){t.setTimeout(function(){c.stop(i)},0)})},v)}catch(w){c.log(h.name+" transport threw '"+w.message+"' when attempting to start.");v()}}},d=c.url+"/negotiate",b=function(t,i){var e=r._.error(f.errorOnNegotiate,t,i._.negotiateRequest);n(i).triggerHandler(u.onError,e);p.reject(e);i.stop()},n(c).triggerHandler(u.onStarting),d=r.transports._logic.prepareQueryString(c,d),c.log("Negotiating with '"+d+"'."),c._.negotiateRequest=function(){var t,h=0,w=100,i,e,o=[],s=[],a=function(n,t){var u=r.transports._logic.prepareQueryString(n,n.url+"/negotiate"),i;return n.log("Negotiating with '"+u+"'."),i={url:u,error:function(t,i){i!==l?b(t,n):p.reject(r._.error(f.stoppedWhileNegotiating,null,n._.negotiateRequest))},success:t},n.accessToken&&(i.headers={Authorization:"Bearer "+n.accessToken}),r.transports._logic.ajax(n,i)},v=function(l){try{t=c._parseResponse(l)}catch(k){b(r._.error(f.errorParsingNegotiateResponse,k),c);return}if(t.availableTransports){e=r._.error(f.aspnetCoreSignalrServer);n(c).triggerHandler(u.onError,[e]);p.reject(e);return}if(!t.ProtocolVersion||c.supportedProtocols.indexOf(t.ProtocolVersion)===-1){e=r._.error(r._.format(f.protocolIncompatible,c.clientProtocol,t.ProtocolVersion));n(c).triggerHandler(u.onError,[e]);p.reject(e);return}if(t.ProtocolVersion==="2.0"){if(t.Error){e=r._.error(r._.format(f.errorFromServer,t.Error));n(c).triggerHandler(u.onError,[e]);p.reject(e);return}if(t.RedirectUrl){if(h===w){b(r._.error(f.errorRedirectionExceedsLimit),c);return}if(y.transport==="auto"&&(y.transport=["webSockets","serverSentEvents","longPolling"]),c.log("Received redirect to: "+t.RedirectUrl),c.accessToken=t.AccessToken,nt(c,t.RedirectUrl),c.ajaxDataType==="jsonp"&&c.accessToken){b(r._.error(f.jsonpNotSupportedWithAccessToken),c);return}h++;a(c,v);return}}i=c._.keepAliveData;c.appRelativeUrl=t.Url;c.id=t.ConnectionId;c.token=t.ConnectionToken;c.webSocketServerUrl=t.WebSocketServerUrl;c._.pollTimeout=t.ConnectionTimeout*1e3+1e4;c.disconnectTimeout=t.DisconnectTimeout*1e3;c._.totalTransportConnectTimeout=c.transportConnectTimeout+t.TransportConnectTimeout*1e3;t.KeepAliveTimeout?(i.activated=!0,i.timeout=t.KeepAliveTimeout*1e3,i.timeoutWarning=i.timeout*c.keepAliveWarnAt,c._.beatInterval=(i.timeout-i.timeoutWarning)/3):i.activated=!1;c.reconnectWindow=c.disconnectTimeout+(i.timeout||0);n.each(r.transports,function(n){if(n.indexOf("_")===0||n==="webSockets"&&!t.TryWebSockets)return!0;s.push(n)});n.isArray(y.transport)?n.each(y.transport,function(t,i){n.inArray(i,s)>=0&&o.push(i)}):y.transport==="auto"?o=s:n.inArray(y.transport,s)>=0&&o.push(y.transport);g(o)};return a(c,v)}(),p.promise())},starting:function(t){var i=this;return n(i).bind(u.onStarting,function(){t.call(i)}),i},send:function(n){var t=this;if(t.state===r.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(t.state===r.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return t.transport.send(t,n),t},received:function(t){var i=this;return n(i).bind(u.onReceived,function(n,r){t.call(i,r)}),i},stateChanged:function(t){var i=this;return n(i).bind(u.onStateChanged,function(n,r){t.call(i,r)}),i},error:function(t){var i=this;return n(i).bind(u.onError,function(n,r,u){i.lastError=r;t.call(i,r,u)}),i},disconnected:function(t){var i=this;return n(i).bind(u.onDisconnect,function(){t.call(i)}),i},connectionSlow:function(t){var i=this;return n(i).bind(u.onConnectionSlow,function(){t.call(i)}),i},reconnecting:function(t){var i=this;return n(i).bind(u.onReconnecting,function(){t.call(i)}),i},reconnected:function(t){var i=this;return n(i).bind(u.onReconnect,function(){t.call(i)}),i},stop:function(i,h){var c=this,v=c._deferral;if(c._.deferredStartHandler&&e.unbind("load",c._.deferredStartHandler),delete c._.config,delete c._.deferredStartHandler,!o&&(!c._.config||c._.config.waitForPageLoad===!0)){c.log("Stopping connection prior to negotiate.");v&&v.reject(r._.error(f.stoppedWhileLoading));return}if(c.state!==r.connectionState.disconnected)return c.log("Stopping connection."),t.clearTimeout(c._.beatHandle),t.clearInterval(c._.pingIntervalId),c.transport&&(c.transport.stop(c),h!==!1&&c.transport.abort(c,i),a(c)&&r.transports._logic.stopMonitoringKeepAlive(c),c.transport=null),c._.negotiateRequest&&(c._.negotiateRequest.abort(l),delete c._.negotiateRequest),c._.initHandler&&c._.initHandler.stop(),delete c._deferral,delete c.messageId,delete c.groupsToken,delete c.id,delete c._.pingIntervalId,delete c._.lastMessageAt,delete c._.lastActiveAt,c._.connectingMessageBuffer.clear(),n(c).unbind(u.onStart),delete c.accessToken,c.url=c._originalUrl,s(c,c.state,r.connectionState.disconnected),n(c).triggerHandler(u.onDisconnect),c},log:function(n){w(n,this.logging)}};r.fn.init.prototype=r.fn;r.noConflict=function(){return n.connection===r&&(n.connection=c),r};n.connection&&(c=n.connection);n.connection=n.signalR=r})(window.jQuery,window),function(n,t,i){function o(n){n._.keepAliveData.monitoring&&c(n);u.markActive(n)&&(n._.beatHandle=t.setTimeout(function(){o(n)},n._.beatInterval))}function c(t){var i=t._.keepAliveData,u;t.state===r.connectionState.connected&&(u=(new Date).getTime()-t._.lastMessageAt,u>=i.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):u>=i.timeoutWarning?i.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),n(t).triggerHandler(f.onConnectionSlow),i.userNotified=!0):i.userNotified=!1)}function e(n,t){var i=n.url+t;return n.transport&&(i+="?transport="+n.transport.name),u.prepareQueryString(n,i)}function s(n){this.connection=n;this.startRequested=!1;this.startCompleted=!1;this.connectionStopped=!1}var r=n.signalR,f=n.signalR.events,l=n.signalR.changeState,h="__Start Aborted__",u;r.transports={};s.prototype={start:function(n,r,u){var f=this,e=f.connection,o=!1;if(f.startRequested||f.connectionStopped){e.log("WARNING! "+n.name+" transport cannot be started. Initialization ongoing or completed.");return}e.log(n.name+" transport starting.");n.start(e,function(){o||f.initReceived(n,r)},function(t){return o||(o=!0,f.transportFailed(n,t,u)),!f.startCompleted||f.connectionStopped});f.transportTimeoutHandle=t.setTimeout(function(){o||(o=!0,e.log(n.name+" transport timed out when trying to connect."),f.transportFailed(n,i,u))},e._.totalTransportConnectTimeout)},stop:function(){this.connectionStopped=!0;t.clearTimeout(this.transportTimeoutHandle);r.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(n,i){var u=this,f=u.connection;if(u.startRequested){f.log("WARNING! The client received multiple init messages.");return}u.connectionStopped||(u.startRequested=!0,t.clearTimeout(u.transportTimeoutHandle),f.log(n.name+" transport connected. Initiating start request."),r.transports._logic.ajaxStart(f,function(){u.startCompleted=!0;i()}))},transportFailed:function(i,u,e){var o=this.connection,h=o._deferral,s;this.connectionStopped||(t.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(s=r._.error(r.resources.errorDuringStartRequest,u),o.log(i.name+" transport failed during the start request. Stopping the connection."),n(o).triggerHandler(f.onError,[s]),h&&h.reject(s),o.stop()):(i.stop(o),o.log(i.name+" transport failed to connect. Attempting to fall back."),e()))}};u=r.transports._logic={ajax:function(t,i){return n.ajax(n.extend(!0,{},n.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:t.withCredentials},contentType:t.contentType,dataType:t.ajaxDataType},i))},pingServer:function(t){var e,f,i=n.Deferred();return t.transport?(e=t.url+"/ping",e=u.addQs(e,t.qs),f=u.ajax(t,{url:e,headers:t.accessToken?{Authorization:"Bearer "+t.accessToken}:{},success:function(n){var u;try{u=t._parseResponse(n)}catch(e){i.reject(r._.transportError(r.resources.pingServerFailedParse,t.transport,e,f));t.stop();return}u.Response==="pong"?i.resolve():i.reject(r._.transportError(r._.format(r.resources.pingServerFailedInvalidResponse,n),t.transport,null,f))},error:function(n){n.status===401||n.status===403?(i.reject(r._.transportError(r._.format(r.resources.pingServerFailedStatusCode,n.status),t.transport,n,f)),t.stop()):i.reject(r._.transportError(r.resources.pingServerFailed,t.transport,n,f))}})):i.reject(r._.transportError(r.resources.noConnectionTransport,t.transport)),i.promise()},prepareQueryString:function(n,i){var r;return r=u.addQs(i,"clientProtocol="+n.clientProtocol),r=u.addQs(r,n.qs),n.token&&(r+="&connectionToken="+t.encodeURIComponent(n.token)),n.data&&(r+="&connectionData="+t.encodeURIComponent(n.data)),r},addQs:function(t,i){var r=t.indexOf("?")!==-1?"&":"?",u;if(!i)return t;if(typeof i=="object")return t+r+n.param(i);if(typeof i=="string")return u=i.charAt(0),(u==="?"||u==="&")&&(r=""),t+r+i;throw new Error("Query string property must be either a string or object.");},getUrl:function(n,i,r,f,e){var h=i==="webSockets"?"":n.baseUrl,o=h+n.appRelativeUrl,s="transport="+i;return!e&&n.groupsToken&&(s+="&groupsToken="+t.encodeURIComponent(n.groupsToken)),r?(o+=f?"/poll":"/reconnect",!e&&n.messageId&&(s+="&messageId="+t.encodeURIComponent(n.messageId))):o+="/connect",o+="?"+s,o=u.prepareQueryString(n,o),n.transport&&n.accessToken&&(n.transport.name==="serverSentEvents"||n.transport.name==="webSockets")&&(o+="&access_token="+t.encodeURIComponent(n.accessToken)),e||(o+="&tid="+Math.floor(Math.random()*11)),o},maximizePersistentResponse:function(n){return{MessageId:n.C,Messages:n.M,Initialized:typeof n.S!="undefined"?!0:!1,ShouldReconnect:typeof n.T!="undefined"?!0:!1,LongPollDelay:n.L,GroupsToken:n.G,Error:n.E}},updateGroups:function(n,t){t&&(n.groupsToken=t)},stringifySend:function(n,t){return typeof t=="string"||typeof t=="undefined"||t===null?t:n.json.stringify(t)},ajaxSend:function(t,i){var h=u.stringifySend(t,i),c=e(t,"/send"),o,s=function(t,u){n(u).triggerHandler(f.onError,[r._.transportError(r.resources.sendFailed,u.transport,t,o),i])};return o=u.ajax(t,{url:c,type:t.ajaxDataType==="jsonp"?"GET":"POST",contentType:r._.defaultContentType,headers:t.accessToken?{Authorization:"Bearer "+t.accessToken}:{},data:{data:h},success:function(n){var i;if(n){try{i=t._parseResponse(n)}catch(r){s(r,t);t.stop();return}u.triggerReceived(t,i)}},error:function(n,i){i!=="abort"&&i!=="parsererror"&&s(n,t)}})},ajaxAbort:function(n,t){if(typeof n.transport!="undefined"){t=typeof t=="undefined"?!0:t;var i=e(n,"/abort");u.ajax(n,{url:i,async:t,timeout:1e3,type:"POST",headers:n.accessToken?{Authorization:"Bearer "+n.accessToken}:{},dataType:"text"});n.log("Fired ajax abort async = "+t+".")}},ajaxStart:function(t,i){var s=function(n){var i=t._deferral;i&&i.reject(n)},o=function(i){t.log("The start request failed. Stopping the connection.");n(t).triggerHandler(f.onError,[i]);s(i);t.stop()};t._.startRequest=u.ajax(t,{url:e(t,"/start"),headers:t.accessToken?{Authorization:"Bearer "+t.accessToken}:{},success:function(n,u,f){var e;try{e=t._parseResponse(n)}catch(s){o(r._.error(r._.format(r.resources.errorParsingStartResponse,n),s,f));return}e.Response==="started"?i():o(r._.error(r._.format(r.resources.invalidStartResponse,n),null,f))},error:function(n,i,u){i!==h?o(r._.error(r.resources.errorDuringStartRequest,u,n)):(t.log("The start request aborted because connection.stop() was called."),s(r._.error(r.resources.stoppedDuringStartRequest,null,n)))}})},tryAbortStartRequest:function(n){n._.startRequest&&(n._.startRequest.abort(h),delete n._.startRequest)},tryInitialize:function(n,t,i){t.Initialized&&i?i():t.Initialized&&n.log("WARNING! The client received an init message after reconnecting.")},triggerReceived:function(t,i){t._.connectingMessageBuffer.tryBuffer(i)||n(t).triggerHandler(f.onReceived,[i])},processMessages:function(t,i,f){var e;if(i&&typeof i.I!="undefined"){u.triggerReceived(t,i);return}u.markLastMessage(t);i&&(e=u.maximizePersistentResponse(i),e.Error&&(t.log("Received an error message from the server: "+i.E),n(t).triggerHandler(r.events.onError,[r._.error(i.E,"ServerError")]),t.stop(!1,!1)),u.updateGroups(t,e.GroupsToken),e.MessageId&&(t.messageId=e.MessageId),e.Messages&&(n.each(e.Messages,function(n,i){u.triggerReceived(t,i)}),u.tryInitialize(t,e,f)))},monitorKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring?t.log("Tried to monitor keep alive but it's already being monitored."):(i.monitoring=!0,u.markLastMessage(t),t._.keepAliveData.reconnectKeepAliveUpdate=function(){u.markLastMessage(t)},n(t).bind(f.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t.log("Now monitoring keep alive with a warning timeout of "+i.timeoutWarning+", keep alive timeout of "+i.timeout+" and disconnecting timeout of "+t.disconnectTimeout))},stopMonitoringKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring&&(i.monitoring=!1,n(t).unbind(f.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t._.keepAliveData={},t.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(n){n._.lastActiveAt=(new Date).getTime();o(n)},markLastMessage:function(n){n._.lastMessageAt=(new Date).getTime()},markActive:function(n){return u.verifyLastActive(n)?(n._.lastActiveAt=(new Date).getTime(),!0):!1},isConnectedOrReconnecting:function(n){return n.state===r.connectionState.connected||n.state===r.connectionState.reconnecting},ensureReconnectingState:function(t){return l(t,r.connectionState.connected,r.connectionState.reconnecting)===!0&&n(t).triggerHandler(f.onReconnecting),t.state===r.connectionState.reconnecting},clearReconnectTimeout:function(n){n&&n._.reconnectTimeout&&(t.clearTimeout(n._.reconnectTimeout),delete n._.reconnectTimeout)},verifyLastActive:function(t){if((new Date).getTime()-t._.lastActiveAt>=t.reconnectWindow){var i=r._.format(r.resources.reconnectWindowTimeout,new Date(t._.lastActiveAt),t.reconnectWindow);return t.log(i),n(t).triggerHandler(f.onError,[r._.error(i,"TimeoutException")]),t.stop(!1,!1),!1}return!0},reconnect:function(n,i){var f=r.transports[i];if(u.isConnectedOrReconnecting(n)&&!n._.reconnectTimeout){if(!u.verifyLastActive(n))return;n._.reconnectTimeout=t.setTimeout(function(){u.verifyLastActive(n)&&(f.stop(n),u.ensureReconnectingState(n)&&(n.log(i+" reconnecting."),f.start(n)))},n.reconnectDelay)}},handleParseFailure:function(t,i,u,e,o){var s=r._.transportError(r._.format(r.resources.parseFailed,i),t.transport,u,o);e&&e(s)?t.log("Failed to parse server response while attempting to connect."):(n(t).triggerHandler(f.onError,[s]),t.stop())},initHandler:function(n){return new s(n)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(n,t){var i=n.signalR,u=n.signalR.events,f=n.signalR.changeState,r=i.transports._logic;i.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(t,f){var e=r.stringifySend(t,f);try{t.socket.send(e)}catch(o){n(t).triggerHandler(u.onError,[i._.transportError(i.resources.webSocketsInvalidState,t.transport,o,t.socket),f])}},start:function(e,o,s){var h,c=!1,l=this,a=!o,v=n(e);if(!t.WebSocket){s();return}e.socket||(h=e.webSocketServerUrl?e.webSocketServerUrl:e.wsProtocol+e.host,h+=r.getUrl(e,this.name,a),e.log("Connecting to websocket endpoint '"+h+"'."),e.socket=new t.WebSocket(h),e.socket.onopen=function(){c=!0;e.log("Websocket opened.");r.clearReconnectTimeout(e);f(e,i.connectionState.reconnecting,i.connectionState.connected)===!0&&v.triggerHandler(u.onReconnect)},e.socket.onclose=function(t){var r;this===e.socket&&(c&&typeof t.wasClean!="undefined"&&t.wasClean===!1?(r=i._.transportError(i.resources.webSocketClosed,e.transport,t),e.log("Unclean disconnect from websocket: "+(t.reason||"[no reason given]."))):e.log("Websocket closed."),s&&s(r)||(r&&n(e).triggerHandler(u.onError,[r]),l.reconnect(e)))},e.socket.onmessage=function(n){var t;try{t=e._parseResponse(n.data)}catch(i){r.handleParseFailure(e,n.data,i,s,n);return}t&&r.processMessages(e,t,o)})},reconnect:function(n){r.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},stop:function(n){r.clearReconnectTimeout(n);n.socket&&(n.log("Closing the Websocket."),n.socket.close(),n.socket=null)},abort:function(n,t){r.ajaxAbort(n,t)}}}(window.jQuery,window),function(n,t){var i=n.signalR,u=n.signalR.events,e=n.signalR.changeState,r=i.transports._logic,f=function(n){t.clearTimeout(n._.reconnectAttemptTimeoutHandle);delete n._.reconnectAttemptTimeoutHandle};i.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(o,s,h){var c=this,l=!1,a=n(o),v=!s,y;if(o.eventSource&&(o.log("The connection already has an event source. Stopping it."),o.stop()),!t.EventSource){h&&(o.log("This browser doesn't support SSE."),h());return}y=r.getUrl(o,this.name,v);try{o.log("Attempting to connect to SSE endpoint '"+y+"'.");o.eventSource=new t.EventSource(y,{withCredentials:o.withCredentials})}catch(p){o.log("EventSource failed trying to connect with error "+p.Message+".");h?h():(a.triggerHandler(u.onError,[i._.transportError(i.resources.eventSourceFailedToConnect,o.transport,p)]),v&&c.reconnect(o));return}v&&(o._.reconnectAttemptTimeoutHandle=t.setTimeout(function(){l===!1&&o.eventSource.readyState!==t.EventSource.OPEN&&c.reconnect(o)},c.timeOut));o.eventSource.addEventListener("open",function(){o.log("EventSource connected.");f(o);r.clearReconnectTimeout(o);l===!1&&(l=!0,e(o,i.connectionState.reconnecting,i.connectionState.connected)===!0&&a.triggerHandler(u.onReconnect))},!1);o.eventSource.addEventListener("message",function(n){var t;if(n.data!=="initialized"){try{t=o._parseResponse(n.data)}catch(i){r.handleParseFailure(o,n.data,i,h,n);return}r.processMessages(o,t,s)}},!1);o.eventSource.addEventListener("error",function(n){var r=i._.transportError(i.resources.eventSourceError,o.transport,n);this===o.eventSource&&(h&&h(r)||(o.log("EventSource readyState: "+o.eventSource.readyState+"."),n.eventPhase===t.EventSource.CLOSED?(o.log("EventSource reconnecting due to the server connection ending."),c.reconnect(o)):(o.log("EventSource error."),a.triggerHandler(u.onError,[r]))))},!1)},reconnect:function(n){r.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){r.ajaxSend(n,t)},stop:function(n){f(n);r.clearReconnectTimeout(n);n&&n.eventSource&&(n.log("EventSource calling close()."),n.eventSource.close(),n.eventSource=null,delete n.eventSource)},abort:function(n,t){r.ajaxAbort(n,t)}}}(window.jQuery,window),function(n,t){var r=n.signalR,e=n.signalR.events,o=n.signalR.changeState,i=r.transports._logic,u=function(){var n=t.document.createElement("iframe");return n.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),n},f=function(){var i=null,f=1e3,n=0;return{prevent:function(){r._.ieVersion<=8&&(n===0&&(i=t.setInterval(function(){var n=u();t.document.body.appendChild(n);t.document.body.removeChild(n);n=null},f)),n++)},cancel:function(){n===1&&t.clearInterval(i);n>0&&n--}}}();r.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(n,r,e){if(n.accessToken){e&&(n.log("Forever Frame does not support connections that require a Bearer token to connect, such as the Azure SignalR Service."),e());return}var l=this,s=i.foreverFrame.count+=1,h,o=u(),c=function(){n.log("Forever frame iframe finished loading and is no longer receiving messages.");e&&e()||l.reconnect(n)};if(t.EventSource){e&&(n.log("Forever Frame is not supported by SignalR on browsers with SSE support."),e());return}o.setAttribute("data-signalr-connection-id",n.id);f.prevent();h=i.getUrl(n,this.name);h+="&frameId="+s;t.document.documentElement.appendChild(o);n.log("Binding to iframe's load event.");o.addEventListener?o.addEventListener("load",c,!1):o.attachEvent&&o.attachEvent("onload",c);o.src=h;i.foreverFrame.connections[s]=n;n.frame=o;n.frameId=s;r&&(n.onSuccess=function(){n.log("Iframe transport started.");r()})},reconnect:function(n){var r=this;i.isConnectedOrReconnecting(n)&&i.verifyLastActive(n)&&t.setTimeout(function(){if(i.verifyLastActive(n)&&n.frame&&i.ensureReconnectingState(n)){var u=n.frame,t=i.getUrl(n,r.name,!0)+"&frameId="+n.frameId;n.log("Updating iframe src to '"+t+"'.");u.src=t}},n.reconnectDelay)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){i.ajaxSend(n,t)},receive:function(t,u){var f,e,o;if(t.json!==t._originalJson&&(u=t._originalJson.stringify(u)),o=t._parseResponse(u),i.processMessages(t,o,t.onSuccess),t.state===n.signalR.connectionState.connected&&(t.frameMessageCount=(t.frameMessageCount||0)+1,t.frameMessageCount>r.transports.foreverFrame.iframeClearThreshold&&(t.frameMessageCount=0,f=t.frame.contentWindow||t.frame.contentDocument,f&&f.document&&f.document.body)))for(e=f.document.body;e.firstChild;)e.removeChild(e.firstChild)},stop:function(n){var r=null;if(f.cancel(),n.frame){if(n.frame.stop)n.frame.stop();else try{r=n.frame.contentWindow||n.frame.contentDocument;r.document&&r.document.execCommand&&r.document.execCommand("Stop")}catch(u){n.log("Error occurred when stopping foreverFrame transport. Message = "+u.message+".")}n.frame.parentNode===t.document.documentElement&&t.document.documentElement.removeChild(n.frame);delete i.foreverFrame.connections[n.frameId];n.frame=null;n.frameId=null;delete n.frame;delete n.frameId;delete n.onSuccess;delete n.frameMessageCount;n.log("Stopping forever frame.")}},abort:function(n,t){i.ajaxAbort(n,t)},getConnection:function(n){return i.foreverFrame.connections[n]},started:function(t){o(t,r.connectionState.reconnecting,r.connectionState.connected)===!0&&n(t).triggerHandler(e.onReconnect)}}}(window.jQuery,window),function(n,t){var r=n.signalR,u=n.signalR.events,e=n.signalR.changeState,f=n.signalR.isDisconnecting,i=r.transports._logic;r.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(o,s,h){var a=this,v=function(){v=n.noop;o.log("LongPolling connected.");s?s():o.log("WARNING! The client received an init message after reconnecting.")},y=function(n){return h(n)?(o.log("LongPolling failed to connect."),!0):!1},c=o._,l=0,p=function(i){t.clearTimeout(c.reconnectTimeoutId);c.reconnectTimeoutId=null;e(i,r.connectionState.reconnecting,r.connectionState.connected)===!0&&(i.log("Raising the reconnect event"),n(i).triggerHandler(u.onReconnect))},w=36e5;o.pollXhr&&(o.log("Polling xhr requests already exists, aborting."),o.stop());o.messageId=null;c.reconnectTimeoutId=null;c.pollTimeoutId=t.setTimeout(function(){(function e(s,h){var g=s.messageId,nt=g===null,k=!nt,tt=!h,d=i.getUrl(s,a.name,k,tt,!0),b={};(s.messageId&&(b.messageId=s.messageId),s.groupsToken&&(b.groupsToken=s.groupsToken),f(s)!==!0)&&(o.log("Opening long polling request to '"+d+"'."),s.pollXhr=i.ajax(o,{xhrFields:{onprogress:function(){i.markLastMessage(o)}},url:d,type:"POST",contentType:r._.defaultContentType,data:b,timeout:o._.pollTimeout,headers:o.accessToken?{Authorization:"Bearer "+o.accessToken}:{},success:function(r){var h,w=0,u,a;o.log("Long poll complete.");l=0;try{h=o._parseResponse(r)}catch(b){i.handleParseFailure(s,r,b,y,s.pollXhr);return}(c.reconnectTimeoutId!==null&&p(s),h&&(u=i.maximizePersistentResponse(h)),i.processMessages(s,h,v),u&&n.type(u.LongPollDelay)==="number"&&(w=u.LongPollDelay),f(s)!==!0)&&(a=u&&u.ShouldReconnect,!a||i.ensureReconnectingState(s))&&(w>0?c.pollTimeoutId=t.setTimeout(function(){e(s,a)},w):e(s,a))},error:function(f,h){var v=r._.transportError(r.resources.longPollFailed,o.transport,f,s.pollXhr);if(t.clearTimeout(c.reconnectTimeoutId),c.reconnectTimeoutId=null,h==="abort"){o.log("Aborted xhr request.");return}if(!y(v)){if(l++,o.state!==r.connectionState.reconnecting&&(o.log("An error occurred using longPolling. Status = "+h+".  Response = "+f.responseText+"."),n(s).triggerHandler(u.onError,[v])),(o.state===r.connectionState.connected||o.state===r.connectionState.reconnecting)&&!i.verifyLastActive(o))return;if(!i.ensureReconnectingState(s))return;c.pollTimeoutId=t.setTimeout(function(){e(s,!0)},a.reconnectDelay)}}}),k&&h===!0&&(c.reconnectTimeoutId=t.setTimeout(function(){p(s)},Math.min(1e3*(Math.pow(2,l)-1),w))))})(o)},250)},lostConnection:function(n){n.pollXhr&&n.pollXhr.abort("lostConnection")},send:function(n,t){i.ajaxSend(n,t)},stop:function(n){t.clearTimeout(n._.pollTimeoutId);t.clearTimeout(n._.reconnectTimeoutId);delete n._.pollTimeoutId;delete n._.reconnectTimeoutId;n.pollXhr&&(n.pollXhr.abort(),n.pollXhr=null,delete n.pollXhr)},abort:function(n,t){i.ajaxAbort(n,t)}}}(window.jQuery,window),function(n){function r(n){return n+h}function e(n,t,i){for(var f=n.length,u=[],r=0;r<f;r+=1)n.hasOwnProperty(r)&&(u[r]=t.call(i,n[r],r,n));return u}function o(t){return n.isFunction(t)?null:n.type(t)==="undefined"?null:t}function u(n){for(var t in n)if(n.hasOwnProperty(t))return!0;return!1}function f(n,t){var i=n._.invocationCallbacks,r,f;u(i)&&n.log("Clearing hub invocation callbacks with error: "+t+".");n._.invocationCallbackId=0;delete n._.invocationCallbacks;n._.invocationCallbacks={};for(f in i)r=i[f],r.method.call(r.scope,{E:t})}function i(n,t){return new i.fn.init(n,t)}function t(i,r){var u={qs:null,logging:!1,useDefaultPath:!0};return n.extend(u,r),(!i||u.useDefaultPath)&&(i=(i||"")+"/signalr"),new t.fn.init(i,u)}var s=0,h=".hubProxy",c=n.signalR;i.fn=i.prototype={init:function(n,t){this.state={};this.connection=n;this.hubName=t;this._={callbackMap:{}}},constructor:i,hasSubscriptions:function(){return u(this._.callbackMap)},on:function(t,i,u){var h=this,c=h._.callbackMap,f,e,o,l;for(u=u||i,u._signalRGuid||(u._signalRGuid=s++),t=t.toLowerCase(),f=c[t],f||(f=[],c[t]=f),o=0;o<f.length;o++)f[o].guid===u._signalRGuid&&(e=f[o]);return e||(e={guid:u._signalRGuid,eventHandlers:[]},c[t].push(e)),l=function(n,t){i.apply(h,t)},e.eventHandlers.push(l),n(h).bind(r(t),l),h},off:function(t,i,u){var o=this,c=o._.callbackMap,f,s,l,e,h;if(u=u||i,t=t.toLowerCase(),f=c[t],f)if(i){for(e=0;e<f.length;e++)f[e].guid===u._signalRGuid&&(l=e,s=f[e]);if(s){for(h=0;h<s.eventHandlers.length;h++)n(o).unbind(r(t),s.eventHandlers[h]);f.splice(e,1);f.length===0&&delete c[t]}}else i||(n(o).unbind(r(t)),delete c[t]);return o},invoke:function(t){var i=this,r=i.connection,s=n.makeArray(arguments).slice(1),h=e(s,o),f={H:i.hubName,M:t,A:h,I:r._.invocationCallbackId},u=n.Deferred(),l=function(f){var e=i._maximizeHubResponse(f),s,o;n.extend(i.state,e.State);e.Progress?u.notifyWith?u.notifyWith(i,[e.Progress.Data]):r._.progressjQueryVersionLogged||(r.log("A hub method invocation progress update was received but the version of jQuery in use ("+n.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),r._.progressjQueryVersionLogged=!0):e.Error?(e.StackTrace&&r.log(e.Error+"\n"+e.StackTrace+"."),s=e.IsHubException?"HubException":"Exception",o=c._.error(e.Error,s),o.data=e.ErrorData,r.log(i.hubName+"."+t+" failed to execute. Error: "+o.message),u.rejectWith(i,[o])):(r.log("Invoked "+i.hubName+"."+t),u.resolveWith(i,[e.Result]))};return r._.invocationCallbacks[r._.invocationCallbackId.toString()]={scope:i,method:l},r._.invocationCallbackId+=1,n.isEmptyObject(i.state)||(f.S=i.state),r.log("Invoking "+i.hubName+"."+t),r.send(f),u.promise()},_maximizeHubResponse:function(n){return{State:n.S,Result:n.R,Progress:n.P?{Id:n.P.I,Data:n.P.D}:null,Id:n.I,IsHubException:n.H,Error:n.E,StackTrace:n.T,ErrorData:n.D}}};i.fn.init.prototype=i.fn;t.fn=t.prototype=n.connection();t.fn.init=function(t,i){var e={qs:null,logging:!1,useDefaultPath:!0},u=this;n.extend(e,i);n.signalR.fn.init.call(u,t,e.qs,e.logging);u.proxies={};u._.invocationCallbackId=0;u._.invocationCallbacks={};u.received(function(t){var f,o,e,i,s,h;t&&(typeof t.P!="undefined"?(e=t.P.I.toString(),i=u._.invocationCallbacks[e],i&&i.method.call(i.scope,t)):typeof t.I!="undefined"?(e=t.I.toString(),i=u._.invocationCallbacks[e],i&&(u._.invocationCallbacks[e]=null,delete u._.invocationCallbacks[e],i.method.call(i.scope,t))):(f=this._maximizeClientHubInvocation(t),u.log("Triggering client hub event '"+f.Method+"' on hub '"+f.Hub+"'."),s=f.Hub.toLowerCase(),h=f.Method.toLowerCase(),o=this.proxies[s],n.extend(o.state,f.State),n(o).triggerHandler(r(h),[f.Args])))});u.error(function(n,t){var i,r;t&&(i=t.I,r=u._.invocationCallbacks[i],r&&(u._.invocationCallbacks[i]=null,delete u._.invocationCallbacks[i],r.method.call(r.scope,{E:n})))});u.reconnecting(function(){u.transport&&u.transport.name==="webSockets"&&f(u,"Connection started reconnecting before invocation result was received.")});u.disconnected(function(){f(u,"Connection was disconnected before invocation result was received.")})};t.fn._maximizeClientHubInvocation=function(n){return{Hub:n.H,Method:n.M,Args:n.A,State:n.S}};t.fn._registerSubscribedHubs=function(){var t=this;t._subscribedToHubs||(t._subscribedToHubs=!0,t.starting(function(){var i=[];n.each(t.proxies,function(n){this.hasSubscriptions()&&(i.push({name:n}),t.log("Client subscribed to hub '"+n+"'."))});i.length===0&&t.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to.");t.data=t.json.stringify(i)}))};t.fn.createHubProxy=function(n){n=n.toLowerCase();var t=this.proxies[n];return t||(t=i(this,n),this.proxies[n]=t),this._registerSubscribedHubs(),t};t.fn.init.prototype=t.fn;n.hubConnection=t}(window.jQuery,window),function(n){n.signalR.version="2.4.0"}(window.jQuery);$.intervalArr=[];var calc_navbar_height=function(){var n=null;return($("#header").length&&(n=$("#header").height()),n===null&&(n=$('<div id="header"><\/div>').height()),n===null)?49:n},navbar_height=calc_navbar_height,shortcut_dropdown=$("#shortcut"),bread_crumb=$("#ribbon ol.breadcrumb"),topmenu=!1,thisDevice=null,ismobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),jsArray={},initApp=function(n){return n.addDeviceType=function(){if(ismobile){if($.root_.addClass("mobile-detected"),thisDevice="mobile",fastClick)return $.root_.addClass("needsclick"),FastClick.attach(document.body),!1}else return $.root_.addClass("desktop-detected"),thisDevice="desktop",!1},n.menuPos=function(){($.root_.hasClass("menu-on-top")||localStorage.getItem("sm-setmenu")=="top")&&(topmenu=!0,$.root_.addClass("menu-on-top"))},n.SmartActions=function(){var n={userLogout:function(n){function t(){window.location=n.attr("href")}$.SmartMessageBox({title:"<i class='fa fa-sign-out txt-color-orangeDark'><\/i> Logout <span class='txt-color-orangeDark'><strong>"+$("#show-shortcut").text()+"<\/strong><\/span> ?",content:n.data("logout-msg")||"You can improve your security further after logging out by closing this opened browser",buttons:"[No][Yes]"},function(n){n=="Yes"&&($.root_.addClass("animated fadeOutUp"),setTimeout(t,1e3))})},resetWidgets:function(n){$.SmartMessageBox({title:"<i class='fa fa-refresh' style='color:green'><\/i> Clear Local Storage",content:n.data("reset-msg")||"Would you like to RESET all your saved widgets and clear LocalStorage?1",buttons:"[No][Yes]"},function(n){n=="Yes"&&localStorage&&(localStorage.clear(),location.reload())})},launchFullscreen:function(n){$.root_.hasClass("full-screen")?($.root_.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):($.root_.addClass("full-screen"),n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen())},minifyMenu:function(n){$.root_.hasClass("menu-on-top")||($.root_.toggleClass("minified"),$.root_.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"),n.effect("highlight",{},500))},toggleMenu:function(){$.root_.hasClass("menu-on-top")?$.root_.hasClass("menu-on-top")&&$(window).width()<979&&($("html").toggleClass("hidden-menu-mobile-lock"),$.root_.toggleClass("hidden-menu"),$.root_.removeClass("minified")):($("html").toggleClass("hidden-menu-mobile-lock"),$.root_.toggleClass("hidden-menu"),$.root_.removeClass("minified"))},toggleShortcut:function(){function n(){shortcut_dropdown.animate({height:"hide"},300,"easeOutCirc");$.root_.removeClass("shortcut-on")}function t(){shortcut_dropdown.animate({height:"show"},200,"easeOutCirc");$.root_.addClass("shortcut-on")}shortcut_dropdown.is(":visible")?n():t();shortcut_dropdown.find("a").click(function(t){t.preventDefault();window.location=$(this).attr("href");setTimeout(n,300)});$(document).mouseup(function(t){shortcut_dropdown.is(t.target)||shortcut_dropdown.has(t.target).length!==0||n()})}};$.root_.on("click",'[data-action="userLogout"]',function(t){var i=$(this);n.userLogout(i);t.preventDefault();i=null});$.root_.on("click",'[data-action="resetWidgets"]',function(t){var i=$(this);n.resetWidgets(i);t.preventDefault();i=null});$.root_.on("click",'[data-action="launchFullscreen"]',function(t){n.launchFullscreen(document.documentElement);t.preventDefault()});$.root_.on("click",'[data-action="minifyMenu"]',function(t){var i=$(this);n.minifyMenu(i);t.preventDefault();i=null});$.root_.on("click",'[data-action="toggleMenu"]',function(t){n.toggleMenu();t.preventDefault()});$.root_.on("click",'[data-action="toggleShortcut"]',function(t){n.toggleShortcut();t.preventDefault()})},n.leftNav=function(){topmenu||$("nav ul").jarvismenu({accordion:menu_accordion||!0,speed:menu_speed||!0,closedSign:'<em class="fa fa-plus-square-o"><\/em>',openedSign:'<em class="fa fa-minus-square-o"><\/em>'})},n.domReadyMisc=function(){$("#search-mobile").click(function(){$.root_.addClass("search-mobile")});$("#cancel-search-js").click(function(){$.root_.removeClass("search-mobile")});$("#activity").click(function(n){var t=$(this),i;t.find(".badge").hasClass("bg-color-red")&&(t.find(".badge").removeClassPrefix("bg-color-"),t.find(".badge").text("0"));t.next(".ajax-dropdown").is(":visible")?(t.next(".ajax-dropdown").fadeOut(150),t.removeClass("active")):(t.next(".ajax-dropdown").fadeIn(150),t.addClass("active"));i=t.next(".ajax-dropdown").find(".btn-group > .active > input").attr("id");t=null;i=null;n.preventDefault()});$('input[name="activity"]').change(function(){var n=$(this);url=n.attr("id");container=$(".ajax-notifications");loadURL(url,container);n=null});$(document).mouseup(function(n){$(".ajax-dropdown").is(n.target)||$(".ajax-dropdown").has(n.target).length!==0||($(".ajax-dropdown").fadeOut(150),$(".ajax-dropdown").prev().removeClass("active"))});$("button[data-btn-loading]").on("click",function(){var n=$(this);n.button("loading");setTimeout(function(){n.button("reset")},3e3)});$this=$("#activity > .badge");parseInt($this.text())>0&&($this.addClass("bg-color-red bounceIn animated"),$this=null)},n.mobileCheckActivation=function(){$(window).width()<979?($.root_.addClass("mobile-view-activated"),$.root_.removeClass("minified")):$.root_.hasClass("mobile-view-activated")&&$.root_.removeClass("mobile-view-activated");debugState&&console.log("mobileCheckActivation")},n}({});if(initApp.addDeviceType(),initApp.menuPos(),jQuery(document).ready(function(){initApp.SmartActions();initApp.leftNav();initApp.domReadyMisc()}),function(n,t,i){function l(){h=t[e](function(){r.each(function(){var i,r,t=n(this),u=n.data(this,f);try{i=t.width()}catch(e){i=t.width}try{r=t.height()}catch(e){r=t.height}(i!==u.w||r!==u.h)&&t.trigger(s,[u.w=i,u.h=r])});l()},u[c])}var r=n([]),u=n.resize=n.extend(n.resize,{}),h,e="setTimeout",s="resize",f=s+"-special-event",c="delay",o="throttleWindow";u[c]=throttle_delay;u[o]=!0;n.event.special[s]={setup:function(){if(!u[o]&&this[e])return!1;var t=n(this);r=r.add(t);try{n.data(this,f,{w:t.width(),h:t.height()})}catch(i){n.data(this,f,{w:t.width,h:t.height})}r.length===1&&l()},teardown:function(){if(!u[o]&&this[e])return!1;var t=n(this);r=r.not(t);t.removeData(f);r.length||clearTimeout(h)},add:function(t){function s(t,u,e){var s=n(this),o=n.data(this,f);o&&(o.w=u!==i?u:s.width(),o.h=e!==i?e:s.height());r.apply(this,arguments)}if(!u[o]&&this[e])return!1;var r;if(n.isFunction(t))return r=t,s;r=t.handler;t.handler=s}}}(jQuery,this),$("#main").resize(function(){initApp.mobileCheckActivation()}),ie=function(){for(var i,n=3,t=document.createElement("div"),r=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",r[0];);return n>4?n:i}(),$.fn.extend({jarvismenu:function(n){var t=$.extend({accordion:"true",speed:200,closedSign:"[+]",openedSign:"[-]"},n),i=$(this);i.find("li").each(function(){$(this).find("ul").length!==0&&($(this).find("a:first").append("<b class='collapse-sign'>"+t.closedSign+"<\/b>"),$(this).find("a:first").attr("href")=="#"&&$(this).find("a:first").click(function(){return!1}))});i.find("li.active").each(function(){$(this).parents("ul").slideDown(t.speed);$(this).parents("ul").parent("li").find("b:first").html(t.openedSign);$(this).parents("ul").parent("li").addClass("open")});i.find("li a").click(function(){$(this).parent().find("ul").length!==0&&(t.accordion&&($(this).parent().find("ul").is(":visible")||(parents=$(this).parent().parents("ul"),visible=i.find("ul:visible"),visible.each(function(n){var i=!0;parents.each(function(t){if(parents[t]==visible[n])return i=!1,!1});i&&$(this).parent().find("ul")!=visible[n]&&$(visible[n]).slideUp(t.speed,function(){$(this).parent("li").find("b:first").html(t.closedSign);$(this).parent("li").removeClass("open")})}))),$(this).parent().find("ul:first").is(":visible")&&!$(this).parent().find("ul:first").hasClass("active")?$(this).parent().find("ul:first").slideUp(t.speed,function(){$(this).parent("li").removeClass("open");$(this).parent("li").find("b:first").delay(t.speed).html(t.closedSign)}):$(this).parent().find("ul:first").slideDown(t.speed,function(){$(this).parent("li").addClass("open");$(this).parent("li").find("b:first").delay(t.speed).html(t.openedSign)}))})}}),jQuery.fn.doesExist=function(){return jQuery(this).length>0},($.navAsAjax||$(".google_maps"))&&(gMapsLoaded=!1,window.gMapsCallback=function(){gMapsLoaded=!0;$(window).trigger("gMapsLoaded")},window.loadGoogleMaps=function(){if(gMapsLoaded)return window.gMapsCallback();var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("src","https://maps.google.com/maps/api/js?sensor=false&callback=gMapsCallback");(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(n)}),$.navAsAjax){$("nav").length&&checkURL();$(document).on("click",'nav a[href!="#"]',function(n){n.preventDefault();var t=$(n.currentTarget);t.parent().hasClass("active")||t.attr("target")||($.root_.hasClass("mobile-view-activated")?($.root_.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"),window.setTimeout(function(){window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+t.attr("href"):window.location.hash=t.attr("href")},150)):window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+t.attr("href"):window.location.hash=t.attr("href"))});$(document).on("click",'nav a[target="_blank"]',function(n){n.preventDefault();var t=$(n.currentTarget);window.open(t.attr("href"))});$(document).on("click",'nav a[target="_top"]',function(n){n.preventDefault();var t=$(n.currentTarget);window.location=t.attr("href")});$(document).on("click",'nav a[href="#"]',function(n){n.preventDefault()});$(window).on("hashchange",function(){checkURL()})}$("body").on("click",function(n){$('[rel="popover"], [data-rel="popover"]').each(function(){$(this).is(n.target)||$(this).has(n.target).length!==0||$(".popover").has(n.target).length!==0||$(this).popover("hide")})});$("body").on("hidden.bs.modal",".modal",function(){$(this).removeData("bs.modal")});